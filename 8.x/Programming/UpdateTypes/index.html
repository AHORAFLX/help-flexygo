<!DOCTYPE html><html lang="es" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Testing/">
      
      
        <link rel="next" href="../WebAPI/">
      
      
      <link rel="icon" href="../../docs_assets/images/logos/fl-favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Tipos de Actualización - Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/custom-colors.css">
    
      <link rel="stylesheet" href="../../stylesheets/fh-structural/base.css">
    
      <link rel="stylesheet" href="../../stylesheets/fh-structural/code-highlighting.css">
    
      <link rel="stylesheet" href="../../stylesheets/fh-structural/css-class-components.css">
    
      <link rel="stylesheet" href="../../stylesheets/fh-structural/404-error.css">
    
      <link rel="stylesheet" href="../../stylesheets/fh-structural/components/fh-modal.css">
    
      <link rel="stylesheet" href="../../stylesheets/fh-structural/components/fh-copy.css">
    
      <link rel="stylesheet" href="../../stylesheets/fh-structural/components/fh-namepropagator.css">
    
      <link rel="stylesheet" href="../../docs_assets/fh-structural/fonts/flags/flags.css">
    
      <link rel="stylesheet" href="../../stylesheets/flexygo-styles/main-flexygo-styles.css">
    
      <link rel="stylesheet" href="../../stylesheets/flexygo-styles/cols.css">
    
      <link rel="stylesheet" href="../../stylesheets/flexygo-styles/list-groups.css">
    
      <link rel="stylesheet" href="../../docs_assets/fonts/flexygo/utils.css">
    
      <link rel="stylesheet" href="../../docs_assets/fonts/flexygo/flexygo.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tipos-de-actualizacion" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="Docs" class="md-header__button md-logo" aria-label="Docs" data-md-component="logo">
      
  <img src="../../docs_assets/images/logos/fl.svg" alt="logo">

      Docs
    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Seleccionar idioma">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"></path></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <span onclick="changeLanguage('en')" class="md-select__link">
              English
            </span>
          </li>
        
          <li class="md-select__item">
            <span onclick="changeLanguage('es')" class="md-select__link">
              Español
            </span>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo" aria-label="Switch to dark mode" type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="darkmode" data-md-color-primary="indigo" data-md-color-accent="indigo" aria-label="Switch to light mode" type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8m0-1.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5m5.657-8.157a.75.75 0 0 1 0 1.061l-1.061 1.06a.749.749 0 0 1-1.275-.326.75.75 0 0 1 .215-.734l1.06-1.06a.75.75 0 0 1 1.06 0Zm-9.193 9.193a.75.75 0 0 1 0 1.06l-1.06 1.061a.75.75 0 1 1-1.061-1.06l1.06-1.061a.75.75 0 0 1 1.061 0M8 0a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 8 0M3 8a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h1.5A.75.75 0 0 1 3 8m13 0a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1 0-1.5h1.5A.75.75 0 0 1 16 8m-8 5a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5A.75.75 0 0 1 8 13m3.536-1.464a.75.75 0 0 1 1.06 0l1.061 1.06a.75.75 0 0 1-1.06 1.061l-1.061-1.06a.75.75 0 0 1 0-1.061M2.343 2.343a.75.75 0 0 1 1.061 0l1.06 1.061a.75.75 0 0 1-.018 1.042.75.75 0 0 1-1.042.018l-1.06-1.06a.75.75 0 0 1 0-1.06Z"></path></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="flx-sidebar md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="flx-sidebarheader">
                  <a href="../.." title="Docs" class="md-header__button md-logo" aria-label="Docs" data-md-component="logo">
                    
  <img src="../../docs_assets/images/logos/fl.svg" alt="logo">

                    Docs
                  </a>
                </div>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
    
    <ul class="md-nav__list" data-md-scrollfix>
        
            
            
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introducción a Flexygo
    
  </span>
  

      </a>
    </li>
  

        
            
            
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2">
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Ahora Business Hub
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Ahora Business Hub
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ahora%20Business%20Hub/AbhSign/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Firma Abh
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ahora%20Business%20Hub/AbhSms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Abh Sms
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ahora%20Business%20Hub/AbhTicket/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ticket Abh
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

        
            
            
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3">
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Conectores
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Conectores
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Connectors/AhoraERP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Integración con Ahora ERP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Connectors/AzureADIntegration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Integración con Azure AD
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Connectors/AzureFormRecognizer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Azure Form Recognizer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Connectors/ClaveAuthentication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Autenticación Cl@ve
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Connectors/FaceRecognition/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reconocimiento Facial
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Connectors/Google/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Integración con Google
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Connectors/GoogleAPIKey/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Google API Key
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Connectors/GooglePlaces/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Google Places
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Connectors/MailChimp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Integración con MailChimp
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Connectors/MailChimpProcesses/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Procesos de ejemplo de MailChimp
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Connectors/Office365/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Integración con Office 365
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Connectors/OpenAI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Integración con ChatGPT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Connectors/OtherflexygoIntegration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Integración con Flexygo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Connectors/Passbook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Integración con Passbook
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Connectors/PowerBI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Integración con Power BI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Connectors/PushNotifications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Notificaciones Push
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Connectors/RedSys/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Integración con RedSys
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Connectors/Scales/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Integración con Básculas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Connectors/SendinBlue/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Integración con SendinBlue
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Connectors/WacomSignature/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Integración con Wacom SDK
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

        
            
            
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4">
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Información
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Información
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Information/Addons/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Addons
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Information/FriendlyURLs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    URLs amigables
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Information/GoodPractices/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Buenas prácticas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Information/MFA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Flexygo MFA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Information/MailAccountsSettings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ajustes de cuenta de email
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Information/Navigator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modulo de navegación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Information/PageHierarchy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Page Hierarchy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Information/Security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

        
            
            
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5">
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Installation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Installation/1HowToInstall/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Instalación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Installation/CreatingIntefaceTest/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agregar un test de interfaz
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Installation/CreatingNugetPackage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Crear paquete NuGet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Installation/CreatingProduct/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Crear un producto
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Installation/CreatingUnitaryTest/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agregar un test unitario
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Installation/CreatingWebComponent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Crear un WebComponent propio
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

        
            
            
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6">
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Módulos
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Módulos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Modules/Chart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chart
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Modules/ChartII/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chart II
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Modules/Chatter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chatter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Modules/DocAndImageManager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Document Manager And Image Manager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Modules/Funnel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Funnel
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Modules/Kanban/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kanban
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Modules/Maps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Google Map
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Modules/ModuleManagement/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Modules/Modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Módulos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Modules/ObjectFilters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Filtros de Objetos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Modules/PlannerModule/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Planificador
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Modules/Popover/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Popover y Tooltip
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Modules/Scheduler%26Calendar/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Programador y Calendario
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Modules/TimelineModule/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Línea de tiempo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Modules/WebMail/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Web Mail
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

        
            
            
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7">
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    App Offline
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            App Offline
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Offline%20App/AccessandDescription/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Descripción de la App Offline
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Offline%20App/DesignEnvironment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Entorno de diseño
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Offline%20App/DesigningApp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Diseñar la App offline de flexygo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Offline%20App/NavigationOptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Opciones de navegación offline
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Offline%20App/OfflineAI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IA offline
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Offline%20App/OfflineAndEmulatordifferences/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Diferencias entre emulador y app
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Offline%20App/OfflineDatabase/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Base de datos offline
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Offline%20App/ReturnDataProcess/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Proceso de retorno de datos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Offline%20App/Trackingconfiguration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuración del seguimiento
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Offline%20App/UsefulTokens/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Useful tokens
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_11">
        
          
          <label class="md-nav__link" for="__nav_7_11" id="__nav_7_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Funciones JS
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_11">
            <span class="md-nav__icon md-icon"></span>
            Funciones JS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Offline%20App/JS%20Functions/AI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Offline%20App/JS%20Functions/Camera/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cámara
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Offline%20App/JS%20Functions/Exports/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Exportaciones (Exports)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Offline%20App/JS%20Functions/Forms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Formularios (Forms)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Offline%20App/JS%20Functions/Location/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GPS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Offline%20App/JS%20Functions/Messages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mensages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Offline%20App/JS%20Functions/NFC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NFC
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Offline%20App/JS%20Functions/Navigation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Navegación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Offline%20App/JS%20Functions/Online-navigation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Navegación online
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Offline%20App/JS%20Functions/Parser/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Parser
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Offline%20App/JS%20Functions/Utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Offline%20App/JS%20Functions/Zebra-Printer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Zebra Printer
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

        
            
            
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Programación
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Programación
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CommonFunctions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Funciones Comunes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ContextVariables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Variables de Contexto
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Controls/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Controles de formulario
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CustomDLL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DLL Personalizada
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CustomStored/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Procedimiento Almacenado Personalizado
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DatabaseScriptJobs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Trabajo de script de base de datos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Events/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Eventos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../FormValidators/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Validadores de Formulario
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Imports/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Importaciones
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LinkedServers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Servidores Vinculados
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../NoticesSentences/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sentencia de Notificación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Automatización de tests
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Tipos de Actualización
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Tipos de Actualización
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#proceso-dll" class="md-nav__link">
    <span class="md-ellipsis">
      Proceso DLL
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#procedimiento-almacenado-xml-facil" class="md-nav__link">
    <span class="md-ellipsis">
      Procedimiento Almacenado XML (Fácil)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#procedimiento-almacenado-xml-avanzado" class="md-nav__link">
    <span class="md-ellipsis">
      Procedimiento Almacenado XML (Avanzado)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#procedimiento-almacenado-json" class="md-nav__link">
    <span class="md-ellipsis">
      Procedimiento Almacenado JSON
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#procedimiento-almacenado-ahora-freeware" class="md-nav__link">
    <span class="md-ellipsis">
      Procedimiento Almacenado Ahora Freeware
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../WebAPI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Web
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../WebComponent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Componente Web
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

        
            
            
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9">
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Informes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Informes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Reporting/Newsandversionnotes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Noticias y notas de versión
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

        
            
            
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_10">
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Estilos
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Estilos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Style/CSSAndTypography/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tipografía y Estilos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Style/FlagIcons/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Íconos de Banderas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Style/GridOptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Opciones de la cuadrícula
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Style/Icon/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Iconos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Style/Timeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cronología
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

        
            
            
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_11">
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Plantillas
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Plantillas
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Templates/Formats/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Formatos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Templates/NavigationButton/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Botón de navegación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Templates/ObjectTemplates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Plantillas de Objetos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Templates/Skeletons/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Esqueletos de carga
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Templates/Targets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Objetivos
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

        
            
            
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_12">
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Formación
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            Formación
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Training/Courses/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cursos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Training/VideoTutorials/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VideoTutorials
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

        
    </ul>
</nav>
                  </div>
                </div>
              </div>
            
            <div class="fh-maincontainer">
              
                <div class="md-content" data-md-component="content">
                  <article class="md-content__inner md-typeset">
                    
                      



<h1 id="tipos-de-actualizacion">Tipos de Actualización<a class="headerlink" href="#tipos-de-actualizacion" title="Permanent link">¶</a></h1>
<p>Flexygo incluye diferentes formas de establecer acciones de <strong>Insertar</strong>, <strong>Actualizar</strong> y <strong>Eliminar</strong> objetos. Existen 4 modos diferentes.</p>
<table>
<thead>
<tr>
<th>Modo de actualización</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td>Estándar</td>
<td>Realiza una inserción, actualización o eliminación directa en la base de datos, basada en las propiedades del objeto.</td>
</tr>
<tr>
<td>Proceso DLL</td>
<td>Nos permite crear una DLL para realizar la inserción, eliminación y actualización.</td>
</tr>
<tr>
<td>C# Embedido</td>
<td>Nos permite crear con un C# embedido la inserción, eliminación y actualización de un objeto</td>
</tr>
<tr>
<td>Procedimiento Almacenado XML</td>
<td>Nos permite realizar operaciones adicionales sin tener que crear un proceso DLL.</td>
</tr>
<tr>
<td>Procedimiento Almacenado JSON</td>
<td>Nos permite realizar operaciones adicionales sin tener que crear un proceso en una DLL</td>
</tr>
<tr>
<td>Ahora Freeware Stored</td>
<td>Realiza una inserción, actualización o eliminación basadas en los procedimientos almacenados de AHORA ERP (si no se encuentran realizada el modo estándar). En un objeto adicional se asume que el objeto principal realiza la inserción en la tabla adicional</td>
</tr>
<tr>
<td>No hace absolutamente nada</td>
<td>No hace nada :)</td>
</tr>
</tbody>
</table>
<p>Existe un quinto modo llamado Procedimiento Almacenado Ahora Freeware, que se usa cuando se trabaja con el modelo de datos de Ahora Freeware ERP.</p>
<p>Para los ejemplos, hemos creado un objeto llamado systmpTes basado en dos tablas llamadas <strong>Test</strong> (Tabla 2) y <strong>TestConf</strong> (Tabla 3).</p>
<table>
<thead>
<tr>
<th>Columna</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td>TestId</td>
<td>int no nulo</td>
</tr>
<tr>
<td>Descrip</td>
<td>nvarchar(2000) no nulo</td>
</tr>
<tr>
<td>IdDoc</td>
<td>identidad bit</td>
</tr>
<tr>
<td>InsertUpdate</td>
<td>bit</td>
</tr>
<tr>
<td>User</td>
<td>nvarchar(50) permite nulo</td>
</tr>
<tr>
<td>InsertUpdateDate</td>
<td>datetime no nulo</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Columna</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td>TestId</td>
<td>int no nulo</td>
</tr>
<tr>
<td>Config</td>
<td>nvarchar(50) permite nulo</td>
</tr>
</tbody>
</table>
<h2 id="proceso-dll">Proceso DLL<a class="headerlink" href="#proceso-dll" title="Permanent link">¶</a></h2>
<p><fh-modal class="button" modal_id="fhmodal_insert_dll" modal_title="Función de insertar objeto">Insertar objeto</fh-modal>
<fh-modal class="button" modal_id="fhmodal_update_dll" modal_title="Función de actualizar objeto">Actualizar objeto</fh-modal>
<fh-modal class="button" modal_id="fhmodal_delete_dll" modal_title="Función de borrar objeto">Borrar objeto</fh-modal></p>
<h2 id="procedimiento-almacenado-xml-facil">Procedimiento Almacenado XML (Fácil)<a class="headerlink" href="#procedimiento-almacenado-xml-facil" title="Permanent link">¶</a></h2>
<p><fh-modal class="button" modal_id="fhmodal_insert_stored" modal_title="Insertar objeto con proceso almacenado simple">Insert objeto</fh-modal>
<fh-modal class="button" modal_id="fhmodal_update_stored" modal_title="Actualizar objeto con proceso almacenado simple">Actualizar objeto</fh-modal>
<fh-modal class="button" modal_id="fhmodal_delete_stored" modal_title="Borrar objeto con proceso almacenado simple">Borrar objeto</fh-modal></p>
<h2 id="procedimiento-almacenado-xml-avanzado">Procedimiento Almacenado XML (Avanzado)<a class="headerlink" href="#procedimiento-almacenado-xml-avanzado" title="Permanent link">¶</a></h2>
<p>Utiliza procedimientos almacenados optimizados para actualizar solo los campos que han cambiado.</p>
<p><fh-modal class="button" modal_id="fhmodal_insert_stored_advanced" modal_title="Insertar objeto con proceso almacenado complejo">Insert objeto</fh-modal>
<fh-modal class="button" modal_id="fhmodal_update_stored_advanced" modal_title="Actualizar objeto con proceso almacenado complejo">Actualizar objeto</fh-modal>
<fh-modal class="button" modal_id="fhmodal_delete_stored_advanced" modal_title="Borrar objeto con proceso almacenado complejo">Borrar objeto</fh-modal></p>
<h2 id="procedimiento-almacenado-json">Procedimiento Almacenado JSON<a class="headerlink" href="#procedimiento-almacenado-json" title="Permanent link">¶</a></h2>
<p><fh-modal class="button" modal_id="fhmodal_insert_json" modal_title="Insertar objeto con proceso almacenado JSON">Insert objeto</fh-modal>
<fh-modal class="button" modal_id="fhmodal_update_json" modal_title="Actualizar objeto con proceso almacenado JSON">Actualizar objeto</fh-modal>
<fh-modal class="button" modal_id="fhmodal_delete_json" modal_title="Borrar objeto con proceso almacenado JSON">Borrar objeto</fh-modal></p>
<h2 id="procedimiento-almacenado-ahora-freeware">Procedimiento Almacenado Ahora Freeware<a class="headerlink" href="#procedimiento-almacenado-ahora-freeware" title="Permanent link">¶</a></h2>
<p>Usar solo con el modelo de datos de Ahora Freeware ERP.</p>
<p><fh-modal class="button" modal_id="fhmodal_insert_stored_ahora" modal_title="Insertar objeto con proceso almacenado de Ahora Freeware">Insert objeto</fh-modal>
<fh-modal class="button" modal_id="fhmodal_update_stored_ahora" modal_title="Actualizar objeto con proceso almacenado de Ahora Freeware">Actualizar objeto</fh-modal>
<fh-modal class="button" modal_id="fhmodal_delete_stored_ahora" modal_title="Borrar objeto con proceso almacenado de Ahora Freeware">Borrar objeto</fh-modal></p>
<div id="fhmodal_insert_dll" class="language-vbnet highlight"><span class="filename">VB.net</span><pre><span></span><code><span id="__span-fhmodal_insert_dll-1"><a id="__codelineno-fhmodal_insert_dll-1" name="__codelineno-fhmodal_insert_dll-1" href="#__codelineno-fhmodal_insert_dll-1"></a><span class="k">Imports</span><span class="w"> </span><span class="nn">FLEXYGO.Configuration.Tokens</span>
</span><span id="__span-fhmodal_insert_dll-2"><a id="__codelineno-fhmodal_insert_dll-2" name="__codelineno-fhmodal_insert_dll-2" href="#__codelineno-fhmodal_insert_dll-2"></a><span class="k">Imports</span><span class="w"> </span><span class="nn">FLEXYGO.Data</span>
</span><span id="__span-fhmodal_insert_dll-3"><a id="__codelineno-fhmodal_insert_dll-3" name="__codelineno-fhmodal_insert_dll-3" href="#__codelineno-fhmodal_insert_dll-3"></a><span class="k">Imports</span><span class="w"> </span><span class="nn">FLEXYGO.Exceptions</span>
</span><span id="__span-fhmodal_insert_dll-4"><a id="__codelineno-fhmodal_insert_dll-4" name="__codelineno-fhmodal_insert_dll-4" href="#__codelineno-fhmodal_insert_dll-4"></a><span class="k">Imports</span><span class="w"> </span><span class="nn">FLEXYGO.Objects</span>
</span><span id="__span-fhmodal_insert_dll-5"><a id="__codelineno-fhmodal_insert_dll-5" name="__codelineno-fhmodal_insert_dll-5" href="#__codelineno-fhmodal_insert_dll-5"></a><span class="k">Imports</span><span class="w"> </span><span class="nn">FLEXYGO.Processing</span>
</span><span id="__span-fhmodal_insert_dll-6"><a id="__codelineno-fhmodal_insert_dll-6" name="__codelineno-fhmodal_insert_dll-6" href="#__codelineno-fhmodal_insert_dll-6"></a><span class="k">Imports</span><span class="w"> </span><span class="nn">FLEXYGO.Processing.ProcessManager</span>
</span><span id="__span-fhmodal_insert_dll-7"><a id="__codelineno-fhmodal_insert_dll-7" name="__codelineno-fhmodal_insert_dll-7" href="#__codelineno-fhmodal_insert_dll-7"></a><span class="k">Imports</span><span class="w"> </span><span class="nn">FLEXYGO.Utilities.General</span>
</span><span id="__span-fhmodal_insert_dll-8"><a id="__codelineno-fhmodal_insert_dll-8" name="__codelineno-fhmodal_insert_dll-8" href="#__codelineno-fhmodal_insert_dll-8"></a><span class="k">Imports</span><span class="w"> </span><span class="nn">FLEXYGO.Utilities.General.Util</span>
</span><span id="__span-fhmodal_insert_dll-9"><a id="__codelineno-fhmodal_insert_dll-9" name="__codelineno-fhmodal_insert_dll-9" href="#__codelineno-fhmodal_insert_dll-9"></a>
</span><span id="__span-fhmodal_insert_dll-10"><a id="__codelineno-fhmodal_insert_dll-10" name="__codelineno-fhmodal_insert_dll-10" href="#__codelineno-fhmodal_insert_dll-10"></a><span class="k">Public</span><span class="w"> </span><span class="k">Class</span><span class="w"> </span><span class="nc">SampleDataProcesses</span>
</span><span id="__span-fhmodal_insert_dll-11"><a id="__codelineno-fhmodal_insert_dll-11" name="__codelineno-fhmodal_insert_dll-11" href="#__codelineno-fhmodal_insert_dll-11"></a>
</span><span id="__span-fhmodal_insert_dll-12"><a id="__codelineno-fhmodal_insert_dll-12" name="__codelineno-fhmodal_insert_dll-12" href="#__codelineno-fhmodal_insert_dll-12"></a>
</span><span id="__span-fhmodal_insert_dll-13"><a id="__codelineno-fhmodal_insert_dll-13" name="__codelineno-fhmodal_insert_dll-13" href="#__codelineno-fhmodal_insert_dll-13"></a><span class="w">    </span><span class="c">'''''' &lt;summary&gt;</span>
</span><span id="__span-fhmodal_insert_dll-14"><a id="__codelineno-fhmodal_insert_dll-14" name="__codelineno-fhmodal_insert_dll-14" href="#__codelineno-fhmodal_insert_dll-14"></a><span class="w">    </span><span class="c">'''''' Insert new object</span>
</span><span id="__span-fhmodal_insert_dll-15"><a id="__codelineno-fhmodal_insert_dll-15" name="__codelineno-fhmodal_insert_dll-15" href="#__codelineno-fhmodal_insert_dll-15"></a><span class="w">    </span><span class="c">'''''' &lt;/summary&gt;</span>
</span><span id="__span-fhmodal_insert_dll-16"><a id="__codelineno-fhmodal_insert_dll-16" name="__codelineno-fhmodal_insert_dll-16" href="#__codelineno-fhmodal_insert_dll-16"></a><span class="w">    </span><span class="c">'''''' &lt;param name="Entity"&gt;User Entity object with all info&lt;/param&gt;</span>
</span><span id="__span-fhmodal_insert_dll-17"><a id="__codelineno-fhmodal_insert_dll-17" name="__codelineno-fhmodal_insert_dll-17" href="#__codelineno-fhmodal_insert_dll-17"></a><span class="w">    </span><span class="c">'''''' &lt;param name="Ret"&gt;ProcessHelper for returning results&lt;/param&gt;</span>
</span><span id="__span-fhmodal_insert_dll-18"><a id="__codelineno-fhmodal_insert_dll-18" name="__codelineno-fhmodal_insert_dll-18" href="#__codelineno-fhmodal_insert_dll-18"></a><span class="w">    </span><span class="k">Public</span><span class="w"> </span><span class="k">Shared</span><span class="w"> </span><span class="k">Function</span><span class="w"> </span><span class="nf">InsertObj</span><span class="p">(</span><span class="n">Entity</span><span class="w"> </span><span class="ow">As</span><span class="w"> </span><span class="n">EntityObject</span><span class="p">,</span><span class="w"> </span><span class="n">Ret</span><span class="w"> </span><span class="ow">As</span><span class="w"> </span><span class="n">ProcessHelper</span><span class="p">)</span><span class="w"> </span><span class="ow">As</span><span class="w"> </span><span class="kt">Boolean</span>
</span><span id="__span-fhmodal_insert_dll-19"><a id="__codelineno-fhmodal_insert_dll-19" name="__codelineno-fhmodal_insert_dll-19" href="#__codelineno-fhmodal_insert_dll-19"></a><span class="w">        </span><span class="k">Try</span>
</span><span id="__span-fhmodal_insert_dll-20"><a id="__codelineno-fhmodal_insert_dll-20" name="__codelineno-fhmodal_insert_dll-20" href="#__codelineno-fhmodal_insert_dll-20"></a>
</span><span id="__span-fhmodal_insert_dll-21"><a id="__codelineno-fhmodal_insert_dll-21" name="__codelineno-fhmodal_insert_dll-21" href="#__codelineno-fhmodal_insert_dll-21"></a><span class="w">            </span><span class="k">If</span><span class="w"> </span><span class="k">Not</span><span class="w"> </span><span class="n">Entity</span><span class="p">.</span><span class="n">CanInsert</span><span class="w"> </span><span class="k">Then</span>
</span><span id="__span-fhmodal_insert_dll-22"><a id="__codelineno-fhmodal_insert_dll-22" name="__codelineno-fhmodal_insert_dll-22" href="#__codelineno-fhmodal_insert_dll-22"></a><span class="w">                </span><span class="n">Ret</span><span class="p">.</span><span class="n">LastException</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">New</span><span class="w"> </span><span class="n">LocalizedException</span><span class="p">(</span><span class="s">"You do Not have enough credentials to insert this Object."</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_dll-23"><a id="__codelineno-fhmodal_insert_dll-23" name="__codelineno-fhmodal_insert_dll-23" href="#__codelineno-fhmodal_insert_dll-23"></a><span class="w">                </span><span class="k">Return</span><span class="w"> </span><span class="k">False</span>
</span><span id="__span-fhmodal_insert_dll-24"><a id="__codelineno-fhmodal_insert_dll-24" name="__codelineno-fhmodal_insert_dll-24" href="#__codelineno-fhmodal_insert_dll-24"></a><span class="w">            </span><span class="k">End</span><span class="w"> </span><span class="k">If</span>
</span><span id="__span-fhmodal_insert_dll-25"><a id="__codelineno-fhmodal_insert_dll-25" name="__codelineno-fhmodal_insert_dll-25" href="#__codelineno-fhmodal_insert_dll-25"></a>
</span><span id="__span-fhmodal_insert_dll-26"><a id="__codelineno-fhmodal_insert_dll-26" name="__codelineno-fhmodal_insert_dll-26" href="#__codelineno-fhmodal_insert_dll-26"></a><span class="w">            </span><span class="c">''''Do something here before insert</span>
</span><span id="__span-fhmodal_insert_dll-27"><a id="__codelineno-fhmodal_insert_dll-27" name="__codelineno-fhmodal_insert_dll-27" href="#__codelineno-fhmodal_insert_dll-27"></a>
</span><span id="__span-fhmodal_insert_dll-28"><a id="__codelineno-fhmodal_insert_dll-28" name="__codelineno-fhmodal_insert_dll-28" href="#__codelineno-fhmodal_insert_dll-28"></a>
</span><span id="__span-fhmodal_insert_dll-29"><a id="__codelineno-fhmodal_insert_dll-29" name="__codelineno-fhmodal_insert_dll-29" href="#__codelineno-fhmodal_insert_dll-29"></a><span class="w">            </span><span class="k">If</span><span class="w"> </span><span class="n">Entity</span><span class="p">.</span><span class="n">InsertProcess</span><span class="p">(</span><span class="n">Entity</span><span class="p">.</span><span class="n">TableName</span><span class="p">,</span><span class="w"> </span><span class="n">Settings</span><span class="p">.</span><span class="n">ObjectSettings</span><span class="p">.</span><span class="n">eUpdateType</span><span class="p">.</span><span class="n">Standard</span><span class="p">,</span><span class="w"> </span><span class="s">""</span><span class="p">)</span><span class="w"> </span><span class="k">Then</span>
</span><span id="__span-fhmodal_insert_dll-30"><a id="__codelineno-fhmodal_insert_dll-30" name="__codelineno-fhmodal_insert_dll-30" href="#__codelineno-fhmodal_insert_dll-30"></a>
</span><span id="__span-fhmodal_insert_dll-31"><a id="__codelineno-fhmodal_insert_dll-31" name="__codelineno-fhmodal_insert_dll-31" href="#__codelineno-fhmodal_insert_dll-31"></a><span class="w">                </span><span class="c">''''Do something here after insert</span>
</span><span id="__span-fhmodal_insert_dll-32"><a id="__codelineno-fhmodal_insert_dll-32" name="__codelineno-fhmodal_insert_dll-32" href="#__codelineno-fhmodal_insert_dll-32"></a>
</span><span id="__span-fhmodal_insert_dll-33"><a id="__codelineno-fhmodal_insert_dll-33" name="__codelineno-fhmodal_insert_dll-33" href="#__codelineno-fhmodal_insert_dll-33"></a><span class="w">                </span><span class="n">Ret</span><span class="p">.</span><span class="n">Success</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">True</span>
</span><span id="__span-fhmodal_insert_dll-34"><a id="__codelineno-fhmodal_insert_dll-34" name="__codelineno-fhmodal_insert_dll-34" href="#__codelineno-fhmodal_insert_dll-34"></a><span class="w">                </span><span class="k">Return</span><span class="w"> </span><span class="k">True</span>
</span><span id="__span-fhmodal_insert_dll-35"><a id="__codelineno-fhmodal_insert_dll-35" name="__codelineno-fhmodal_insert_dll-35" href="#__codelineno-fhmodal_insert_dll-35"></a><span class="w">            </span><span class="k">Else</span>
</span><span id="__span-fhmodal_insert_dll-36"><a id="__codelineno-fhmodal_insert_dll-36" name="__codelineno-fhmodal_insert_dll-36" href="#__codelineno-fhmodal_insert_dll-36"></a><span class="w">                </span><span class="n">Ret</span><span class="p">.</span><span class="n">Success</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">False</span>
</span><span id="__span-fhmodal_insert_dll-37"><a id="__codelineno-fhmodal_insert_dll-37" name="__codelineno-fhmodal_insert_dll-37" href="#__codelineno-fhmodal_insert_dll-37"></a><span class="w">                </span><span class="n">Ret</span><span class="p">.</span><span class="n">LastException</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Entity</span><span class="p">.</span><span class="n">LastException</span>
</span><span id="__span-fhmodal_insert_dll-38"><a id="__codelineno-fhmodal_insert_dll-38" name="__codelineno-fhmodal_insert_dll-38" href="#__codelineno-fhmodal_insert_dll-38"></a><span class="w">                </span><span class="k">Return</span><span class="w"> </span><span class="k">False</span>
</span><span id="__span-fhmodal_insert_dll-39"><a id="__codelineno-fhmodal_insert_dll-39" name="__codelineno-fhmodal_insert_dll-39" href="#__codelineno-fhmodal_insert_dll-39"></a><span class="w">            </span><span class="k">End</span><span class="w"> </span><span class="k">If</span>
</span><span id="__span-fhmodal_insert_dll-40"><a id="__codelineno-fhmodal_insert_dll-40" name="__codelineno-fhmodal_insert_dll-40" href="#__codelineno-fhmodal_insert_dll-40"></a>
</span><span id="__span-fhmodal_insert_dll-41"><a id="__codelineno-fhmodal_insert_dll-41" name="__codelineno-fhmodal_insert_dll-41" href="#__codelineno-fhmodal_insert_dll-41"></a><span class="w">        </span><span class="k">Catch</span><span class="w"> </span><span class="n">ex</span><span class="w"> </span><span class="ow">As</span><span class="w"> </span><span class="n">Exception</span>
</span><span id="__span-fhmodal_insert_dll-42"><a id="__codelineno-fhmodal_insert_dll-42" name="__codelineno-fhmodal_insert_dll-42" href="#__codelineno-fhmodal_insert_dll-42"></a><span class="w">            </span><span class="n">Ret</span><span class="p">.</span><span class="n">Success</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">False</span>
</span><span id="__span-fhmodal_insert_dll-43"><a id="__codelineno-fhmodal_insert_dll-43" name="__codelineno-fhmodal_insert_dll-43" href="#__codelineno-fhmodal_insert_dll-43"></a><span class="w">            </span><span class="n">Ret</span><span class="p">.</span><span class="n">LastException</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ex</span>
</span><span id="__span-fhmodal_insert_dll-44"><a id="__codelineno-fhmodal_insert_dll-44" name="__codelineno-fhmodal_insert_dll-44" href="#__codelineno-fhmodal_insert_dll-44"></a><span class="w">            </span><span class="k">Return</span><span class="w"> </span><span class="k">False</span>
</span><span id="__span-fhmodal_insert_dll-45"><a id="__codelineno-fhmodal_insert_dll-45" name="__codelineno-fhmodal_insert_dll-45" href="#__codelineno-fhmodal_insert_dll-45"></a><span class="w">        </span><span class="k">End</span><span class="w"> </span><span class="k">Try</span>
</span><span id="__span-fhmodal_insert_dll-46"><a id="__codelineno-fhmodal_insert_dll-46" name="__codelineno-fhmodal_insert_dll-46" href="#__codelineno-fhmodal_insert_dll-46"></a><span class="w">    </span><span class="k">End</span><span class="w"> </span><span class="k">Function</span><span class="w">   </span>
</span><span id="__span-fhmodal_insert_dll-47"><a id="__codelineno-fhmodal_insert_dll-47" name="__codelineno-fhmodal_insert_dll-47" href="#__codelineno-fhmodal_insert_dll-47"></a><span class="k">End</span><span class="w"> </span><span class="k">Class</span>
</span></code></pre></div>
<div id="fhmodal_update_dll" class="language-vbnet highlight"><span class="filename">VB.net</span><pre><span></span><code><span id="__span-fhmodal_update_dll-1"><a id="__codelineno-fhmodal_update_dll-1" name="__codelineno-fhmodal_update_dll-1" href="#__codelineno-fhmodal_update_dll-1"></a><span class="k">Public</span><span class="w"> </span><span class="k">Shared</span><span class="w"> </span><span class="k">Function</span><span class="w"> </span><span class="nf">UpdateObj</span><span class="p">(</span><span class="n">Entity</span><span class="w"> </span><span class="ow">As</span><span class="w"> </span><span class="n">EntityObject</span><span class="p">,</span><span class="w"> </span><span class="n">Ret</span><span class="w"> </span><span class="ow">As</span><span class="w"> </span><span class="n">ProcessHelper</span><span class="p">)</span><span class="w"> </span><span class="ow">As</span><span class="w"> </span><span class="kt">Boolean</span>
</span><span id="__span-fhmodal_update_dll-2"><a id="__codelineno-fhmodal_update_dll-2" name="__codelineno-fhmodal_update_dll-2" href="#__codelineno-fhmodal_update_dll-2"></a><span class="w">        </span><span class="k">Try</span>
</span><span id="__span-fhmodal_update_dll-3"><a id="__codelineno-fhmodal_update_dll-3" name="__codelineno-fhmodal_update_dll-3" href="#__codelineno-fhmodal_update_dll-3"></a>
</span><span id="__span-fhmodal_update_dll-4"><a id="__codelineno-fhmodal_update_dll-4" name="__codelineno-fhmodal_update_dll-4" href="#__codelineno-fhmodal_update_dll-4"></a><span class="w">            </span><span class="k">If</span><span class="w"> </span><span class="k">Not</span><span class="w"> </span><span class="n">Entity</span><span class="p">.</span><span class="n">CanUpdate</span><span class="w"> </span><span class="k">Then</span>
</span><span id="__span-fhmodal_update_dll-5"><a id="__codelineno-fhmodal_update_dll-5" name="__codelineno-fhmodal_update_dll-5" href="#__codelineno-fhmodal_update_dll-5"></a><span class="w">                </span><span class="n">Ret</span><span class="p">.</span><span class="n">LastException</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">New</span><span class="w"> </span><span class="n">LocalizedException</span><span class="p">(</span><span class="s">"You do Not have enough credentials to update this Object."</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_dll-6"><a id="__codelineno-fhmodal_update_dll-6" name="__codelineno-fhmodal_update_dll-6" href="#__codelineno-fhmodal_update_dll-6"></a><span class="w">                </span><span class="k">Return</span><span class="w"> </span><span class="k">False</span>
</span><span id="__span-fhmodal_update_dll-7"><a id="__codelineno-fhmodal_update_dll-7" name="__codelineno-fhmodal_update_dll-7" href="#__codelineno-fhmodal_update_dll-7"></a><span class="w">            </span><span class="k">End</span><span class="w"> </span><span class="k">If</span>
</span><span id="__span-fhmodal_update_dll-8"><a id="__codelineno-fhmodal_update_dll-8" name="__codelineno-fhmodal_update_dll-8" href="#__codelineno-fhmodal_update_dll-8"></a>
</span><span id="__span-fhmodal_update_dll-9"><a id="__codelineno-fhmodal_update_dll-9" name="__codelineno-fhmodal_update_dll-9" href="#__codelineno-fhmodal_update_dll-9"></a><span class="w">            </span><span class="k">Dim</span><span class="w"> </span><span class="n">lTabla</span><span class="w"> </span><span class="ow">As</span><span class="w"> </span><span class="n">DataTable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Entity</span><span class="p">.</span><span class="n">GetData</span><span class="p">.</span><span class="n">Tables</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="n">GetChanges</span>
</span><span id="__span-fhmodal_update_dll-10"><a id="__codelineno-fhmodal_update_dll-10" name="__codelineno-fhmodal_update_dll-10" href="#__codelineno-fhmodal_update_dll-10"></a>
</span><span id="__span-fhmodal_update_dll-11"><a id="__codelineno-fhmodal_update_dll-11" name="__codelineno-fhmodal_update_dll-11" href="#__codelineno-fhmodal_update_dll-11"></a><span class="w">            </span><span class="c">''Dim OldValue As String = lTabla.Rows(0)("my_data_field", DataRowVersion.Original)</span>
</span><span id="__span-fhmodal_update_dll-12"><a id="__codelineno-fhmodal_update_dll-12" name="__codelineno-fhmodal_update_dll-12" href="#__codelineno-fhmodal_update_dll-12"></a><span class="w">            </span><span class="c">''Dim NewValue As String = lTabla.Rows(0)("my_data_field", DataRowVersion.Original)</span>
</span><span id="__span-fhmodal_update_dll-13"><a id="__codelineno-fhmodal_update_dll-13" name="__codelineno-fhmodal_update_dll-13" href="#__codelineno-fhmodal_update_dll-13"></a><span class="w">            </span><span class="c">''Use this sintax to compare old and new values</span>
</span><span id="__span-fhmodal_update_dll-14"><a id="__codelineno-fhmodal_update_dll-14" name="__codelineno-fhmodal_update_dll-14" href="#__codelineno-fhmodal_update_dll-14"></a>
</span><span id="__span-fhmodal_update_dll-15"><a id="__codelineno-fhmodal_update_dll-15" name="__codelineno-fhmodal_update_dll-15" href="#__codelineno-fhmodal_update_dll-15"></a><span class="w">            </span><span class="c">''''Do something here begore update.</span>
</span><span id="__span-fhmodal_update_dll-16"><a id="__codelineno-fhmodal_update_dll-16" name="__codelineno-fhmodal_update_dll-16" href="#__codelineno-fhmodal_update_dll-16"></a>
</span><span id="__span-fhmodal_update_dll-17"><a id="__codelineno-fhmodal_update_dll-17" name="__codelineno-fhmodal_update_dll-17" href="#__codelineno-fhmodal_update_dll-17"></a><span class="w">            </span><span class="k">If</span><span class="w"> </span><span class="n">Entity</span><span class="p">.</span><span class="n">UpdateProcess</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">ObjectSettings</span><span class="p">.</span><span class="n">eUpdateType</span><span class="p">.</span><span class="n">Standard</span><span class="p">,</span><span class="w"> </span><span class="s">""</span><span class="p">)</span><span class="w"> </span><span class="k">Then</span>
</span><span id="__span-fhmodal_update_dll-18"><a id="__codelineno-fhmodal_update_dll-18" name="__codelineno-fhmodal_update_dll-18" href="#__codelineno-fhmodal_update_dll-18"></a>
</span><span id="__span-fhmodal_update_dll-19"><a id="__codelineno-fhmodal_update_dll-19" name="__codelineno-fhmodal_update_dll-19" href="#__codelineno-fhmodal_update_dll-19"></a>
</span><span id="__span-fhmodal_update_dll-20"><a id="__codelineno-fhmodal_update_dll-20" name="__codelineno-fhmodal_update_dll-20" href="#__codelineno-fhmodal_update_dll-20"></a><span class="w">                </span><span class="c">''''Do something here after update.</span>
</span><span id="__span-fhmodal_update_dll-21"><a id="__codelineno-fhmodal_update_dll-21" name="__codelineno-fhmodal_update_dll-21" href="#__codelineno-fhmodal_update_dll-21"></a>
</span><span id="__span-fhmodal_update_dll-22"><a id="__codelineno-fhmodal_update_dll-22" name="__codelineno-fhmodal_update_dll-22" href="#__codelineno-fhmodal_update_dll-22"></a><span class="w">                </span><span class="n">Ret</span><span class="p">.</span><span class="n">Success</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">True</span>
</span><span id="__span-fhmodal_update_dll-23"><a id="__codelineno-fhmodal_update_dll-23" name="__codelineno-fhmodal_update_dll-23" href="#__codelineno-fhmodal_update_dll-23"></a><span class="w">                </span><span class="k">Return</span><span class="w"> </span><span class="k">True</span>
</span><span id="__span-fhmodal_update_dll-24"><a id="__codelineno-fhmodal_update_dll-24" name="__codelineno-fhmodal_update_dll-24" href="#__codelineno-fhmodal_update_dll-24"></a><span class="w">            </span><span class="k">Else</span>
</span><span id="__span-fhmodal_update_dll-25"><a id="__codelineno-fhmodal_update_dll-25" name="__codelineno-fhmodal_update_dll-25" href="#__codelineno-fhmodal_update_dll-25"></a><span class="w">                </span><span class="n">Ret</span><span class="p">.</span><span class="n">Success</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">False</span>
</span><span id="__span-fhmodal_update_dll-26"><a id="__codelineno-fhmodal_update_dll-26" name="__codelineno-fhmodal_update_dll-26" href="#__codelineno-fhmodal_update_dll-26"></a><span class="w">                </span><span class="n">Ret</span><span class="p">.</span><span class="n">LastException</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Entity</span><span class="p">.</span><span class="n">LastException</span>
</span><span id="__span-fhmodal_update_dll-27"><a id="__codelineno-fhmodal_update_dll-27" name="__codelineno-fhmodal_update_dll-27" href="#__codelineno-fhmodal_update_dll-27"></a><span class="w">                </span><span class="k">Return</span><span class="w"> </span><span class="k">False</span>
</span><span id="__span-fhmodal_update_dll-28"><a id="__codelineno-fhmodal_update_dll-28" name="__codelineno-fhmodal_update_dll-28" href="#__codelineno-fhmodal_update_dll-28"></a><span class="w">            </span><span class="k">End</span><span class="w"> </span><span class="k">If</span>
</span><span id="__span-fhmodal_update_dll-29"><a id="__codelineno-fhmodal_update_dll-29" name="__codelineno-fhmodal_update_dll-29" href="#__codelineno-fhmodal_update_dll-29"></a>
</span><span id="__span-fhmodal_update_dll-30"><a id="__codelineno-fhmodal_update_dll-30" name="__codelineno-fhmodal_update_dll-30" href="#__codelineno-fhmodal_update_dll-30"></a><span class="w">        </span><span class="k">Catch</span><span class="w"> </span><span class="n">ex</span><span class="w"> </span><span class="ow">As</span><span class="w"> </span><span class="n">Exception</span>
</span><span id="__span-fhmodal_update_dll-31"><a id="__codelineno-fhmodal_update_dll-31" name="__codelineno-fhmodal_update_dll-31" href="#__codelineno-fhmodal_update_dll-31"></a><span class="w">            </span><span class="n">Ret</span><span class="p">.</span><span class="n">Success</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">False</span>
</span><span id="__span-fhmodal_update_dll-32"><a id="__codelineno-fhmodal_update_dll-32" name="__codelineno-fhmodal_update_dll-32" href="#__codelineno-fhmodal_update_dll-32"></a><span class="w">            </span><span class="n">Ret</span><span class="p">.</span><span class="n">LastException</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ex</span>
</span><span id="__span-fhmodal_update_dll-33"><a id="__codelineno-fhmodal_update_dll-33" name="__codelineno-fhmodal_update_dll-33" href="#__codelineno-fhmodal_update_dll-33"></a><span class="w">            </span><span class="k">Return</span><span class="w"> </span><span class="k">False</span>
</span><span id="__span-fhmodal_update_dll-34"><a id="__codelineno-fhmodal_update_dll-34" name="__codelineno-fhmodal_update_dll-34" href="#__codelineno-fhmodal_update_dll-34"></a><span class="w">        </span><span class="k">End</span><span class="w"> </span><span class="k">Try</span>
</span><span id="__span-fhmodal_update_dll-35"><a id="__codelineno-fhmodal_update_dll-35" name="__codelineno-fhmodal_update_dll-35" href="#__codelineno-fhmodal_update_dll-35"></a><span class="w">    </span><span class="k">End</span><span class="w"> </span><span class="k">Function</span>
</span></code></pre></div>
<div id="fhmodal_delete_dll" class="language-vbnet highlight"><span class="filename">VB.net</span><pre><span></span><code><span id="__span-fhmodal_delete_dll-1"><a id="__codelineno-fhmodal_delete_dll-1" name="__codelineno-fhmodal_delete_dll-1" href="#__codelineno-fhmodal_delete_dll-1"></a><span class="k">Public</span><span class="w"> </span><span class="k">Shared</span><span class="w"> </span><span class="k">Function</span><span class="w"> </span><span class="nf">DeleteObj</span><span class="p">(</span><span class="n">Entity</span><span class="w"> </span><span class="ow">As</span><span class="w"> </span><span class="n">EntityObject</span><span class="p">,</span><span class="w"> </span><span class="n">Ret</span><span class="w"> </span><span class="ow">As</span><span class="w"> </span><span class="n">ProcessHelper</span><span class="p">)</span><span class="w"> </span><span class="ow">As</span><span class="w"> </span><span class="kt">Boolean</span>
</span><span id="__span-fhmodal_delete_dll-2"><a id="__codelineno-fhmodal_delete_dll-2" name="__codelineno-fhmodal_delete_dll-2" href="#__codelineno-fhmodal_delete_dll-2"></a><span class="w">        </span><span class="k">Try</span>
</span><span id="__span-fhmodal_delete_dll-3"><a id="__codelineno-fhmodal_delete_dll-3" name="__codelineno-fhmodal_delete_dll-3" href="#__codelineno-fhmodal_delete_dll-3"></a>
</span><span id="__span-fhmodal_delete_dll-4"><a id="__codelineno-fhmodal_delete_dll-4" name="__codelineno-fhmodal_delete_dll-4" href="#__codelineno-fhmodal_delete_dll-4"></a><span class="w">            </span><span class="k">If</span><span class="w"> </span><span class="k">Not</span><span class="w"> </span><span class="n">Entity</span><span class="p">.</span><span class="n">CanDelete</span><span class="w"> </span><span class="k">Then</span>
</span><span id="__span-fhmodal_delete_dll-5"><a id="__codelineno-fhmodal_delete_dll-5" name="__codelineno-fhmodal_delete_dll-5" href="#__codelineno-fhmodal_delete_dll-5"></a><span class="w">                </span><span class="n">Ret</span><span class="p">.</span><span class="n">LastException</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">New</span><span class="w"> </span><span class="n">LocalizedException</span><span class="p">(</span><span class="s">"You do Not have enough credentials to delete this Object."</span><span class="p">)</span>
</span><span id="__span-fhmodal_delete_dll-6"><a id="__codelineno-fhmodal_delete_dll-6" name="__codelineno-fhmodal_delete_dll-6" href="#__codelineno-fhmodal_delete_dll-6"></a><span class="w">                </span><span class="k">Return</span><span class="w"> </span><span class="k">False</span>
</span><span id="__span-fhmodal_delete_dll-7"><a id="__codelineno-fhmodal_delete_dll-7" name="__codelineno-fhmodal_delete_dll-7" href="#__codelineno-fhmodal_delete_dll-7"></a><span class="w">            </span><span class="k">End</span><span class="w"> </span><span class="k">If</span>
</span><span id="__span-fhmodal_delete_dll-8"><a id="__codelineno-fhmodal_delete_dll-8" name="__codelineno-fhmodal_delete_dll-8" href="#__codelineno-fhmodal_delete_dll-8"></a>
</span><span id="__span-fhmodal_delete_dll-9"><a id="__codelineno-fhmodal_delete_dll-9" name="__codelineno-fhmodal_delete_dll-9" href="#__codelineno-fhmodal_delete_dll-9"></a><span class="w">            </span><span class="c">''Do something here before delete</span>
</span><span id="__span-fhmodal_delete_dll-10"><a id="__codelineno-fhmodal_delete_dll-10" name="__codelineno-fhmodal_delete_dll-10" href="#__codelineno-fhmodal_delete_dll-10"></a>
</span><span id="__span-fhmodal_delete_dll-11"><a id="__codelineno-fhmodal_delete_dll-11" name="__codelineno-fhmodal_delete_dll-11" href="#__codelineno-fhmodal_delete_dll-11"></a><span class="w">            </span><span class="k">If</span><span class="w"> </span><span class="n">Entity</span><span class="p">.</span><span class="n">DeleteProcess</span><span class="p">(</span><span class="n">Entity</span><span class="p">.</span><span class="n">TableName</span><span class="p">,</span><span class="w"> </span><span class="n">Settings</span><span class="p">.</span><span class="n">ObjectSettings</span><span class="p">.</span><span class="n">eUpdateType</span><span class="p">.</span><span class="n">Standard</span><span class="p">,</span><span class="w"> </span><span class="s">""</span><span class="p">)</span><span class="w"> </span><span class="k">Then</span>
</span><span id="__span-fhmodal_delete_dll-12"><a id="__codelineno-fhmodal_delete_dll-12" name="__codelineno-fhmodal_delete_dll-12" href="#__codelineno-fhmodal_delete_dll-12"></a>
</span><span id="__span-fhmodal_delete_dll-13"><a id="__codelineno-fhmodal_delete_dll-13" name="__codelineno-fhmodal_delete_dll-13" href="#__codelineno-fhmodal_delete_dll-13"></a><span class="w">                </span><span class="c">''Do something here after delete</span>
</span><span id="__span-fhmodal_delete_dll-14"><a id="__codelineno-fhmodal_delete_dll-14" name="__codelineno-fhmodal_delete_dll-14" href="#__codelineno-fhmodal_delete_dll-14"></a>
</span><span id="__span-fhmodal_delete_dll-15"><a id="__codelineno-fhmodal_delete_dll-15" name="__codelineno-fhmodal_delete_dll-15" href="#__codelineno-fhmodal_delete_dll-15"></a><span class="w">                </span><span class="n">Ret</span><span class="p">.</span><span class="n">Success</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">True</span>
</span><span id="__span-fhmodal_delete_dll-16"><a id="__codelineno-fhmodal_delete_dll-16" name="__codelineno-fhmodal_delete_dll-16" href="#__codelineno-fhmodal_delete_dll-16"></a><span class="w">                </span><span class="k">Return</span><span class="w"> </span><span class="k">True</span>
</span><span id="__span-fhmodal_delete_dll-17"><a id="__codelineno-fhmodal_delete_dll-17" name="__codelineno-fhmodal_delete_dll-17" href="#__codelineno-fhmodal_delete_dll-17"></a><span class="w">            </span><span class="k">Else</span>
</span><span id="__span-fhmodal_delete_dll-18"><a id="__codelineno-fhmodal_delete_dll-18" name="__codelineno-fhmodal_delete_dll-18" href="#__codelineno-fhmodal_delete_dll-18"></a><span class="w">                </span><span class="n">Ret</span><span class="p">.</span><span class="n">Success</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">False</span>
</span><span id="__span-fhmodal_delete_dll-19"><a id="__codelineno-fhmodal_delete_dll-19" name="__codelineno-fhmodal_delete_dll-19" href="#__codelineno-fhmodal_delete_dll-19"></a><span class="w">                </span><span class="n">Ret</span><span class="p">.</span><span class="n">LastException</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Entity</span><span class="p">.</span><span class="n">LastException</span>
</span><span id="__span-fhmodal_delete_dll-20"><a id="__codelineno-fhmodal_delete_dll-20" name="__codelineno-fhmodal_delete_dll-20" href="#__codelineno-fhmodal_delete_dll-20"></a><span class="w">                </span><span class="k">Return</span><span class="w"> </span><span class="k">False</span>
</span><span id="__span-fhmodal_delete_dll-21"><a id="__codelineno-fhmodal_delete_dll-21" name="__codelineno-fhmodal_delete_dll-21" href="#__codelineno-fhmodal_delete_dll-21"></a><span class="w">            </span><span class="k">End</span><span class="w"> </span><span class="k">If</span>
</span><span id="__span-fhmodal_delete_dll-22"><a id="__codelineno-fhmodal_delete_dll-22" name="__codelineno-fhmodal_delete_dll-22" href="#__codelineno-fhmodal_delete_dll-22"></a>
</span><span id="__span-fhmodal_delete_dll-23"><a id="__codelineno-fhmodal_delete_dll-23" name="__codelineno-fhmodal_delete_dll-23" href="#__codelineno-fhmodal_delete_dll-23"></a><span class="w">        </span><span class="k">Catch</span><span class="w"> </span><span class="n">ex</span><span class="w"> </span><span class="ow">As</span><span class="w"> </span><span class="n">Exception</span>
</span><span id="__span-fhmodal_delete_dll-24"><a id="__codelineno-fhmodal_delete_dll-24" name="__codelineno-fhmodal_delete_dll-24" href="#__codelineno-fhmodal_delete_dll-24"></a><span class="w">            </span><span class="n">Ret</span><span class="p">.</span><span class="n">Success</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">False</span>
</span><span id="__span-fhmodal_delete_dll-25"><a id="__codelineno-fhmodal_delete_dll-25" name="__codelineno-fhmodal_delete_dll-25" href="#__codelineno-fhmodal_delete_dll-25"></a><span class="w">            </span><span class="n">Ret</span><span class="p">.</span><span class="n">LastException</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ex</span>
</span><span id="__span-fhmodal_delete_dll-26"><a id="__codelineno-fhmodal_delete_dll-26" name="__codelineno-fhmodal_delete_dll-26" href="#__codelineno-fhmodal_delete_dll-26"></a><span class="w">            </span><span class="k">Return</span><span class="w"> </span><span class="k">False</span>
</span><span id="__span-fhmodal_delete_dll-27"><a id="__codelineno-fhmodal_delete_dll-27" name="__codelineno-fhmodal_delete_dll-27" href="#__codelineno-fhmodal_delete_dll-27"></a><span class="w">        </span><span class="k">End</span><span class="w"> </span><span class="k">Try</span>
</span><span id="__span-fhmodal_delete_dll-28"><a id="__codelineno-fhmodal_delete_dll-28" name="__codelineno-fhmodal_delete_dll-28" href="#__codelineno-fhmodal_delete_dll-28"></a><span class="w">    </span><span class="k">End</span><span class="w"> </span><span class="k">Function</span>
</span></code></pre></div>
<div id="fhmodal_insert_stored" class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-fhmodal_insert_stored-1"><a id="__codelineno-fhmodal_insert_stored-1" name="__codelineno-fhmodal_insert_stored-1" href="#__codelineno-fhmodal_insert_stored-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">PROCEDURE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">P_TestInsert_Stored</span><span class="p">]</span><span class="w">  </span>
</span><span id="__span-fhmodal_insert_stored-2"><a id="__codelineno-fhmodal_insert_stored-2" name="__codelineno-fhmodal_insert_stored-2" href="#__codelineno-fhmodal_insert_stored-2"></a>
</span><span id="__span-fhmodal_insert_stored-3"><a id="__codelineno-fhmodal_insert_stored-3" name="__codelineno-fhmodal_insert_stored-3" href="#__codelineno-fhmodal_insert_stored-3"></a><span class="w">    </span><span class="o">@</span><span class="k">Values</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">XML</span><span class="w"> </span><span class="k">OUTPUT</span><span class="p">,</span>
</span><span id="__span-fhmodal_insert_stored-4"><a id="__codelineno-fhmodal_insert_stored-4" name="__codelineno-fhmodal_insert_stored-4" href="#__codelineno-fhmodal_insert_stored-4"></a><span class="w">    </span><span class="o">@</span><span class="n">ContextVars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">XML</span><span class="p">,</span>
</span><span id="__span-fhmodal_insert_stored-5"><a id="__codelineno-fhmodal_insert_stored-5" name="__codelineno-fhmodal_insert_stored-5" href="#__codelineno-fhmodal_insert_stored-5"></a><span class="w">    </span><span class="o">@</span><span class="n">RetValues</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">XML</span><span class="w"> </span><span class="k">OUTPUT</span><span class="w">     </span>
</span><span id="__span-fhmodal_insert_stored-6"><a id="__codelineno-fhmodal_insert_stored-6" name="__codelineno-fhmodal_insert_stored-6" href="#__codelineno-fhmodal_insert_stored-6"></a>
</span><span id="__span-fhmodal_insert_stored-7"><a id="__codelineno-fhmodal_insert_stored-7" name="__codelineno-fhmodal_insert_stored-7" href="#__codelineno-fhmodal_insert_stored-7"></a><span class="w">    </span><span class="k">AS</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_stored-8"><a id="__codelineno-fhmodal_insert_stored-8" name="__codelineno-fhmodal_insert_stored-8" href="#__codelineno-fhmodal_insert_stored-8"></a><span class="w">    </span><span class="c1">----------------------------------------------------------------------------------</span>
</span><span id="__span-fhmodal_insert_stored-9"><a id="__codelineno-fhmodal_insert_stored-9" name="__codelineno-fhmodal_insert_stored-9" href="#__codelineno-fhmodal_insert_stored-9"></a><span class="c1">--#NAME</span>
</span><span id="__span-fhmodal_insert_stored-10"><a id="__codelineno-fhmodal_insert_stored-10" name="__codelineno-fhmodal_insert_stored-10" href="#__codelineno-fhmodal_insert_stored-10"></a><span class="c1">--      P_TestInsert_Stored</span>
</span><span id="__span-fhmodal_insert_stored-11"><a id="__codelineno-fhmodal_insert_stored-11" name="__codelineno-fhmodal_insert_stored-11" href="#__codelineno-fhmodal_insert_stored-11"></a><span class="c1">--#CREATION</span>
</span><span id="__span-fhmodal_insert_stored-12"><a id="__codelineno-fhmodal_insert_stored-12" name="__codelineno-fhmodal_insert_stored-12" href="#__codelineno-fhmodal_insert_stored-12"></a><span class="c1">--      07/01/2016</span>
</span><span id="__span-fhmodal_insert_stored-13"><a id="__codelineno-fhmodal_insert_stored-13" name="__codelineno-fhmodal_insert_stored-13" href="#__codelineno-fhmodal_insert_stored-13"></a><span class="c1">--#CLASIFICATION</span>
</span><span id="__span-fhmodal_insert_stored-14"><a id="__codelineno-fhmodal_insert_stored-14" name="__codelineno-fhmodal_insert_stored-14" href="#__codelineno-fhmodal_insert_stored-14"></a><span class="c1">--      Framework/systemObjects</span>
</span><span id="__span-fhmodal_insert_stored-15"><a id="__codelineno-fhmodal_insert_stored-15" name="__codelineno-fhmodal_insert_stored-15" href="#__codelineno-fhmodal_insert_stored-15"></a><span class="c1">--#DESCRIPTION</span>
</span><span id="__span-fhmodal_insert_stored-16"><a id="__codelineno-fhmodal_insert_stored-16" name="__codelineno-fhmodal_insert_stored-16" href="#__codelineno-fhmodal_insert_stored-16"></a><span class="c1">--      Used for Testing object insert through Flexygo Stored procedure</span>
</span><span id="__span-fhmodal_insert_stored-17"><a id="__codelineno-fhmodal_insert_stored-17" name="__codelineno-fhmodal_insert_stored-17" href="#__codelineno-fhmodal_insert_stored-17"></a><span class="c1">--#PARAMETERS</span>
</span><span id="__span-fhmodal_insert_stored-18"><a id="__codelineno-fhmodal_insert_stored-18" name="__codelineno-fhmodal_insert_stored-18" href="#__codelineno-fhmodal_insert_stored-18"></a><span class="c1">--      @Values : Object properties ,</span>
</span><span id="__span-fhmodal_insert_stored-19"><a id="__codelineno-fhmodal_insert_stored-19" name="__codelineno-fhmodal_insert_stored-19" href="#__codelineno-fhmodal_insert_stored-19"></a><span class="c1">--      @ContextVars: Flexygo ciontext variables,</span>
</span><span id="__span-fhmodal_insert_stored-20"><a id="__codelineno-fhmodal_insert_stored-20" name="__codelineno-fhmodal_insert_stored-20" href="#__codelineno-fhmodal_insert_stored-20"></a><span class="c1">--      @RetValues : Flexygo process Helper (CloseParamWindow,JSCode,JSFile,LastException,Params,Refresh,Success,SuccesMessage,WarningMessage)</span>
</span><span id="__span-fhmodal_insert_stored-21"><a id="__codelineno-fhmodal_insert_stored-21" name="__codelineno-fhmodal_insert_stored-21" href="#__codelineno-fhmodal_insert_stored-21"></a><span class="c1">--#OBSERVATIONS</span>
</span><span id="__span-fhmodal_insert_stored-22"><a id="__codelineno-fhmodal_insert_stored-22" name="__codelineno-fhmodal_insert_stored-22" href="#__codelineno-fhmodal_insert_stored-22"></a><span class="c1">-- Values XML Sample</span>
</span><span id="__span-fhmodal_insert_stored-23"><a id="__codelineno-fhmodal_insert_stored-23" name="__codelineno-fhmodal_insert_stored-23" href="#__codelineno-fhmodal_insert_stored-23"></a><span class="c1">--  &lt; Row rowId="d4ec88a0-3129-4c5d-b5ac-8c9d2867db64" ObjectName="systmpTest"&gt;</span>
</span><span id="__span-fhmodal_insert_stored-24"><a id="__codelineno-fhmodal_insert_stored-24" name="__codelineno-fhmodal_insert_stored-24" href="#__codelineno-fhmodal_insert_stored-24"></a><span class="c1">--      &lt; Property Name="TestId" Value="3" OldValue="" TableName="_Test" IsKey="True" /&gt;</span>
</span><span id="__span-fhmodal_insert_stored-25"><a id="__codelineno-fhmodal_insert_stored-25" name="__codelineno-fhmodal_insert_stored-25" href="#__codelineno-fhmodal_insert_stored-25"></a><span class="c1">--      &lt; Property Name="Descrip" Value="test3" OldValue="" TableName="_Test" IsKey="False" /&gt;</span>
</span><span id="__span-fhmodal_insert_stored-26"><a id="__codelineno-fhmodal_insert_stored-26" name="__codelineno-fhmodal_insert_stored-26" href="#__codelineno-fhmodal_insert_stored-26"></a><span class="c1">--      &lt; Property Name="IdDoc" Value="" OldValue="" TableName="_Test" IsKey="False" /&gt;</span>
</span><span id="__span-fhmodal_insert_stored-27"><a id="__codelineno-fhmodal_insert_stored-27" name="__codelineno-fhmodal_insert_stored-27" href="#__codelineno-fhmodal_insert_stored-27"></a><span class="c1">--      &lt; Property Name="InsertUpdate" Value="False" OldValue="False" TableName="_Test" IsKey="False" /&gt;</span>
</span><span id="__span-fhmodal_insert_stored-28"><a id="__codelineno-fhmodal_insert_stored-28" name="__codelineno-fhmodal_insert_stored-28" href="#__codelineno-fhmodal_insert_stored-28"></a><span class="c1">--      &lt; Property Name="Usuario" Value="" OldValue="" TableName="_Test" IsKey="False" /&gt;</span>
</span><span id="__span-fhmodal_insert_stored-29"><a id="__codelineno-fhmodal_insert_stored-29" name="__codelineno-fhmodal_insert_stored-29" href="#__codelineno-fhmodal_insert_stored-29"></a><span class="c1">--      &lt; Property Name="FechaInsertUpdate" Value="14/02/2018 0:00:00" OldValue="14/02/2018 0:00:00" TableName="_Test" IsKey="False" /&gt;</span>
</span><span id="__span-fhmodal_insert_stored-30"><a id="__codelineno-fhmodal_insert_stored-30" name="__codelineno-fhmodal_insert_stored-30" href="#__codelineno-fhmodal_insert_stored-30"></a><span class="c1">--      &lt; Property Name="Config" Value="config3" OldValue="" TableName="_Test_Conf" IsKey="False" /&gt;</span>
</span><span id="__span-fhmodal_insert_stored-31"><a id="__codelineno-fhmodal_insert_stored-31" name="__codelineno-fhmodal_insert_stored-31" href="#__codelineno-fhmodal_insert_stored-31"></a><span class="c1">--  &lt;/Row&gt;</span>
</span><span id="__span-fhmodal_insert_stored-32"><a id="__codelineno-fhmodal_insert_stored-32" name="__codelineno-fhmodal_insert_stored-32" href="#__codelineno-fhmodal_insert_stored-32"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_insert_stored-33"><a id="__codelineno-fhmodal_insert_stored-33" name="__codelineno-fhmodal_insert_stored-33" href="#__codelineno-fhmodal_insert_stored-33"></a><span class="c1">-- ContextVars XML Sample       </span>
</span><span id="__span-fhmodal_insert_stored-34"><a id="__codelineno-fhmodal_insert_stored-34" name="__codelineno-fhmodal_insert_stored-34" href="#__codelineno-fhmodal_insert_stored-34"></a><span class="c1">--  &lt; Row&gt;</span>
</span><span id="__span-fhmodal_insert_stored-35"><a id="__codelineno-fhmodal_insert_stored-35" name="__codelineno-fhmodal_insert_stored-35" href="#__codelineno-fhmodal_insert_stored-35"></a><span class="c1">--      &lt; Property Name="reference" Value="0" /&gt;</span>
</span><span id="__span-fhmodal_insert_stored-36"><a id="__codelineno-fhmodal_insert_stored-36" name="__codelineno-fhmodal_insert_stored-36" href="#__codelineno-fhmodal_insert_stored-36"></a><span class="c1">--      &lt; Property Name="subReference" Value="0" /&gt;</span>
</span><span id="__span-fhmodal_insert_stored-37"><a id="__codelineno-fhmodal_insert_stored-37" name="__codelineno-fhmodal_insert_stored-37" href="#__codelineno-fhmodal_insert_stored-37"></a><span class="c1">--      &lt; Property Name="currentRole" Value="Admins" /&gt;</span>
</span><span id="__span-fhmodal_insert_stored-38"><a id="__codelineno-fhmodal_insert_stored-38" name="__codelineno-fhmodal_insert_stored-38" href="#__codelineno-fhmodal_insert_stored-38"></a><span class="c1">--      &lt; Property Name="currentRoleId" Value="admins" /&gt;</span>
</span><span id="__span-fhmodal_insert_stored-39"><a id="__codelineno-fhmodal_insert_stored-39" name="__codelineno-fhmodal_insert_stored-39" href="#__codelineno-fhmodal_insert_stored-39"></a><span class="c1">--      &lt; Property Name="currentUserLogin" Value="admin" /&gt;</span>
</span><span id="__span-fhmodal_insert_stored-40"><a id="__codelineno-fhmodal_insert_stored-40" name="__codelineno-fhmodal_insert_stored-40" href="#__codelineno-fhmodal_insert_stored-40"></a><span class="c1">--      &lt; Property Name="currentUserId" Value="1" /&gt;</span>
</span><span id="__span-fhmodal_insert_stored-41"><a id="__codelineno-fhmodal_insert_stored-41" name="__codelineno-fhmodal_insert_stored-41" href="#__codelineno-fhmodal_insert_stored-41"></a><span class="c1">--      &lt; Property Name="currentUserFullName" Value="admin" /&gt;</span>
</span><span id="__span-fhmodal_insert_stored-42"><a id="__codelineno-fhmodal_insert_stored-42" name="__codelineno-fhmodal_insert_stored-42" href="#__codelineno-fhmodal_insert_stored-42"></a><span class="c1">--      &lt; Property Name="currentUserCultureId" Value="en-gb" /&gt;</span>
</span><span id="__span-fhmodal_insert_stored-43"><a id="__codelineno-fhmodal_insert_stored-43" name="__codelineno-fhmodal_insert_stored-43" href="#__codelineno-fhmodal_insert_stored-43"></a><span class="c1">--      &lt; Property Name="currentUserLang" Value="en" /&gt;</span>
</span><span id="__span-fhmodal_insert_stored-44"><a id="__codelineno-fhmodal_insert_stored-44" name="__codelineno-fhmodal_insert_stored-44" href="#__codelineno-fhmodal_insert_stored-44"></a><span class="c1">--      &lt; Property Name="currentUserEmail" Value="info@ahora.es.com" /&gt;</span>
</span><span id="__span-fhmodal_insert_stored-45"><a id="__codelineno-fhmodal_insert_stored-45" name="__codelineno-fhmodal_insert_stored-45" href="#__codelineno-fhmodal_insert_stored-45"></a><span class="c1">--  &lt;/Row&gt;</span>
</span><span id="__span-fhmodal_insert_stored-46"><a id="__codelineno-fhmodal_insert_stored-46" name="__codelineno-fhmodal_insert_stored-46" href="#__codelineno-fhmodal_insert_stored-46"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_insert_stored-47"><a id="__codelineno-fhmodal_insert_stored-47" name="__codelineno-fhmodal_insert_stored-47" href="#__codelineno-fhmodal_insert_stored-47"></a><span class="c1">-- Return vars XML Sample       </span>
</span><span id="__span-fhmodal_insert_stored-48"><a id="__codelineno-fhmodal_insert_stored-48" name="__codelineno-fhmodal_insert_stored-48" href="#__codelineno-fhmodal_insert_stored-48"></a><span class="c1">--      &lt;Property Success="False" SuccessMessage="" WarningMessage="" JSCode="" JSFile="" CloseParamWindow="False" refresh="False" /&gt;</span>
</span><span id="__span-fhmodal_insert_stored-49"><a id="__codelineno-fhmodal_insert_stored-49" name="__codelineno-fhmodal_insert_stored-49" href="#__codelineno-fhmodal_insert_stored-49"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_insert_stored-50"><a id="__codelineno-fhmodal_insert_stored-50" name="__codelineno-fhmodal_insert_stored-50" href="#__codelineno-fhmodal_insert_stored-50"></a><span class="c1">--#CHANGES</span>
</span><span id="__span-fhmodal_insert_stored-51"><a id="__codelineno-fhmodal_insert_stored-51" name="__codelineno-fhmodal_insert_stored-51" href="#__codelineno-fhmodal_insert_stored-51"></a><span class="c1">--      13/02/2018- David Miralpeix</span>
</span><span id="__span-fhmodal_insert_stored-52"><a id="__codelineno-fhmodal_insert_stored-52" name="__codelineno-fhmodal_insert_stored-52" href="#__codelineno-fhmodal_insert_stored-52"></a><span class="c1">----------------------------------------------------------------------------------</span>
</span><span id="__span-fhmodal_insert_stored-53"><a id="__codelineno-fhmodal_insert_stored-53" name="__codelineno-fhmodal_insert_stored-53" href="#__codelineno-fhmodal_insert_stored-53"></a><span class="k">BEGIN</span><span class="w"> </span><span class="n">TRY</span>
</span><span id="__span-fhmodal_insert_stored-54"><a id="__codelineno-fhmodal_insert_stored-54" name="__codelineno-fhmodal_insert_stored-54" href="#__codelineno-fhmodal_insert_stored-54"></a>
</span><span id="__span-fhmodal_insert_stored-55"><a id="__codelineno-fhmodal_insert_stored-55" name="__codelineno-fhmodal_insert_stored-55" href="#__codelineno-fhmodal_insert_stored-55"></a><span class="w">    </span><span class="c1">--Declare field variables to load</span>
</span><span id="__span-fhmodal_insert_stored-56"><a id="__codelineno-fhmodal_insert_stored-56" name="__codelineno-fhmodal_insert_stored-56" href="#__codelineno-fhmodal_insert_stored-56"></a><span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_stored-57"><a id="__codelineno-fhmodal_insert_stored-57" name="__codelineno-fhmodal_insert_stored-57" href="#__codelineno-fhmodal_insert_stored-57"></a><span class="w">    </span><span class="o">@</span><span class="n">Descrip</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">2000</span><span class="p">),</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_stored-58"><a id="__codelineno-fhmodal_insert_stored-58" name="__codelineno-fhmodal_insert_stored-58" href="#__codelineno-fhmodal_insert_stored-58"></a><span class="w">    </span><span class="o">@</span><span class="n">IdDoc</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span>
</span><span id="__span-fhmodal_insert_stored-59"><a id="__codelineno-fhmodal_insert_stored-59" name="__codelineno-fhmodal_insert_stored-59" href="#__codelineno-fhmodal_insert_stored-59"></a><span class="w">    </span><span class="o">@</span><span class="n">InsertUpdate</span><span class="w"> </span><span class="nb">bit</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_stored-60"><a id="__codelineno-fhmodal_insert_stored-60" name="__codelineno-fhmodal_insert_stored-60" href="#__codelineno-fhmodal_insert_stored-60"></a><span class="w">    </span><span class="o">@</span><span class="n">Usuario</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
</span><span id="__span-fhmodal_insert_stored-61"><a id="__codelineno-fhmodal_insert_stored-61" name="__codelineno-fhmodal_insert_stored-61" href="#__codelineno-fhmodal_insert_stored-61"></a><span class="w">    </span><span class="o">@</span><span class="n">FechaInsertUpdate</span><span class="w"> </span><span class="n">datetime</span><span class="w"> </span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_stored-62"><a id="__codelineno-fhmodal_insert_stored-62" name="__codelineno-fhmodal_insert_stored-62" href="#__codelineno-fhmodal_insert_stored-62"></a><span class="w">    </span><span class="o">@</span><span class="n">Config</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored-63"><a id="__codelineno-fhmodal_insert_stored-63" name="__codelineno-fhmodal_insert_stored-63" href="#__codelineno-fhmodal_insert_stored-63"></a>
</span><span id="__span-fhmodal_insert_stored-64"><a id="__codelineno-fhmodal_insert_stored-64" name="__codelineno-fhmodal_insert_stored-64" href="#__codelineno-fhmodal_insert_stored-64"></a>
</span><span id="__span-fhmodal_insert_stored-65"><a id="__codelineno-fhmodal_insert_stored-65" name="__codelineno-fhmodal_insert_stored-65" href="#__codelineno-fhmodal_insert_stored-65"></a><span class="w">     </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="o">=@</span><span class="k">Values</span><span class="p">.</span><span class="n">value</span><span class="p">(</span><span class="s1">'(/Row/Property[@Name=''TestId'']/@Value)[1]'</span><span class="p">,</span><span class="w"> </span><span class="s1">'int'</span><span class="w"> </span><span class="p">)</span><span class="w">  </span>
</span><span id="__span-fhmodal_insert_stored-66"><a id="__codelineno-fhmodal_insert_stored-66" name="__codelineno-fhmodal_insert_stored-66" href="#__codelineno-fhmodal_insert_stored-66"></a><span class="w">     </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">Descrip</span><span class="o">=@</span><span class="k">Values</span><span class="p">.</span><span class="n">value</span><span class="p">(</span><span class="s1">'(/Row/Property[@Name=''Descrip'']/@Value)[1]'</span><span class="p">,</span><span class="w"> </span><span class="s1">'nvarchar(2000)'</span><span class="w"> </span><span class="p">)</span><span class="w">  </span>
</span><span id="__span-fhmodal_insert_stored-67"><a id="__codelineno-fhmodal_insert_stored-67" name="__codelineno-fhmodal_insert_stored-67" href="#__codelineno-fhmodal_insert_stored-67"></a><span class="w">     </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">Usuario</span><span class="o">=@</span><span class="k">Values</span><span class="p">.</span><span class="n">value</span><span class="p">(</span><span class="s1">'(/Row/Property[@Name=''Usuario'']/@Value)[1]'</span><span class="p">,</span><span class="w"> </span><span class="s1">'nvarchar(50)'</span><span class="w"> </span><span class="p">)</span><span class="w">  </span>
</span><span id="__span-fhmodal_insert_stored-68"><a id="__codelineno-fhmodal_insert_stored-68" name="__codelineno-fhmodal_insert_stored-68" href="#__codelineno-fhmodal_insert_stored-68"></a><span class="w">     </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">InsertUpdate</span><span class="o">=@</span><span class="k">Values</span><span class="p">.</span><span class="n">value</span><span class="p">(</span><span class="s1">'(/Row/Property[@Name=''InsertUpdate'']/@Value)[1]'</span><span class="p">,</span><span class="w"> </span><span class="s1">'bit'</span><span class="w"> </span><span class="p">)</span><span class="w">  </span>
</span><span id="__span-fhmodal_insert_stored-69"><a id="__codelineno-fhmodal_insert_stored-69" name="__codelineno-fhmodal_insert_stored-69" href="#__codelineno-fhmodal_insert_stored-69"></a><span class="w">     </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">FechaInsertUpdate</span><span class="o">=@</span><span class="k">Values</span><span class="p">.</span><span class="n">value</span><span class="p">(</span><span class="s1">'(/Row/Property[@Name=''FechaInsertUpdate'']/@Value)[1]'</span><span class="p">,</span><span class="w"> </span><span class="s1">'datetime'</span><span class="w"> </span><span class="p">)</span><span class="w">  </span>
</span><span id="__span-fhmodal_insert_stored-70"><a id="__codelineno-fhmodal_insert_stored-70" name="__codelineno-fhmodal_insert_stored-70" href="#__codelineno-fhmodal_insert_stored-70"></a><span class="w">     </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">Config</span><span class="o">=@</span><span class="k">Values</span><span class="p">.</span><span class="n">value</span><span class="p">(</span><span class="s1">'(/Row/Property[@Name=''Config'']/@Value)[1]'</span><span class="p">,</span><span class="w"> </span><span class="s1">'nvarchar(50)'</span><span class="w"> </span><span class="p">)</span><span class="w">  </span>
</span><span id="__span-fhmodal_insert_stored-71"><a id="__codelineno-fhmodal_insert_stored-71" name="__codelineno-fhmodal_insert_stored-71" href="#__codelineno-fhmodal_insert_stored-71"></a>
</span><span id="__span-fhmodal_insert_stored-72"><a id="__codelineno-fhmodal_insert_stored-72" name="__codelineno-fhmodal_insert_stored-72" href="#__codelineno-fhmodal_insert_stored-72"></a>
</span><span id="__span-fhmodal_insert_stored-73"><a id="__codelineno-fhmodal_insert_stored-73" name="__codelineno-fhmodal_insert_stored-73" href="#__codelineno-fhmodal_insert_stored-73"></a>
</span><span id="__span-fhmodal_insert_stored-74"><a id="__codelineno-fhmodal_insert_stored-74" name="__codelineno-fhmodal_insert_stored-74" href="#__codelineno-fhmodal_insert_stored-74"></a><span class="w">    </span><span class="cm">/* perform process (insert fields into different tables) */</span>
</span><span id="__span-fhmodal_insert_stored-75"><a id="__codelineno-fhmodal_insert_stored-75" name="__codelineno-fhmodal_insert_stored-75" href="#__codelineno-fhmodal_insert_stored-75"></a><span class="w">     </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">_Test</span><span class="w"> </span><span class="p">(</span><span class="n">TestId</span><span class="p">,</span><span class="n">Descrip</span><span class="p">,</span><span class="w"> </span><span class="n">Usuario</span><span class="p">,</span><span class="w"> </span><span class="n">InsertUpdate</span><span class="p">,</span><span class="w"> </span><span class="n">FechaInsertUpdate</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored-76"><a id="__codelineno-fhmodal_insert_stored-76" name="__codelineno-fhmodal_insert_stored-76" href="#__codelineno-fhmodal_insert_stored-76"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">DEscrip</span><span class="w"> </span><span class="p">,</span><span class="k">isnull</span><span class="p">(</span><span class="o">@</span><span class="n">Usuario</span><span class="p">,</span><span class="s1">'nouser'</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="o">@</span><span class="n">InsertUpdate</span><span class="w"> </span><span class="p">,</span><span class="k">isnull</span><span class="p">(</span><span class="o">@</span><span class="n">FechaInsertUpdate</span><span class="w"> </span><span class="p">,</span><span class="n">getdate</span><span class="p">())</span>
</span><span id="__span-fhmodal_insert_stored-77"><a id="__codelineno-fhmodal_insert_stored-77" name="__codelineno-fhmodal_insert_stored-77" href="#__codelineno-fhmodal_insert_stored-77"></a>
</span><span id="__span-fhmodal_insert_stored-78"><a id="__codelineno-fhmodal_insert_stored-78" name="__codelineno-fhmodal_insert_stored-78" href="#__codelineno-fhmodal_insert_stored-78"></a><span class="w">     </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">_Test_conf</span><span class="w"> </span><span class="p">(</span><span class="n">TestId</span><span class="p">,</span><span class="w"> </span><span class="n">Config</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored-79"><a id="__codelineno-fhmodal_insert_stored-79" name="__codelineno-fhmodal_insert_stored-79" href="#__codelineno-fhmodal_insert_stored-79"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">Config</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_stored-80"><a id="__codelineno-fhmodal_insert_stored-80" name="__codelineno-fhmodal_insert_stored-80" href="#__codelineno-fhmodal_insert_stored-80"></a>
</span><span id="__span-fhmodal_insert_stored-81"><a id="__codelineno-fhmodal_insert_stored-81" name="__codelineno-fhmodal_insert_stored-81" href="#__codelineno-fhmodal_insert_stored-81"></a><span class="w">     </span><span class="cm">/* change Keys */</span>
</span><span id="__span-fhmodal_insert_stored-82"><a id="__codelineno-fhmodal_insert_stored-82" name="__codelineno-fhmodal_insert_stored-82" href="#__codelineno-fhmodal_insert_stored-82"></a><span class="w">      </span><span class="c1">-- When Property has Value replacing Value</span>
</span><span id="__span-fhmodal_insert_stored-83"><a id="__codelineno-fhmodal_insert_stored-83" name="__codelineno-fhmodal_insert_stored-83" href="#__codelineno-fhmodal_insert_stored-83"></a><span class="w">      </span><span class="c1">--SET @Values.modify('replace value of (/Row/Property[@Name=''TesId'']/@Value)[1] with "sysNavigationNode"')</span>
</span><span id="__span-fhmodal_insert_stored-84"><a id="__codelineno-fhmodal_insert_stored-84" name="__codelineno-fhmodal_insert_stored-84" href="#__codelineno-fhmodal_insert_stored-84"></a><span class="w">      </span><span class="c1">-- When Property has not Value inserting Value</span>
</span><span id="__span-fhmodal_insert_stored-85"><a id="__codelineno-fhmodal_insert_stored-85" name="__codelineno-fhmodal_insert_stored-85" href="#__codelineno-fhmodal_insert_stored-85"></a><span class="w">      </span><span class="c1">-- SET @Values.modify('insert attribute Value {sql:variable("@TesId")} into (/Row/Property[@Name=''TesId'' and empty(@Value)])[1]')</span>
</span><span id="__span-fhmodal_insert_stored-86"><a id="__codelineno-fhmodal_insert_stored-86" name="__codelineno-fhmodal_insert_stored-86" href="#__codelineno-fhmodal_insert_stored-86"></a>
</span><span id="__span-fhmodal_insert_stored-87"><a id="__codelineno-fhmodal_insert_stored-87" name="__codelineno-fhmodal_insert_stored-87" href="#__codelineno-fhmodal_insert_stored-87"></a><span class="w">    </span><span class="cm">/* Process return values*/</span>
</span><span id="__span-fhmodal_insert_stored-88"><a id="__codelineno-fhmodal_insert_stored-88" name="__codelineno-fhmodal_insert_stored-88" href="#__codelineno-fhmodal_insert_stored-88"></a><span class="w">        </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="p">.</span><span class="k">modify</span><span class="p">(</span><span class="s1">'replace value of (/Property/@Success)[1] with 1'</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored-89"><a id="__codelineno-fhmodal_insert_stored-89" name="__codelineno-fhmodal_insert_stored-89" href="#__codelineno-fhmodal_insert_stored-89"></a><span class="w">        </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="p">.</span><span class="k">modify</span><span class="p">(</span><span class="s1">'replace value of (/Property/@SuccessMessage)[1] with "All went fine"'</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored-90"><a id="__codelineno-fhmodal_insert_stored-90" name="__codelineno-fhmodal_insert_stored-90" href="#__codelineno-fhmodal_insert_stored-90"></a><span class="w">    </span><span class="cm">/* Return 0 if error */</span>
</span><span id="__span-fhmodal_insert_stored-91"><a id="__codelineno-fhmodal_insert_stored-91" name="__codelineno-fhmodal_insert_stored-91" href="#__codelineno-fhmodal_insert_stored-91"></a><span class="w">        </span><span class="k">RETURN</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-fhmodal_insert_stored-92"><a id="__codelineno-fhmodal_insert_stored-92" name="__codelineno-fhmodal_insert_stored-92" href="#__codelineno-fhmodal_insert_stored-92"></a><span class="k">END</span><span class="w"> </span><span class="n">TRY</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_stored-93"><a id="__codelineno-fhmodal_insert_stored-93" name="__codelineno-fhmodal_insert_stored-93" href="#__codelineno-fhmodal_insert_stored-93"></a>
</span><span id="__span-fhmodal_insert_stored-94"><a id="__codelineno-fhmodal_insert_stored-94" name="__codelineno-fhmodal_insert_stored-94" href="#__codelineno-fhmodal_insert_stored-94"></a><span class="k">BEGIN</span><span class="w"> </span><span class="n">CATCH</span>
</span><span id="__span-fhmodal_insert_stored-95"><a id="__codelineno-fhmodal_insert_stored-95" name="__codelineno-fhmodal_insert_stored-95" href="#__codelineno-fhmodal_insert_stored-95"></a><span class="w">    </span><span class="k">IF</span><span class="w"> </span><span class="o">@@</span><span class="n">TRANCOUNT</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">0</span><span class="w"> </span><span class="k">BEGIN</span>
</span><span id="__span-fhmodal_insert_stored-96"><a id="__codelineno-fhmodal_insert_stored-96" name="__codelineno-fhmodal_insert_stored-96" href="#__codelineno-fhmodal_insert_stored-96"></a><span class="w">        </span><span class="k">ROLLBACK</span><span class="w"> </span><span class="n">TRAN</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_stored-97"><a id="__codelineno-fhmodal_insert_stored-97" name="__codelineno-fhmodal_insert_stored-97" href="#__codelineno-fhmodal_insert_stored-97"></a><span class="w">    </span><span class="k">END</span>
</span><span id="__span-fhmodal_insert_stored-98"><a id="__codelineno-fhmodal_insert_stored-98" name="__codelineno-fhmodal_insert_stored-98" href="#__codelineno-fhmodal_insert_stored-98"></a>
</span><span id="__span-fhmodal_insert_stored-99"><a id="__codelineno-fhmodal_insert_stored-99" name="__codelineno-fhmodal_insert_stored-99" href="#__codelineno-fhmodal_insert_stored-99"></a><span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">CatchError</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored-100"><a id="__codelineno-fhmodal_insert_stored-100" name="__codelineno-fhmodal_insert_stored-100" href="#__codelineno-fhmodal_insert_stored-100"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">CatchError</span><span class="o">=</span><span class="n">dbo</span><span class="p">.</span><span class="n">funprintError</span><span class="p">(</span><span class="n">ERROR_MESSAGE</span><span class="p">(),</span><span class="n">ERROR_NUMBER</span><span class="p">(),</span><span class="n">ERROR_PROCEDURE</span><span class="p">(),</span><span class="o">@@</span><span class="n">PROCID</span><span class="w"> </span><span class="p">,</span><span class="n">ERROR_LINE</span><span class="p">())</span>
</span><span id="__span-fhmodal_insert_stored-101"><a id="__codelineno-fhmodal_insert_stored-101" name="__codelineno-fhmodal_insert_stored-101" href="#__codelineno-fhmodal_insert_stored-101"></a><span class="w">    </span><span class="n">RAISERROR</span><span class="p">(</span><span class="o">@</span><span class="n">CatchError</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored-102"><a id="__codelineno-fhmodal_insert_stored-102" name="__codelineno-fhmodal_insert_stored-102" href="#__codelineno-fhmodal_insert_stored-102"></a>
</span><span id="__span-fhmodal_insert_stored-103"><a id="__codelineno-fhmodal_insert_stored-103" name="__codelineno-fhmodal_insert_stored-103" href="#__codelineno-fhmodal_insert_stored-103"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="p">.</span><span class="k">modify</span><span class="p">(</span><span class="s1">'replace value of (/Property/@Success)[1] with 0'</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored-104"><a id="__codelineno-fhmodal_insert_stored-104" name="__codelineno-fhmodal_insert_stored-104" href="#__codelineno-fhmodal_insert_stored-104"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="p">.</span><span class="k">modify</span><span class="p">(</span><span class="s1">'replace value of (/Property/@SuccessMessage)[1] with "Something went wrong"'</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored-105"><a id="__codelineno-fhmodal_insert_stored-105" name="__codelineno-fhmodal_insert_stored-105" href="#__codelineno-fhmodal_insert_stored-105"></a><span class="w">    </span><span class="k">RETURN</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-fhmodal_insert_stored-106"><a id="__codelineno-fhmodal_insert_stored-106" name="__codelineno-fhmodal_insert_stored-106" href="#__codelineno-fhmodal_insert_stored-106"></a>
</span><span id="__span-fhmodal_insert_stored-107"><a id="__codelineno-fhmodal_insert_stored-107" name="__codelineno-fhmodal_insert_stored-107" href="#__codelineno-fhmodal_insert_stored-107"></a><span class="k">END</span><span class="w"> </span><span class="n">CATCH</span>
</span></code></pre></div>
<div id="fhmodal_update_stored" class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-fhmodal_update_stored-1"><a id="__codelineno-fhmodal_update_stored-1" name="__codelineno-fhmodal_update_stored-1" href="#__codelineno-fhmodal_update_stored-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">PROCEDURE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">P_TestUpdate_Stored</span><span class="p">]</span><span class="w">  </span>
</span><span id="__span-fhmodal_update_stored-2"><a id="__codelineno-fhmodal_update_stored-2" name="__codelineno-fhmodal_update_stored-2" href="#__codelineno-fhmodal_update_stored-2"></a><span class="w">    </span><span class="o">@</span><span class="k">Values</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">XML</span><span class="w"> </span><span class="k">OUTPUT</span><span class="p">,</span>
</span><span id="__span-fhmodal_update_stored-3"><a id="__codelineno-fhmodal_update_stored-3" name="__codelineno-fhmodal_update_stored-3" href="#__codelineno-fhmodal_update_stored-3"></a><span class="w">    </span><span class="o">@</span><span class="n">ContextVars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">XML</span><span class="p">,</span>
</span><span id="__span-fhmodal_update_stored-4"><a id="__codelineno-fhmodal_update_stored-4" name="__codelineno-fhmodal_update_stored-4" href="#__codelineno-fhmodal_update_stored-4"></a><span class="w">    </span><span class="o">@</span><span class="n">RetValues</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">XML</span><span class="w"> </span><span class="k">OUTPUT</span><span class="w">     </span>
</span><span id="__span-fhmodal_update_stored-5"><a id="__codelineno-fhmodal_update_stored-5" name="__codelineno-fhmodal_update_stored-5" href="#__codelineno-fhmodal_update_stored-5"></a>
</span><span id="__span-fhmodal_update_stored-6"><a id="__codelineno-fhmodal_update_stored-6" name="__codelineno-fhmodal_update_stored-6" href="#__codelineno-fhmodal_update_stored-6"></a><span class="w">    </span><span class="k">AS</span>
</span><span id="__span-fhmodal_update_stored-7"><a id="__codelineno-fhmodal_update_stored-7" name="__codelineno-fhmodal_update_stored-7" href="#__codelineno-fhmodal_update_stored-7"></a><span class="w">    </span><span class="c1">----------------------------------------------------------------------------------</span>
</span><span id="__span-fhmodal_update_stored-8"><a id="__codelineno-fhmodal_update_stored-8" name="__codelineno-fhmodal_update_stored-8" href="#__codelineno-fhmodal_update_stored-8"></a><span class="c1">--#NAME</span>
</span><span id="__span-fhmodal_update_stored-9"><a id="__codelineno-fhmodal_update_stored-9" name="__codelineno-fhmodal_update_stored-9" href="#__codelineno-fhmodal_update_stored-9"></a><span class="c1">--      P_TestUpdate_Stored</span>
</span><span id="__span-fhmodal_update_stored-10"><a id="__codelineno-fhmodal_update_stored-10" name="__codelineno-fhmodal_update_stored-10" href="#__codelineno-fhmodal_update_stored-10"></a><span class="c1">--#CREATION</span>
</span><span id="__span-fhmodal_update_stored-11"><a id="__codelineno-fhmodal_update_stored-11" name="__codelineno-fhmodal_update_stored-11" href="#__codelineno-fhmodal_update_stored-11"></a><span class="c1">--      07/01/2016</span>
</span><span id="__span-fhmodal_update_stored-12"><a id="__codelineno-fhmodal_update_stored-12" name="__codelineno-fhmodal_update_stored-12" href="#__codelineno-fhmodal_update_stored-12"></a><span class="c1">--#CLASIFICATION</span>
</span><span id="__span-fhmodal_update_stored-13"><a id="__codelineno-fhmodal_update_stored-13" name="__codelineno-fhmodal_update_stored-13" href="#__codelineno-fhmodal_update_stored-13"></a><span class="c1">--      Framework/systemObjects</span>
</span><span id="__span-fhmodal_update_stored-14"><a id="__codelineno-fhmodal_update_stored-14" name="__codelineno-fhmodal_update_stored-14" href="#__codelineno-fhmodal_update_stored-14"></a><span class="c1">--#DESCRIPTION</span>
</span><span id="__span-fhmodal_update_stored-15"><a id="__codelineno-fhmodal_update_stored-15" name="__codelineno-fhmodal_update_stored-15" href="#__codelineno-fhmodal_update_stored-15"></a><span class="c1">--      Used for Testing object update through Flexygo Stored procedure</span>
</span><span id="__span-fhmodal_update_stored-16"><a id="__codelineno-fhmodal_update_stored-16" name="__codelineno-fhmodal_update_stored-16" href="#__codelineno-fhmodal_update_stored-16"></a><span class="c1">--#PARAMETERS</span>
</span><span id="__span-fhmodal_update_stored-17"><a id="__codelineno-fhmodal_update_stored-17" name="__codelineno-fhmodal_update_stored-17" href="#__codelineno-fhmodal_update_stored-17"></a><span class="c1">--      @Values : Object properties ,</span>
</span><span id="__span-fhmodal_update_stored-18"><a id="__codelineno-fhmodal_update_stored-18" name="__codelineno-fhmodal_update_stored-18" href="#__codelineno-fhmodal_update_stored-18"></a><span class="c1">--      @ContextVars: Flexygo ciontext variables,</span>
</span><span id="__span-fhmodal_update_stored-19"><a id="__codelineno-fhmodal_update_stored-19" name="__codelineno-fhmodal_update_stored-19" href="#__codelineno-fhmodal_update_stored-19"></a><span class="c1">--      @RetValues : Flexygo process Helper (CloseParamWindow,JSCode,JSFile,LastException,Params,Refresh,Success,SuccesMessage,WarningMessage)</span>
</span><span id="__span-fhmodal_update_stored-20"><a id="__codelineno-fhmodal_update_stored-20" name="__codelineno-fhmodal_update_stored-20" href="#__codelineno-fhmodal_update_stored-20"></a><span class="c1">--#OBSERVATIONS</span>
</span><span id="__span-fhmodal_update_stored-21"><a id="__codelineno-fhmodal_update_stored-21" name="__codelineno-fhmodal_update_stored-21" href="#__codelineno-fhmodal_update_stored-21"></a><span class="c1">-- Values XML Sample</span>
</span><span id="__span-fhmodal_update_stored-22"><a id="__codelineno-fhmodal_update_stored-22" name="__codelineno-fhmodal_update_stored-22" href="#__codelineno-fhmodal_update_stored-22"></a><span class="w">    </span><span class="c1">--&lt;  Row rowId="d4ec88a0-3129-4c5d-b5ac-8c9d2867db64" ObjectName="systmpTest"&gt; </span>
</span><span id="__span-fhmodal_update_stored-23"><a id="__codelineno-fhmodal_update_stored-23" name="__codelineno-fhmodal_update_stored-23" href="#__codelineno-fhmodal_update_stored-23"></a><span class="w">    </span><span class="c1">--  &lt;  Property Name="TestId" Value="3" OldValue="3" TableName="_Test" IsKey="True" /&gt; </span>
</span><span id="__span-fhmodal_update_stored-24"><a id="__codelineno-fhmodal_update_stored-24" name="__codelineno-fhmodal_update_stored-24" href="#__codelineno-fhmodal_update_stored-24"></a><span class="w">    </span><span class="c1">--  &lt;  Property Name="Descrip" Value="test4" OldValue="test3" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_update_stored-25"><a id="__codelineno-fhmodal_update_stored-25" name="__codelineno-fhmodal_update_stored-25" href="#__codelineno-fhmodal_update_stored-25"></a><span class="w">    </span><span class="c1">--  &lt;  Property Name="IdDoc" Value="" OldValue="" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_update_stored-26"><a id="__codelineno-fhmodal_update_stored-26" name="__codelineno-fhmodal_update_stored-26" href="#__codelineno-fhmodal_update_stored-26"></a><span class="w">    </span><span class="c1">--  &lt;  Property Name="InsertUpdate" Value="False" OldValue="False" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_update_stored-27"><a id="__codelineno-fhmodal_update_stored-27" name="__codelineno-fhmodal_update_stored-27" href="#__codelineno-fhmodal_update_stored-27"></a><span class="w">    </span><span class="c1">--  &lt;  Property Name="Usuario" Value="" OldValue="" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_update_stored-28"><a id="__codelineno-fhmodal_update_stored-28" name="__codelineno-fhmodal_update_stored-28" href="#__codelineno-fhmodal_update_stored-28"></a><span class="w">    </span><span class="c1">--  &lt;  Property Name="FechaInsertUpdate" Value="14/02/2018 0:00:00" OldValue="14/02/2018 0:00:00" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_update_stored-29"><a id="__codelineno-fhmodal_update_stored-29" name="__codelineno-fhmodal_update_stored-29" href="#__codelineno-fhmodal_update_stored-29"></a><span class="w">    </span><span class="c1">--  &lt;  Property Name="Config" Value="config4" OldValue="Config3" TableName="_Test_Conf" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_update_stored-30"><a id="__codelineno-fhmodal_update_stored-30" name="__codelineno-fhmodal_update_stored-30" href="#__codelineno-fhmodal_update_stored-30"></a><span class="w">    </span><span class="c1">--&lt;  /Row&gt; </span>
</span><span id="__span-fhmodal_update_stored-31"><a id="__codelineno-fhmodal_update_stored-31" name="__codelineno-fhmodal_update_stored-31" href="#__codelineno-fhmodal_update_stored-31"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_update_stored-32"><a id="__codelineno-fhmodal_update_stored-32" name="__codelineno-fhmodal_update_stored-32" href="#__codelineno-fhmodal_update_stored-32"></a><span class="c1">-- ContextVars XML Sample       </span>
</span><span id="__span-fhmodal_update_stored-33"><a id="__codelineno-fhmodal_update_stored-33" name="__codelineno-fhmodal_update_stored-33" href="#__codelineno-fhmodal_update_stored-33"></a><span class="c1">--  &lt;  Row&gt; </span>
</span><span id="__span-fhmodal_update_stored-34"><a id="__codelineno-fhmodal_update_stored-34" name="__codelineno-fhmodal_update_stored-34" href="#__codelineno-fhmodal_update_stored-34"></a><span class="c1">--      &lt;  Property Name="reference" Value="0" /&gt; </span>
</span><span id="__span-fhmodal_update_stored-35"><a id="__codelineno-fhmodal_update_stored-35" name="__codelineno-fhmodal_update_stored-35" href="#__codelineno-fhmodal_update_stored-35"></a><span class="c1">--      &lt;  Property Name="subReference" Value="0" /&gt; </span>
</span><span id="__span-fhmodal_update_stored-36"><a id="__codelineno-fhmodal_update_stored-36" name="__codelineno-fhmodal_update_stored-36" href="#__codelineno-fhmodal_update_stored-36"></a><span class="c1">--      &lt;  Property Name="currentRole" Value="Admins" /&gt; </span>
</span><span id="__span-fhmodal_update_stored-37"><a id="__codelineno-fhmodal_update_stored-37" name="__codelineno-fhmodal_update_stored-37" href="#__codelineno-fhmodal_update_stored-37"></a><span class="c1">--      &lt;  Property Name="currentRoleId" Value="admins" /&gt; </span>
</span><span id="__span-fhmodal_update_stored-38"><a id="__codelineno-fhmodal_update_stored-38" name="__codelineno-fhmodal_update_stored-38" href="#__codelineno-fhmodal_update_stored-38"></a><span class="c1">--      &lt;  Property Name="currentUserLogin" Value="admin" /&gt; </span>
</span><span id="__span-fhmodal_update_stored-39"><a id="__codelineno-fhmodal_update_stored-39" name="__codelineno-fhmodal_update_stored-39" href="#__codelineno-fhmodal_update_stored-39"></a><span class="c1">--      &lt;  Property Name="currentUserId" Value="1" /&gt; </span>
</span><span id="__span-fhmodal_update_stored-40"><a id="__codelineno-fhmodal_update_stored-40" name="__codelineno-fhmodal_update_stored-40" href="#__codelineno-fhmodal_update_stored-40"></a><span class="c1">--      &lt;  Property Name="currentUserFullName" Value="admin" /&gt; </span>
</span><span id="__span-fhmodal_update_stored-41"><a id="__codelineno-fhmodal_update_stored-41" name="__codelineno-fhmodal_update_stored-41" href="#__codelineno-fhmodal_update_stored-41"></a><span class="c1">--      &lt;  Property Name="currentUserCultureId" Value="en-gb" /&gt; </span>
</span><span id="__span-fhmodal_update_stored-42"><a id="__codelineno-fhmodal_update_stored-42" name="__codelineno-fhmodal_update_stored-42" href="#__codelineno-fhmodal_update_stored-42"></a><span class="c1">--      &lt;  Property Name="currentUserLang" Value="en" /&gt; </span>
</span><span id="__span-fhmodal_update_stored-43"><a id="__codelineno-fhmodal_update_stored-43" name="__codelineno-fhmodal_update_stored-43" href="#__codelineno-fhmodal_update_stored-43"></a><span class="c1">--      &lt;  Property Name="currentUserEmail" Value="info@ahora.es.com" /&gt; </span>
</span><span id="__span-fhmodal_update_stored-44"><a id="__codelineno-fhmodal_update_stored-44" name="__codelineno-fhmodal_update_stored-44" href="#__codelineno-fhmodal_update_stored-44"></a><span class="c1">--  &lt;  /Row&gt; </span>
</span><span id="__span-fhmodal_update_stored-45"><a id="__codelineno-fhmodal_update_stored-45" name="__codelineno-fhmodal_update_stored-45" href="#__codelineno-fhmodal_update_stored-45"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_update_stored-46"><a id="__codelineno-fhmodal_update_stored-46" name="__codelineno-fhmodal_update_stored-46" href="#__codelineno-fhmodal_update_stored-46"></a><span class="c1">-- Return vars XML Sample       </span>
</span><span id="__span-fhmodal_update_stored-47"><a id="__codelineno-fhmodal_update_stored-47" name="__codelineno-fhmodal_update_stored-47" href="#__codelineno-fhmodal_update_stored-47"></a><span class="c1">--      &lt;  Property Success="False" SuccessMessage="" WarningMessage="" JSCode="" JSFile="" CloseParamWindow="False" refresh="False" /&gt; </span>
</span><span id="__span-fhmodal_update_stored-48"><a id="__codelineno-fhmodal_update_stored-48" name="__codelineno-fhmodal_update_stored-48" href="#__codelineno-fhmodal_update_stored-48"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_update_stored-49"><a id="__codelineno-fhmodal_update_stored-49" name="__codelineno-fhmodal_update_stored-49" href="#__codelineno-fhmodal_update_stored-49"></a><span class="c1">--#CHANGES</span>
</span><span id="__span-fhmodal_update_stored-50"><a id="__codelineno-fhmodal_update_stored-50" name="__codelineno-fhmodal_update_stored-50" href="#__codelineno-fhmodal_update_stored-50"></a><span class="c1">--      13/02/2018- David Miralpeix</span>
</span><span id="__span-fhmodal_update_stored-51"><a id="__codelineno-fhmodal_update_stored-51" name="__codelineno-fhmodal_update_stored-51" href="#__codelineno-fhmodal_update_stored-51"></a><span class="c1">----------------------------------------------------------------------------------</span>
</span><span id="__span-fhmodal_update_stored-52"><a id="__codelineno-fhmodal_update_stored-52" name="__codelineno-fhmodal_update_stored-52" href="#__codelineno-fhmodal_update_stored-52"></a><span class="k">BEGIN</span><span class="w"> </span><span class="n">TRY</span>
</span><span id="__span-fhmodal_update_stored-53"><a id="__codelineno-fhmodal_update_stored-53" name="__codelineno-fhmodal_update_stored-53" href="#__codelineno-fhmodal_update_stored-53"></a>
</span><span id="__span-fhmodal_update_stored-54"><a id="__codelineno-fhmodal_update_stored-54" name="__codelineno-fhmodal_update_stored-54" href="#__codelineno-fhmodal_update_stored-54"></a><span class="w">    </span><span class="c1">--Declare field variables to load</span>
</span><span id="__span-fhmodal_update_stored-55"><a id="__codelineno-fhmodal_update_stored-55" name="__codelineno-fhmodal_update_stored-55" href="#__codelineno-fhmodal_update_stored-55"></a><span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored-56"><a id="__codelineno-fhmodal_update_stored-56" name="__codelineno-fhmodal_update_stored-56" href="#__codelineno-fhmodal_update_stored-56"></a><span class="w">    </span><span class="o">@</span><span class="n">Descrip</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">2000</span><span class="p">),</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored-57"><a id="__codelineno-fhmodal_update_stored-57" name="__codelineno-fhmodal_update_stored-57" href="#__codelineno-fhmodal_update_stored-57"></a><span class="w">    </span><span class="o">@</span><span class="n">IdDoc</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span>
</span><span id="__span-fhmodal_update_stored-58"><a id="__codelineno-fhmodal_update_stored-58" name="__codelineno-fhmodal_update_stored-58" href="#__codelineno-fhmodal_update_stored-58"></a><span class="w">    </span><span class="o">@</span><span class="n">InsertUpdate</span><span class="w"> </span><span class="nb">bit</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored-59"><a id="__codelineno-fhmodal_update_stored-59" name="__codelineno-fhmodal_update_stored-59" href="#__codelineno-fhmodal_update_stored-59"></a><span class="w">    </span><span class="o">@</span><span class="n">Usuario</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
</span><span id="__span-fhmodal_update_stored-60"><a id="__codelineno-fhmodal_update_stored-60" name="__codelineno-fhmodal_update_stored-60" href="#__codelineno-fhmodal_update_stored-60"></a><span class="w">    </span><span class="o">@</span><span class="n">FechaInsertUpdate</span><span class="w"> </span><span class="n">datetime</span><span class="w"> </span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored-61"><a id="__codelineno-fhmodal_update_stored-61" name="__codelineno-fhmodal_update_stored-61" href="#__codelineno-fhmodal_update_stored-61"></a><span class="w">    </span><span class="o">@</span><span class="n">Config</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
</span><span id="__span-fhmodal_update_stored-62"><a id="__codelineno-fhmodal_update_stored-62" name="__codelineno-fhmodal_update_stored-62" href="#__codelineno-fhmodal_update_stored-62"></a><span class="w">        </span><span class="c1">--OldValues</span>
</span><span id="__span-fhmodal_update_stored-63"><a id="__codelineno-fhmodal_update_stored-63" name="__codelineno-fhmodal_update_stored-63" href="#__codelineno-fhmodal_update_stored-63"></a><span class="w">    </span><span class="o">@</span><span class="n">OldTestId</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored-64"><a id="__codelineno-fhmodal_update_stored-64" name="__codelineno-fhmodal_update_stored-64" href="#__codelineno-fhmodal_update_stored-64"></a>
</span><span id="__span-fhmodal_update_stored-65"><a id="__codelineno-fhmodal_update_stored-65" name="__codelineno-fhmodal_update_stored-65" href="#__codelineno-fhmodal_update_stored-65"></a>
</span><span id="__span-fhmodal_update_stored-66"><a id="__codelineno-fhmodal_update_stored-66" name="__codelineno-fhmodal_update_stored-66" href="#__codelineno-fhmodal_update_stored-66"></a>
</span><span id="__span-fhmodal_update_stored-67"><a id="__codelineno-fhmodal_update_stored-67" name="__codelineno-fhmodal_update_stored-67" href="#__codelineno-fhmodal_update_stored-67"></a>
</span><span id="__span-fhmodal_update_stored-68"><a id="__codelineno-fhmodal_update_stored-68" name="__codelineno-fhmodal_update_stored-68" href="#__codelineno-fhmodal_update_stored-68"></a><span class="w">     </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">OldTestId</span><span class="o">=@</span><span class="k">Values</span><span class="p">.</span><span class="n">value</span><span class="p">(</span><span class="s1">'(/Row/Property[@Name=''TestId'']/@OldValue)[1]'</span><span class="p">,</span><span class="w"> </span><span class="s1">'int'</span><span class="w"> </span><span class="p">)</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored-69"><a id="__codelineno-fhmodal_update_stored-69" name="__codelineno-fhmodal_update_stored-69" href="#__codelineno-fhmodal_update_stored-69"></a><span class="w">     </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="o">=@</span><span class="k">Values</span><span class="p">.</span><span class="n">value</span><span class="p">(</span><span class="s1">'(/Row/Property[@Name=''TestId'']/@Value)[1]'</span><span class="p">,</span><span class="w"> </span><span class="s1">'int'</span><span class="w"> </span><span class="p">)</span><span class="w">  </span>
</span><span id="__span-fhmodal_update_stored-70"><a id="__codelineno-fhmodal_update_stored-70" name="__codelineno-fhmodal_update_stored-70" href="#__codelineno-fhmodal_update_stored-70"></a><span class="w">     </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">Descrip</span><span class="o">=@</span><span class="k">Values</span><span class="p">.</span><span class="n">value</span><span class="p">(</span><span class="s1">'(/Row/Property[@Name=''Descrip'']/@Value)[1]'</span><span class="p">,</span><span class="w"> </span><span class="s1">'nvarchar(2000)'</span><span class="w"> </span><span class="p">)</span><span class="w">  </span>
</span><span id="__span-fhmodal_update_stored-71"><a id="__codelineno-fhmodal_update_stored-71" name="__codelineno-fhmodal_update_stored-71" href="#__codelineno-fhmodal_update_stored-71"></a><span class="w">     </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">Usuario</span><span class="o">=@</span><span class="k">Values</span><span class="p">.</span><span class="n">value</span><span class="p">(</span><span class="s1">'(/Row/Property[@Name=''Usuario'']/@Value)[1]'</span><span class="p">,</span><span class="w"> </span><span class="s1">'nvarchar(50)'</span><span class="w"> </span><span class="p">)</span><span class="w">  </span>
</span><span id="__span-fhmodal_update_stored-72"><a id="__codelineno-fhmodal_update_stored-72" name="__codelineno-fhmodal_update_stored-72" href="#__codelineno-fhmodal_update_stored-72"></a><span class="w">     </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">InsertUpdate</span><span class="o">=</span><span class="mi">0</span>
</span><span id="__span-fhmodal_update_stored-73"><a id="__codelineno-fhmodal_update_stored-73" name="__codelineno-fhmodal_update_stored-73" href="#__codelineno-fhmodal_update_stored-73"></a><span class="w">     </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">FechaInsertUpdate</span><span class="o">=</span><span class="n">GETDATE</span><span class="p">()</span>
</span><span id="__span-fhmodal_update_stored-74"><a id="__codelineno-fhmodal_update_stored-74" name="__codelineno-fhmodal_update_stored-74" href="#__codelineno-fhmodal_update_stored-74"></a><span class="w">     </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">Config</span><span class="o">=@</span><span class="k">Values</span><span class="p">.</span><span class="n">value</span><span class="p">(</span><span class="s1">'(/Row/Property[@Name=''Config'']/@Value)[1]'</span><span class="p">,</span><span class="w"> </span><span class="s1">'nvarchar(50)'</span><span class="w"> </span><span class="p">)</span><span class="w">  </span>
</span><span id="__span-fhmodal_update_stored-75"><a id="__codelineno-fhmodal_update_stored-75" name="__codelineno-fhmodal_update_stored-75" href="#__codelineno-fhmodal_update_stored-75"></a>
</span><span id="__span-fhmodal_update_stored-76"><a id="__codelineno-fhmodal_update_stored-76" name="__codelineno-fhmodal_update_stored-76" href="#__codelineno-fhmodal_update_stored-76"></a>
</span><span id="__span-fhmodal_update_stored-77"><a id="__codelineno-fhmodal_update_stored-77" name="__codelineno-fhmodal_update_stored-77" href="#__codelineno-fhmodal_update_stored-77"></a>
</span><span id="__span-fhmodal_update_stored-78"><a id="__codelineno-fhmodal_update_stored-78" name="__codelineno-fhmodal_update_stored-78" href="#__codelineno-fhmodal_update_stored-78"></a><span class="w">    </span><span class="cm">/* perform process (insert fields into different tables) */</span>
</span><span id="__span-fhmodal_update_stored-79"><a id="__codelineno-fhmodal_update_stored-79" name="__codelineno-fhmodal_update_stored-79" href="#__codelineno-fhmodal_update_stored-79"></a><span class="w">     </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">_Test</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">TestId</span><span class="o">=@</span><span class="n">TestId</span><span class="p">,</span><span class="n">Descrip</span><span class="o">=@</span><span class="n">Descrip</span><span class="p">,</span><span class="w"> </span><span class="n">Usuario</span><span class="o">=@</span><span class="n">Usuario</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">InsertUpdate</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">FechaInsertUpdate</span><span class="o">=@</span><span class="n">FechaInsertUpdate</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">TestId</span><span class="o">=@</span><span class="n">OldTestId</span>
</span><span id="__span-fhmodal_update_stored-80"><a id="__codelineno-fhmodal_update_stored-80" name="__codelineno-fhmodal_update_stored-80" href="#__codelineno-fhmodal_update_stored-80"></a><span class="w">     </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">_Test_conf</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">TestId</span><span class="o">=@</span><span class="n">TestId</span><span class="p">,</span><span class="n">Config</span><span class="o">=@</span><span class="n">Config</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">TestId</span><span class="o">=@</span><span class="n">OldTestId</span>
</span><span id="__span-fhmodal_update_stored-81"><a id="__codelineno-fhmodal_update_stored-81" name="__codelineno-fhmodal_update_stored-81" href="#__codelineno-fhmodal_update_stored-81"></a>
</span><span id="__span-fhmodal_update_stored-82"><a id="__codelineno-fhmodal_update_stored-82" name="__codelineno-fhmodal_update_stored-82" href="#__codelineno-fhmodal_update_stored-82"></a><span class="w">    </span><span class="cm">/* change Keys if necesary*/</span>
</span><span id="__span-fhmodal_update_stored-83"><a id="__codelineno-fhmodal_update_stored-83" name="__codelineno-fhmodal_update_stored-83" href="#__codelineno-fhmodal_update_stored-83"></a>
</span><span id="__span-fhmodal_update_stored-84"><a id="__codelineno-fhmodal_update_stored-84" name="__codelineno-fhmodal_update_stored-84" href="#__codelineno-fhmodal_update_stored-84"></a><span class="w">        </span><span class="c1">--SET @Values.modify('replace value of (/Row/Property[@Name=''TesId'']/@Value)[1] with @TestId')</span>
</span><span id="__span-fhmodal_update_stored-85"><a id="__codelineno-fhmodal_update_stored-85" name="__codelineno-fhmodal_update_stored-85" href="#__codelineno-fhmodal_update_stored-85"></a>
</span><span id="__span-fhmodal_update_stored-86"><a id="__codelineno-fhmodal_update_stored-86" name="__codelineno-fhmodal_update_stored-86" href="#__codelineno-fhmodal_update_stored-86"></a><span class="w">    </span><span class="cm">/* Process return values*/</span>
</span><span id="__span-fhmodal_update_stored-87"><a id="__codelineno-fhmodal_update_stored-87" name="__codelineno-fhmodal_update_stored-87" href="#__codelineno-fhmodal_update_stored-87"></a><span class="w">        </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="p">.</span><span class="k">modify</span><span class="p">(</span><span class="s1">'replace value of (/Property/@Success)[1] with 1'</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored-88"><a id="__codelineno-fhmodal_update_stored-88" name="__codelineno-fhmodal_update_stored-88" href="#__codelineno-fhmodal_update_stored-88"></a><span class="w">        </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="p">.</span><span class="k">modify</span><span class="p">(</span><span class="s1">'replace value of (/Property/@SuccessMessage)[1] with "All went fine"'</span><span class="p">)</span><span class="w">  </span>
</span><span id="__span-fhmodal_update_stored-89"><a id="__codelineno-fhmodal_update_stored-89" name="__codelineno-fhmodal_update_stored-89" href="#__codelineno-fhmodal_update_stored-89"></a>
</span><span id="__span-fhmodal_update_stored-90"><a id="__codelineno-fhmodal_update_stored-90" name="__codelineno-fhmodal_update_stored-90" href="#__codelineno-fhmodal_update_stored-90"></a><span class="w">    </span><span class="k">RETURN</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-fhmodal_update_stored-91"><a id="__codelineno-fhmodal_update_stored-91" name="__codelineno-fhmodal_update_stored-91" href="#__codelineno-fhmodal_update_stored-91"></a><span class="k">END</span><span class="w"> </span><span class="n">TRY</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored-92"><a id="__codelineno-fhmodal_update_stored-92" name="__codelineno-fhmodal_update_stored-92" href="#__codelineno-fhmodal_update_stored-92"></a>
</span><span id="__span-fhmodal_update_stored-93"><a id="__codelineno-fhmodal_update_stored-93" name="__codelineno-fhmodal_update_stored-93" href="#__codelineno-fhmodal_update_stored-93"></a><span class="k">BEGIN</span><span class="w"> </span><span class="n">CATCH</span>
</span><span id="__span-fhmodal_update_stored-94"><a id="__codelineno-fhmodal_update_stored-94" name="__codelineno-fhmodal_update_stored-94" href="#__codelineno-fhmodal_update_stored-94"></a><span class="w">    </span><span class="k">IF</span><span class="w"> </span><span class="o">@@</span><span class="n">TRANCOUNT</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">BEGIN</span>
</span><span id="__span-fhmodal_update_stored-95"><a id="__codelineno-fhmodal_update_stored-95" name="__codelineno-fhmodal_update_stored-95" href="#__codelineno-fhmodal_update_stored-95"></a><span class="w">        </span><span class="k">ROLLBACK</span><span class="w"> </span><span class="n">TRAN</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored-96"><a id="__codelineno-fhmodal_update_stored-96" name="__codelineno-fhmodal_update_stored-96" href="#__codelineno-fhmodal_update_stored-96"></a><span class="w">    </span><span class="k">END</span>
</span><span id="__span-fhmodal_update_stored-97"><a id="__codelineno-fhmodal_update_stored-97" name="__codelineno-fhmodal_update_stored-97" href="#__codelineno-fhmodal_update_stored-97"></a>
</span><span id="__span-fhmodal_update_stored-98"><a id="__codelineno-fhmodal_update_stored-98" name="__codelineno-fhmodal_update_stored-98" href="#__codelineno-fhmodal_update_stored-98"></a><span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">CatchError</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored-99"><a id="__codelineno-fhmodal_update_stored-99" name="__codelineno-fhmodal_update_stored-99" href="#__codelineno-fhmodal_update_stored-99"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">CatchError</span><span class="o">=</span><span class="n">dbo</span><span class="p">.</span><span class="n">funprintError</span><span class="p">(</span><span class="n">ERROR_MESSAGE</span><span class="p">(),</span><span class="n">ERROR_NUMBER</span><span class="p">(),</span><span class="n">ERROR_PROCEDURE</span><span class="p">(),</span><span class="o">@@</span><span class="n">PROCID</span><span class="w"> </span><span class="p">,</span><span class="n">ERROR_LINE</span><span class="p">())</span>
</span><span id="__span-fhmodal_update_stored-100"><a id="__codelineno-fhmodal_update_stored-100" name="__codelineno-fhmodal_update_stored-100" href="#__codelineno-fhmodal_update_stored-100"></a><span class="w">    </span><span class="n">RAISERROR</span><span class="p">(</span><span class="o">@</span><span class="n">CatchError</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored-101"><a id="__codelineno-fhmodal_update_stored-101" name="__codelineno-fhmodal_update_stored-101" href="#__codelineno-fhmodal_update_stored-101"></a>
</span><span id="__span-fhmodal_update_stored-102"><a id="__codelineno-fhmodal_update_stored-102" name="__codelineno-fhmodal_update_stored-102" href="#__codelineno-fhmodal_update_stored-102"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="p">.</span><span class="k">modify</span><span class="p">(</span><span class="s1">'replace value of (/Property/@Success)[1] with 0'</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored-103"><a id="__codelineno-fhmodal_update_stored-103" name="__codelineno-fhmodal_update_stored-103" href="#__codelineno-fhmodal_update_stored-103"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="p">.</span><span class="k">modify</span><span class="p">(</span><span class="s1">'replace value of (/Property/@SuccessMessage)[1] with "Something went wrong"'</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored-104"><a id="__codelineno-fhmodal_update_stored-104" name="__codelineno-fhmodal_update_stored-104" href="#__codelineno-fhmodal_update_stored-104"></a><span class="w">    </span><span class="k">RETURN</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-fhmodal_update_stored-105"><a id="__codelineno-fhmodal_update_stored-105" name="__codelineno-fhmodal_update_stored-105" href="#__codelineno-fhmodal_update_stored-105"></a>
</span><span id="__span-fhmodal_update_stored-106"><a id="__codelineno-fhmodal_update_stored-106" name="__codelineno-fhmodal_update_stored-106" href="#__codelineno-fhmodal_update_stored-106"></a><span class="k">END</span><span class="w"> </span><span class="n">CATCH</span>
</span></code></pre></div>
<div id="fhmodal_delete_stored" class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-fhmodal_delete_stored-1"><a id="__codelineno-fhmodal_delete_stored-1" name="__codelineno-fhmodal_delete_stored-1" href="#__codelineno-fhmodal_delete_stored-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">PROCEDURE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">P_TestDelete_Stored</span><span class="p">]</span><span class="w">  </span>
</span><span id="__span-fhmodal_delete_stored-2"><a id="__codelineno-fhmodal_delete_stored-2" name="__codelineno-fhmodal_delete_stored-2" href="#__codelineno-fhmodal_delete_stored-2"></a>
</span><span id="__span-fhmodal_delete_stored-3"><a id="__codelineno-fhmodal_delete_stored-3" name="__codelineno-fhmodal_delete_stored-3" href="#__codelineno-fhmodal_delete_stored-3"></a><span class="w">    </span><span class="o">@</span><span class="k">Values</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">XML</span><span class="w"> </span><span class="k">OUTPUT</span><span class="p">,</span>
</span><span id="__span-fhmodal_delete_stored-4"><a id="__codelineno-fhmodal_delete_stored-4" name="__codelineno-fhmodal_delete_stored-4" href="#__codelineno-fhmodal_delete_stored-4"></a><span class="w">    </span><span class="o">@</span><span class="n">ContextVars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">XML</span><span class="p">,</span>
</span><span id="__span-fhmodal_delete_stored-5"><a id="__codelineno-fhmodal_delete_stored-5" name="__codelineno-fhmodal_delete_stored-5" href="#__codelineno-fhmodal_delete_stored-5"></a><span class="w">    </span><span class="o">@</span><span class="n">RetValues</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">XML</span><span class="w"> </span><span class="k">OUTPUT</span><span class="w">     </span>
</span><span id="__span-fhmodal_delete_stored-6"><a id="__codelineno-fhmodal_delete_stored-6" name="__codelineno-fhmodal_delete_stored-6" href="#__codelineno-fhmodal_delete_stored-6"></a>
</span><span id="__span-fhmodal_delete_stored-7"><a id="__codelineno-fhmodal_delete_stored-7" name="__codelineno-fhmodal_delete_stored-7" href="#__codelineno-fhmodal_delete_stored-7"></a><span class="w">    </span><span class="k">AS</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_stored-8"><a id="__codelineno-fhmodal_delete_stored-8" name="__codelineno-fhmodal_delete_stored-8" href="#__codelineno-fhmodal_delete_stored-8"></a><span class="w">    </span><span class="c1">----------------------------------------------------------------------------------</span>
</span><span id="__span-fhmodal_delete_stored-9"><a id="__codelineno-fhmodal_delete_stored-9" name="__codelineno-fhmodal_delete_stored-9" href="#__codelineno-fhmodal_delete_stored-9"></a><span class="c1">--#NAME</span>
</span><span id="__span-fhmodal_delete_stored-10"><a id="__codelineno-fhmodal_delete_stored-10" name="__codelineno-fhmodal_delete_stored-10" href="#__codelineno-fhmodal_delete_stored-10"></a><span class="c1">--      P_TestDelete_Stored</span>
</span><span id="__span-fhmodal_delete_stored-11"><a id="__codelineno-fhmodal_delete_stored-11" name="__codelineno-fhmodal_delete_stored-11" href="#__codelineno-fhmodal_delete_stored-11"></a><span class="c1">--#CREATION</span>
</span><span id="__span-fhmodal_delete_stored-12"><a id="__codelineno-fhmodal_delete_stored-12" name="__codelineno-fhmodal_delete_stored-12" href="#__codelineno-fhmodal_delete_stored-12"></a><span class="c1">--      07/01/2016</span>
</span><span id="__span-fhmodal_delete_stored-13"><a id="__codelineno-fhmodal_delete_stored-13" name="__codelineno-fhmodal_delete_stored-13" href="#__codelineno-fhmodal_delete_stored-13"></a><span class="c1">--#CLASIFICATION</span>
</span><span id="__span-fhmodal_delete_stored-14"><a id="__codelineno-fhmodal_delete_stored-14" name="__codelineno-fhmodal_delete_stored-14" href="#__codelineno-fhmodal_delete_stored-14"></a><span class="c1">--      Framework/systemObjects</span>
</span><span id="__span-fhmodal_delete_stored-15"><a id="__codelineno-fhmodal_delete_stored-15" name="__codelineno-fhmodal_delete_stored-15" href="#__codelineno-fhmodal_delete_stored-15"></a><span class="c1">--#DESCRIPTION</span>
</span><span id="__span-fhmodal_delete_stored-16"><a id="__codelineno-fhmodal_delete_stored-16" name="__codelineno-fhmodal_delete_stored-16" href="#__codelineno-fhmodal_delete_stored-16"></a><span class="c1">--      Used for Testing object delete through Flexygo Stored procedure</span>
</span><span id="__span-fhmodal_delete_stored-17"><a id="__codelineno-fhmodal_delete_stored-17" name="__codelineno-fhmodal_delete_stored-17" href="#__codelineno-fhmodal_delete_stored-17"></a><span class="c1">--#PARAMETERS</span>
</span><span id="__span-fhmodal_delete_stored-18"><a id="__codelineno-fhmodal_delete_stored-18" name="__codelineno-fhmodal_delete_stored-18" href="#__codelineno-fhmodal_delete_stored-18"></a><span class="c1">--      @Values : Object properties ,</span>
</span><span id="__span-fhmodal_delete_stored-19"><a id="__codelineno-fhmodal_delete_stored-19" name="__codelineno-fhmodal_delete_stored-19" href="#__codelineno-fhmodal_delete_stored-19"></a><span class="c1">--      @ContextVars: Flexygo ciontext variables,</span>
</span><span id="__span-fhmodal_delete_stored-20"><a id="__codelineno-fhmodal_delete_stored-20" name="__codelineno-fhmodal_delete_stored-20" href="#__codelineno-fhmodal_delete_stored-20"></a><span class="c1">--      @RetValues : Flexygo process Helper (CloseParamWindow,JSCode,JSFile,LastException,Params,Refresh,Success,SuccesMessage,WarningMessage)</span>
</span><span id="__span-fhmodal_delete_stored-21"><a id="__codelineno-fhmodal_delete_stored-21" name="__codelineno-fhmodal_delete_stored-21" href="#__codelineno-fhmodal_delete_stored-21"></a><span class="c1">--#OBSERVATIONS</span>
</span><span id="__span-fhmodal_delete_stored-22"><a id="__codelineno-fhmodal_delete_stored-22" name="__codelineno-fhmodal_delete_stored-22" href="#__codelineno-fhmodal_delete_stored-22"></a><span class="c1">-- Values XML Sample</span>
</span><span id="__span-fhmodal_delete_stored-23"><a id="__codelineno-fhmodal_delete_stored-23" name="__codelineno-fhmodal_delete_stored-23" href="#__codelineno-fhmodal_delete_stored-23"></a><span class="c1">--  &lt; Row rowId="d4ec88a0-3129-4c5d-b5ac-8c9d2867db64" ObjectName="systmpTest"&gt; </span>
</span><span id="__span-fhmodal_delete_stored-24"><a id="__codelineno-fhmodal_delete_stored-24" name="__codelineno-fhmodal_delete_stored-24" href="#__codelineno-fhmodal_delete_stored-24"></a><span class="c1">--      &lt; Property Name="TestId" Value="3" OldValue="" TableName="_Test" IsKey="True" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored-25"><a id="__codelineno-fhmodal_delete_stored-25" name="__codelineno-fhmodal_delete_stored-25" href="#__codelineno-fhmodal_delete_stored-25"></a><span class="c1">--      &lt; Property Name="Descrip" Value="test3" OldValue="" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored-26"><a id="__codelineno-fhmodal_delete_stored-26" name="__codelineno-fhmodal_delete_stored-26" href="#__codelineno-fhmodal_delete_stored-26"></a><span class="c1">--      &lt; Property Name="IdDoc" Value="" OldValue="" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored-27"><a id="__codelineno-fhmodal_delete_stored-27" name="__codelineno-fhmodal_delete_stored-27" href="#__codelineno-fhmodal_delete_stored-27"></a><span class="c1">--      &lt; Property Name="InsertUpdate" Value="False" OldValue="False" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored-28"><a id="__codelineno-fhmodal_delete_stored-28" name="__codelineno-fhmodal_delete_stored-28" href="#__codelineno-fhmodal_delete_stored-28"></a><span class="c1">--      &lt; Property Name="Usuario" Value="" OldValue="" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored-29"><a id="__codelineno-fhmodal_delete_stored-29" name="__codelineno-fhmodal_delete_stored-29" href="#__codelineno-fhmodal_delete_stored-29"></a><span class="c1">--      &lt; Property Name="FechaInsertUpdate" Value="14/02/2018 0:00:00" OldValue="14/02/2018 0:00:00" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored-30"><a id="__codelineno-fhmodal_delete_stored-30" name="__codelineno-fhmodal_delete_stored-30" href="#__codelineno-fhmodal_delete_stored-30"></a><span class="c1">--      &lt; Property Name="Config" Value="config3" OldValue="" TableName="_Test_Conf" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored-31"><a id="__codelineno-fhmodal_delete_stored-31" name="__codelineno-fhmodal_delete_stored-31" href="#__codelineno-fhmodal_delete_stored-31"></a><span class="c1">--  &lt; /Row&gt; </span>
</span><span id="__span-fhmodal_delete_stored-32"><a id="__codelineno-fhmodal_delete_stored-32" name="__codelineno-fhmodal_delete_stored-32" href="#__codelineno-fhmodal_delete_stored-32"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_delete_stored-33"><a id="__codelineno-fhmodal_delete_stored-33" name="__codelineno-fhmodal_delete_stored-33" href="#__codelineno-fhmodal_delete_stored-33"></a><span class="c1">-- ContextVars XML Sample       </span>
</span><span id="__span-fhmodal_delete_stored-34"><a id="__codelineno-fhmodal_delete_stored-34" name="__codelineno-fhmodal_delete_stored-34" href="#__codelineno-fhmodal_delete_stored-34"></a><span class="c1">--  &lt; Row&gt; </span>
</span><span id="__span-fhmodal_delete_stored-35"><a id="__codelineno-fhmodal_delete_stored-35" name="__codelineno-fhmodal_delete_stored-35" href="#__codelineno-fhmodal_delete_stored-35"></a><span class="c1">--      &lt; Property Name="reference" Value="0" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored-36"><a id="__codelineno-fhmodal_delete_stored-36" name="__codelineno-fhmodal_delete_stored-36" href="#__codelineno-fhmodal_delete_stored-36"></a><span class="c1">--      &lt; Property Name="subReference" Value="0" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored-37"><a id="__codelineno-fhmodal_delete_stored-37" name="__codelineno-fhmodal_delete_stored-37" href="#__codelineno-fhmodal_delete_stored-37"></a><span class="c1">--      &lt; Property Name="currentRole" Value="Admins" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored-38"><a id="__codelineno-fhmodal_delete_stored-38" name="__codelineno-fhmodal_delete_stored-38" href="#__codelineno-fhmodal_delete_stored-38"></a><span class="c1">--      &lt; Property Name="currentRoleId" Value="admins" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored-39"><a id="__codelineno-fhmodal_delete_stored-39" name="__codelineno-fhmodal_delete_stored-39" href="#__codelineno-fhmodal_delete_stored-39"></a><span class="c1">--      &lt; Property Name="currentUserLogin" Value="admin" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored-40"><a id="__codelineno-fhmodal_delete_stored-40" name="__codelineno-fhmodal_delete_stored-40" href="#__codelineno-fhmodal_delete_stored-40"></a><span class="c1">--      &lt; Property Name="currentUserId" Value="1" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored-41"><a id="__codelineno-fhmodal_delete_stored-41" name="__codelineno-fhmodal_delete_stored-41" href="#__codelineno-fhmodal_delete_stored-41"></a><span class="c1">--      &lt; Property Name="currentUserFullName" Value="admin" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored-42"><a id="__codelineno-fhmodal_delete_stored-42" name="__codelineno-fhmodal_delete_stored-42" href="#__codelineno-fhmodal_delete_stored-42"></a><span class="c1">--      &lt; Property Name="currentUserCultureId" Value="en-gb" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored-43"><a id="__codelineno-fhmodal_delete_stored-43" name="__codelineno-fhmodal_delete_stored-43" href="#__codelineno-fhmodal_delete_stored-43"></a><span class="c1">--      &lt; Property Name="currentUserLang" Value="en" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored-44"><a id="__codelineno-fhmodal_delete_stored-44" name="__codelineno-fhmodal_delete_stored-44" href="#__codelineno-fhmodal_delete_stored-44"></a><span class="c1">--      &lt; Property Name="currentUserEmail" Value="info@ahora.es.com" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored-45"><a id="__codelineno-fhmodal_delete_stored-45" name="__codelineno-fhmodal_delete_stored-45" href="#__codelineno-fhmodal_delete_stored-45"></a><span class="c1">--  &lt; /Row&gt; </span>
</span><span id="__span-fhmodal_delete_stored-46"><a id="__codelineno-fhmodal_delete_stored-46" name="__codelineno-fhmodal_delete_stored-46" href="#__codelineno-fhmodal_delete_stored-46"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_delete_stored-47"><a id="__codelineno-fhmodal_delete_stored-47" name="__codelineno-fhmodal_delete_stored-47" href="#__codelineno-fhmodal_delete_stored-47"></a><span class="c1">-- Return vars XML Sample       </span>
</span><span id="__span-fhmodal_delete_stored-48"><a id="__codelineno-fhmodal_delete_stored-48" name="__codelineno-fhmodal_delete_stored-48" href="#__codelineno-fhmodal_delete_stored-48"></a><span class="c1">--      &lt; Property Success="False" SuccessMessage="" WarningMessage="" JSCode="" JSFile="" CloseParamWindow="False" refresh="False" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored-49"><a id="__codelineno-fhmodal_delete_stored-49" name="__codelineno-fhmodal_delete_stored-49" href="#__codelineno-fhmodal_delete_stored-49"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_delete_stored-50"><a id="__codelineno-fhmodal_delete_stored-50" name="__codelineno-fhmodal_delete_stored-50" href="#__codelineno-fhmodal_delete_stored-50"></a><span class="c1">--#CHANGES</span>
</span><span id="__span-fhmodal_delete_stored-51"><a id="__codelineno-fhmodal_delete_stored-51" name="__codelineno-fhmodal_delete_stored-51" href="#__codelineno-fhmodal_delete_stored-51"></a><span class="c1">--      13/02/2018- David Miralpeix</span>
</span><span id="__span-fhmodal_delete_stored-52"><a id="__codelineno-fhmodal_delete_stored-52" name="__codelineno-fhmodal_delete_stored-52" href="#__codelineno-fhmodal_delete_stored-52"></a><span class="c1">----------------------------------------------------------------------------------</span>
</span><span id="__span-fhmodal_delete_stored-53"><a id="__codelineno-fhmodal_delete_stored-53" name="__codelineno-fhmodal_delete_stored-53" href="#__codelineno-fhmodal_delete_stored-53"></a><span class="k">BEGIN</span><span class="w"> </span><span class="n">TRY</span>
</span><span id="__span-fhmodal_delete_stored-54"><a id="__codelineno-fhmodal_delete_stored-54" name="__codelineno-fhmodal_delete_stored-54" href="#__codelineno-fhmodal_delete_stored-54"></a>
</span><span id="__span-fhmodal_delete_stored-55"><a id="__codelineno-fhmodal_delete_stored-55" name="__codelineno-fhmodal_delete_stored-55" href="#__codelineno-fhmodal_delete_stored-55"></a><span class="w">    </span><span class="c1">--Declare field variables to load</span>
</span><span id="__span-fhmodal_delete_stored-56"><a id="__codelineno-fhmodal_delete_stored-56" name="__codelineno-fhmodal_delete_stored-56" href="#__codelineno-fhmodal_delete_stored-56"></a><span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_stored-57"><a id="__codelineno-fhmodal_delete_stored-57" name="__codelineno-fhmodal_delete_stored-57" href="#__codelineno-fhmodal_delete_stored-57"></a><span class="w">    </span><span class="o">@</span><span class="n">Descrip</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">2000</span><span class="p">),</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_stored-58"><a id="__codelineno-fhmodal_delete_stored-58" name="__codelineno-fhmodal_delete_stored-58" href="#__codelineno-fhmodal_delete_stored-58"></a><span class="w">    </span><span class="o">@</span><span class="n">IdDoc</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span>
</span><span id="__span-fhmodal_delete_stored-59"><a id="__codelineno-fhmodal_delete_stored-59" name="__codelineno-fhmodal_delete_stored-59" href="#__codelineno-fhmodal_delete_stored-59"></a><span class="w">    </span><span class="o">@</span><span class="n">InsertUpdate</span><span class="w"> </span><span class="nb">bit</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_stored-60"><a id="__codelineno-fhmodal_delete_stored-60" name="__codelineno-fhmodal_delete_stored-60" href="#__codelineno-fhmodal_delete_stored-60"></a><span class="w">    </span><span class="o">@</span><span class="n">Usuario</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
</span><span id="__span-fhmodal_delete_stored-61"><a id="__codelineno-fhmodal_delete_stored-61" name="__codelineno-fhmodal_delete_stored-61" href="#__codelineno-fhmodal_delete_stored-61"></a><span class="w">    </span><span class="o">@</span><span class="n">FechaInsertUpdate</span><span class="w"> </span><span class="n">datetime</span><span class="w"> </span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_stored-62"><a id="__codelineno-fhmodal_delete_stored-62" name="__codelineno-fhmodal_delete_stored-62" href="#__codelineno-fhmodal_delete_stored-62"></a><span class="w">    </span><span class="o">@</span><span class="n">Config</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</span><span id="__span-fhmodal_delete_stored-63"><a id="__codelineno-fhmodal_delete_stored-63" name="__codelineno-fhmodal_delete_stored-63" href="#__codelineno-fhmodal_delete_stored-63"></a>
</span><span id="__span-fhmodal_delete_stored-64"><a id="__codelineno-fhmodal_delete_stored-64" name="__codelineno-fhmodal_delete_stored-64" href="#__codelineno-fhmodal_delete_stored-64"></a>
</span><span id="__span-fhmodal_delete_stored-65"><a id="__codelineno-fhmodal_delete_stored-65" name="__codelineno-fhmodal_delete_stored-65" href="#__codelineno-fhmodal_delete_stored-65"></a><span class="w">     </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="o">=@</span><span class="k">Values</span><span class="p">.</span><span class="n">value</span><span class="p">(</span><span class="s1">'(/Row/Property[@Name=''TestId'']/@Value)[1]'</span><span class="p">,</span><span class="w"> </span><span class="s1">'int'</span><span class="w"> </span><span class="p">)</span><span class="w">  </span>
</span><span id="__span-fhmodal_delete_stored-66"><a id="__codelineno-fhmodal_delete_stored-66" name="__codelineno-fhmodal_delete_stored-66" href="#__codelineno-fhmodal_delete_stored-66"></a><span class="w">     </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">Descrip</span><span class="o">=@</span><span class="k">Values</span><span class="p">.</span><span class="n">value</span><span class="p">(</span><span class="s1">'(/Row/Property[@Name=''Descrip'']/@Value)[1]'</span><span class="p">,</span><span class="w"> </span><span class="s1">'nvarchar(2000)'</span><span class="w"> </span><span class="p">)</span><span class="w">  </span>
</span><span id="__span-fhmodal_delete_stored-67"><a id="__codelineno-fhmodal_delete_stored-67" name="__codelineno-fhmodal_delete_stored-67" href="#__codelineno-fhmodal_delete_stored-67"></a><span class="w">     </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">Usuario</span><span class="o">=@</span><span class="k">Values</span><span class="p">.</span><span class="n">value</span><span class="p">(</span><span class="s1">'(/Row/Property[@Name=''Usuario'']/@Value)[1]'</span><span class="p">,</span><span class="w"> </span><span class="s1">'nvarchar(50)'</span><span class="w"> </span><span class="p">)</span><span class="w">  </span>
</span><span id="__span-fhmodal_delete_stored-68"><a id="__codelineno-fhmodal_delete_stored-68" name="__codelineno-fhmodal_delete_stored-68" href="#__codelineno-fhmodal_delete_stored-68"></a><span class="w">     </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">InsertUpdate</span><span class="o">=@</span><span class="k">Values</span><span class="p">.</span><span class="n">value</span><span class="p">(</span><span class="s1">'(/Row/Property[@Name=''InsertUpdate'']/@Value)[1]'</span><span class="p">,</span><span class="w"> </span><span class="s1">'bit'</span><span class="w"> </span><span class="p">)</span><span class="w">  </span>
</span><span id="__span-fhmodal_delete_stored-69"><a id="__codelineno-fhmodal_delete_stored-69" name="__codelineno-fhmodal_delete_stored-69" href="#__codelineno-fhmodal_delete_stored-69"></a><span class="w">     </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">FechaInsertUpdate</span><span class="o">=@</span><span class="k">Values</span><span class="p">.</span><span class="n">value</span><span class="p">(</span><span class="s1">'(/Row/Property[@Name=''FechaInsertUpdate'']/@Value)[1]'</span><span class="p">,</span><span class="w"> </span><span class="s1">'datetime'</span><span class="w"> </span><span class="p">)</span><span class="w">  </span>
</span><span id="__span-fhmodal_delete_stored-70"><a id="__codelineno-fhmodal_delete_stored-70" name="__codelineno-fhmodal_delete_stored-70" href="#__codelineno-fhmodal_delete_stored-70"></a><span class="w">     </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">Config</span><span class="o">=@</span><span class="k">Values</span><span class="p">.</span><span class="n">value</span><span class="p">(</span><span class="s1">'(/Row/Property[@Name=''Config'']/@Value)[1]'</span><span class="p">,</span><span class="w"> </span><span class="s1">'nvarchar(50)'</span><span class="w"> </span><span class="p">)</span><span class="w">  </span>
</span><span id="__span-fhmodal_delete_stored-71"><a id="__codelineno-fhmodal_delete_stored-71" name="__codelineno-fhmodal_delete_stored-71" href="#__codelineno-fhmodal_delete_stored-71"></a>
</span><span id="__span-fhmodal_delete_stored-72"><a id="__codelineno-fhmodal_delete_stored-72" name="__codelineno-fhmodal_delete_stored-72" href="#__codelineno-fhmodal_delete_stored-72"></a>
</span><span id="__span-fhmodal_delete_stored-73"><a id="__codelineno-fhmodal_delete_stored-73" name="__codelineno-fhmodal_delete_stored-73" href="#__codelineno-fhmodal_delete_stored-73"></a>
</span><span id="__span-fhmodal_delete_stored-74"><a id="__codelineno-fhmodal_delete_stored-74" name="__codelineno-fhmodal_delete_stored-74" href="#__codelineno-fhmodal_delete_stored-74"></a><span class="w">    </span><span class="cm">/* perform process (delete fields into different tables) */</span>
</span><span id="__span-fhmodal_delete_stored-75"><a id="__codelineno-fhmodal_delete_stored-75" name="__codelineno-fhmodal_delete_stored-75" href="#__codelineno-fhmodal_delete_stored-75"></a><span class="w">     </span><span class="k">Delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">_Test</span><span class="w">  </span><span class="k">where</span><span class="w"> </span><span class="n">TestId</span><span class="o">=@</span><span class="n">TestId</span>
</span><span id="__span-fhmodal_delete_stored-76"><a id="__codelineno-fhmodal_delete_stored-76" name="__codelineno-fhmodal_delete_stored-76" href="#__codelineno-fhmodal_delete_stored-76"></a><span class="w">     </span><span class="k">Delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">_Test_Conf</span><span class="w">  </span><span class="k">where</span><span class="w"> </span><span class="n">TestId</span><span class="o">=@</span><span class="n">TestId</span>
</span><span id="__span-fhmodal_delete_stored-77"><a id="__codelineno-fhmodal_delete_stored-77" name="__codelineno-fhmodal_delete_stored-77" href="#__codelineno-fhmodal_delete_stored-77"></a>
</span><span id="__span-fhmodal_delete_stored-78"><a id="__codelineno-fhmodal_delete_stored-78" name="__codelineno-fhmodal_delete_stored-78" href="#__codelineno-fhmodal_delete_stored-78"></a><span class="w">    </span><span class="cm">/* Process return values*/</span>
</span><span id="__span-fhmodal_delete_stored-79"><a id="__codelineno-fhmodal_delete_stored-79" name="__codelineno-fhmodal_delete_stored-79" href="#__codelineno-fhmodal_delete_stored-79"></a><span class="w">        </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="p">.</span><span class="k">modify</span><span class="p">(</span><span class="s1">'replace value of (/Property/@Success)[1] with 1'</span><span class="p">)</span>
</span><span id="__span-fhmodal_delete_stored-80"><a id="__codelineno-fhmodal_delete_stored-80" name="__codelineno-fhmodal_delete_stored-80" href="#__codelineno-fhmodal_delete_stored-80"></a><span class="w">        </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="p">.</span><span class="k">modify</span><span class="p">(</span><span class="s1">'replace value of (/Property/@SuccessMessage)[1] with "All went fine"'</span><span class="p">)</span>
</span><span id="__span-fhmodal_delete_stored-81"><a id="__codelineno-fhmodal_delete_stored-81" name="__codelineno-fhmodal_delete_stored-81" href="#__codelineno-fhmodal_delete_stored-81"></a><span class="w">    </span><span class="cm">/* Return 0 if error */</span>
</span><span id="__span-fhmodal_delete_stored-82"><a id="__codelineno-fhmodal_delete_stored-82" name="__codelineno-fhmodal_delete_stored-82" href="#__codelineno-fhmodal_delete_stored-82"></a><span class="w">        </span><span class="k">RETURN</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-fhmodal_delete_stored-83"><a id="__codelineno-fhmodal_delete_stored-83" name="__codelineno-fhmodal_delete_stored-83" href="#__codelineno-fhmodal_delete_stored-83"></a><span class="k">END</span><span class="w"> </span><span class="n">TRY</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_stored-84"><a id="__codelineno-fhmodal_delete_stored-84" name="__codelineno-fhmodal_delete_stored-84" href="#__codelineno-fhmodal_delete_stored-84"></a>
</span><span id="__span-fhmodal_delete_stored-85"><a id="__codelineno-fhmodal_delete_stored-85" name="__codelineno-fhmodal_delete_stored-85" href="#__codelineno-fhmodal_delete_stored-85"></a><span class="k">BEGIN</span><span class="w"> </span><span class="n">CATCH</span>
</span><span id="__span-fhmodal_delete_stored-86"><a id="__codelineno-fhmodal_delete_stored-86" name="__codelineno-fhmodal_delete_stored-86" href="#__codelineno-fhmodal_delete_stored-86"></a><span class="w">    </span><span class="k">IF</span><span class="w"> </span><span class="o">@@</span><span class="n">TRANCOUNT</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">BEGIN</span>
</span><span id="__span-fhmodal_delete_stored-87"><a id="__codelineno-fhmodal_delete_stored-87" name="__codelineno-fhmodal_delete_stored-87" href="#__codelineno-fhmodal_delete_stored-87"></a><span class="w">        </span><span class="k">ROLLBACK</span><span class="w"> </span><span class="n">TRAN</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_stored-88"><a id="__codelineno-fhmodal_delete_stored-88" name="__codelineno-fhmodal_delete_stored-88" href="#__codelineno-fhmodal_delete_stored-88"></a><span class="w">    </span><span class="k">END</span>
</span><span id="__span-fhmodal_delete_stored-89"><a id="__codelineno-fhmodal_delete_stored-89" name="__codelineno-fhmodal_delete_stored-89" href="#__codelineno-fhmodal_delete_stored-89"></a>
</span><span id="__span-fhmodal_delete_stored-90"><a id="__codelineno-fhmodal_delete_stored-90" name="__codelineno-fhmodal_delete_stored-90" href="#__codelineno-fhmodal_delete_stored-90"></a><span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">CatchError</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span>
</span><span id="__span-fhmodal_delete_stored-91"><a id="__codelineno-fhmodal_delete_stored-91" name="__codelineno-fhmodal_delete_stored-91" href="#__codelineno-fhmodal_delete_stored-91"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">CatchError</span><span class="o">=</span><span class="n">dbo</span><span class="p">.</span><span class="n">funprintError</span><span class="p">(</span><span class="n">ERROR_MESSAGE</span><span class="p">(),</span><span class="n">ERROR_NUMBER</span><span class="p">(),</span><span class="n">ERROR_PROCEDURE</span><span class="p">(),</span><span class="o">@@</span><span class="n">PROCID</span><span class="w"> </span><span class="p">,</span><span class="n">ERROR_LINE</span><span class="p">())</span>
</span><span id="__span-fhmodal_delete_stored-92"><a id="__codelineno-fhmodal_delete_stored-92" name="__codelineno-fhmodal_delete_stored-92" href="#__codelineno-fhmodal_delete_stored-92"></a><span class="w">    </span><span class="n">RAISERROR</span><span class="p">(</span><span class="o">@</span><span class="n">CatchError</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-fhmodal_delete_stored-93"><a id="__codelineno-fhmodal_delete_stored-93" name="__codelineno-fhmodal_delete_stored-93" href="#__codelineno-fhmodal_delete_stored-93"></a>
</span><span id="__span-fhmodal_delete_stored-94"><a id="__codelineno-fhmodal_delete_stored-94" name="__codelineno-fhmodal_delete_stored-94" href="#__codelineno-fhmodal_delete_stored-94"></a>
</span><span id="__span-fhmodal_delete_stored-95"><a id="__codelineno-fhmodal_delete_stored-95" name="__codelineno-fhmodal_delete_stored-95" href="#__codelineno-fhmodal_delete_stored-95"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="p">.</span><span class="k">modify</span><span class="p">(</span><span class="s1">'replace value of (/Property/@Success)[1] with 0'</span><span class="p">)</span>
</span><span id="__span-fhmodal_delete_stored-96"><a id="__codelineno-fhmodal_delete_stored-96" name="__codelineno-fhmodal_delete_stored-96" href="#__codelineno-fhmodal_delete_stored-96"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="p">.</span><span class="k">modify</span><span class="p">(</span><span class="s1">'replace value of (/Property/@SuccessMessage)[1] with "something went wrong"'</span><span class="p">)</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_stored-97"><a id="__codelineno-fhmodal_delete_stored-97" name="__codelineno-fhmodal_delete_stored-97" href="#__codelineno-fhmodal_delete_stored-97"></a>
</span><span id="__span-fhmodal_delete_stored-98"><a id="__codelineno-fhmodal_delete_stored-98" name="__codelineno-fhmodal_delete_stored-98" href="#__codelineno-fhmodal_delete_stored-98"></a><span class="w">    </span><span class="k">RETURN</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-fhmodal_delete_stored-99"><a id="__codelineno-fhmodal_delete_stored-99" name="__codelineno-fhmodal_delete_stored-99" href="#__codelineno-fhmodal_delete_stored-99"></a>
</span><span id="__span-fhmodal_delete_stored-100"><a id="__codelineno-fhmodal_delete_stored-100" name="__codelineno-fhmodal_delete_stored-100" href="#__codelineno-fhmodal_delete_stored-100"></a><span class="k">END</span><span class="w"> </span><span class="n">CATCH</span>
</span></code></pre></div>
<div id="fhmodal_insert_stored_advanced" class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-fhmodal_insert_stored_advanced-1"><a id="__codelineno-fhmodal_insert_stored_advanced-1" name="__codelineno-fhmodal_insert_stored_advanced-1" href="#__codelineno-fhmodal_insert_stored_advanced-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">PROCEDURE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">P_TestInsert_Stored_advanced</span><span class="p">]</span><span class="w">  </span>
</span><span id="__span-fhmodal_insert_stored_advanced-2"><a id="__codelineno-fhmodal_insert_stored_advanced-2" name="__codelineno-fhmodal_insert_stored_advanced-2" href="#__codelineno-fhmodal_insert_stored_advanced-2"></a>
</span><span id="__span-fhmodal_insert_stored_advanced-3"><a id="__codelineno-fhmodal_insert_stored_advanced-3" name="__codelineno-fhmodal_insert_stored_advanced-3" href="#__codelineno-fhmodal_insert_stored_advanced-3"></a><span class="w">    </span><span class="o">@</span><span class="k">Values</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">XML</span><span class="w"> </span><span class="k">OUTPUT</span><span class="p">,</span>
</span><span id="__span-fhmodal_insert_stored_advanced-4"><a id="__codelineno-fhmodal_insert_stored_advanced-4" name="__codelineno-fhmodal_insert_stored_advanced-4" href="#__codelineno-fhmodal_insert_stored_advanced-4"></a><span class="w">    </span><span class="o">@</span><span class="n">ContextVars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">XML</span><span class="p">,</span>
</span><span id="__span-fhmodal_insert_stored_advanced-5"><a id="__codelineno-fhmodal_insert_stored_advanced-5" name="__codelineno-fhmodal_insert_stored_advanced-5" href="#__codelineno-fhmodal_insert_stored_advanced-5"></a><span class="w">    </span><span class="o">@</span><span class="n">RetValues</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">XML</span><span class="w"> </span><span class="k">OUTPUT</span><span class="w">     </span>
</span><span id="__span-fhmodal_insert_stored_advanced-6"><a id="__codelineno-fhmodal_insert_stored_advanced-6" name="__codelineno-fhmodal_insert_stored_advanced-6" href="#__codelineno-fhmodal_insert_stored_advanced-6"></a>
</span><span id="__span-fhmodal_insert_stored_advanced-7"><a id="__codelineno-fhmodal_insert_stored_advanced-7" name="__codelineno-fhmodal_insert_stored_advanced-7" href="#__codelineno-fhmodal_insert_stored_advanced-7"></a><span class="w">    </span><span class="k">AS</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_stored_advanced-8"><a id="__codelineno-fhmodal_insert_stored_advanced-8" name="__codelineno-fhmodal_insert_stored_advanced-8" href="#__codelineno-fhmodal_insert_stored_advanced-8"></a><span class="w">    </span><span class="c1">----------------------------------------------------------------------------------</span>
</span><span id="__span-fhmodal_insert_stored_advanced-9"><a id="__codelineno-fhmodal_insert_stored_advanced-9" name="__codelineno-fhmodal_insert_stored_advanced-9" href="#__codelineno-fhmodal_insert_stored_advanced-9"></a><span class="c1">--#NAME</span>
</span><span id="__span-fhmodal_insert_stored_advanced-10"><a id="__codelineno-fhmodal_insert_stored_advanced-10" name="__codelineno-fhmodal_insert_stored_advanced-10" href="#__codelineno-fhmodal_insert_stored_advanced-10"></a><span class="c1">--      P_TestInsert_Stored</span>
</span><span id="__span-fhmodal_insert_stored_advanced-11"><a id="__codelineno-fhmodal_insert_stored_advanced-11" name="__codelineno-fhmodal_insert_stored_advanced-11" href="#__codelineno-fhmodal_insert_stored_advanced-11"></a><span class="c1">--#CREATION</span>
</span><span id="__span-fhmodal_insert_stored_advanced-12"><a id="__codelineno-fhmodal_insert_stored_advanced-12" name="__codelineno-fhmodal_insert_stored_advanced-12" href="#__codelineno-fhmodal_insert_stored_advanced-12"></a><span class="c1">--      07/01/2016</span>
</span><span id="__span-fhmodal_insert_stored_advanced-13"><a id="__codelineno-fhmodal_insert_stored_advanced-13" name="__codelineno-fhmodal_insert_stored_advanced-13" href="#__codelineno-fhmodal_insert_stored_advanced-13"></a><span class="c1">--#CLASIFICATION</span>
</span><span id="__span-fhmodal_insert_stored_advanced-14"><a id="__codelineno-fhmodal_insert_stored_advanced-14" name="__codelineno-fhmodal_insert_stored_advanced-14" href="#__codelineno-fhmodal_insert_stored_advanced-14"></a><span class="c1">--      Framework/systemObjects</span>
</span><span id="__span-fhmodal_insert_stored_advanced-15"><a id="__codelineno-fhmodal_insert_stored_advanced-15" name="__codelineno-fhmodal_insert_stored_advanced-15" href="#__codelineno-fhmodal_insert_stored_advanced-15"></a><span class="c1">--#DESCRIPTION</span>
</span><span id="__span-fhmodal_insert_stored_advanced-16"><a id="__codelineno-fhmodal_insert_stored_advanced-16" name="__codelineno-fhmodal_insert_stored_advanced-16" href="#__codelineno-fhmodal_insert_stored_advanced-16"></a><span class="c1">--      Used for Testing object insert through Flexygo Stored procedure</span>
</span><span id="__span-fhmodal_insert_stored_advanced-17"><a id="__codelineno-fhmodal_insert_stored_advanced-17" name="__codelineno-fhmodal_insert_stored_advanced-17" href="#__codelineno-fhmodal_insert_stored_advanced-17"></a><span class="c1">--#PARAMETERS</span>
</span><span id="__span-fhmodal_insert_stored_advanced-18"><a id="__codelineno-fhmodal_insert_stored_advanced-18" name="__codelineno-fhmodal_insert_stored_advanced-18" href="#__codelineno-fhmodal_insert_stored_advanced-18"></a><span class="c1">--      @Values : Object properties ,</span>
</span><span id="__span-fhmodal_insert_stored_advanced-19"><a id="__codelineno-fhmodal_insert_stored_advanced-19" name="__codelineno-fhmodal_insert_stored_advanced-19" href="#__codelineno-fhmodal_insert_stored_advanced-19"></a><span class="c1">--      @ContextVars: Flexygo ciontext variables,</span>
</span><span id="__span-fhmodal_insert_stored_advanced-20"><a id="__codelineno-fhmodal_insert_stored_advanced-20" name="__codelineno-fhmodal_insert_stored_advanced-20" href="#__codelineno-fhmodal_insert_stored_advanced-20"></a><span class="c1">--      @RetValues : Flexygo process Helper (CloseParamWindow,JSCode,JSFile,LastException,Params,Refresh,Success,SuccesMessage,WarningMessage)</span>
</span><span id="__span-fhmodal_insert_stored_advanced-21"><a id="__codelineno-fhmodal_insert_stored_advanced-21" name="__codelineno-fhmodal_insert_stored_advanced-21" href="#__codelineno-fhmodal_insert_stored_advanced-21"></a><span class="c1">--#OBSERVATIONS</span>
</span><span id="__span-fhmodal_insert_stored_advanced-22"><a id="__codelineno-fhmodal_insert_stored_advanced-22" name="__codelineno-fhmodal_insert_stored_advanced-22" href="#__codelineno-fhmodal_insert_stored_advanced-22"></a><span class="c1">-- Values XML Sample</span>
</span><span id="__span-fhmodal_insert_stored_advanced-23"><a id="__codelineno-fhmodal_insert_stored_advanced-23" name="__codelineno-fhmodal_insert_stored_advanced-23" href="#__codelineno-fhmodal_insert_stored_advanced-23"></a><span class="c1">--  &lt; Row rowId="d4ec88a0-3129-4c5d-b5ac-8c9d2867db64" ObjectName="systmpTest"&gt; </span>
</span><span id="__span-fhmodal_insert_stored_advanced-24"><a id="__codelineno-fhmodal_insert_stored_advanced-24" name="__codelineno-fhmodal_insert_stored_advanced-24" href="#__codelineno-fhmodal_insert_stored_advanced-24"></a><span class="c1">--      &lt; Property Name="TestId" Value="3" OldValue="" TableName="_Test" IsKey="True" /&gt; </span>
</span><span id="__span-fhmodal_insert_stored_advanced-25"><a id="__codelineno-fhmodal_insert_stored_advanced-25" name="__codelineno-fhmodal_insert_stored_advanced-25" href="#__codelineno-fhmodal_insert_stored_advanced-25"></a><span class="c1">--      &lt; Property Name="Descrip" Value="test3" OldValue="" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_insert_stored_advanced-26"><a id="__codelineno-fhmodal_insert_stored_advanced-26" name="__codelineno-fhmodal_insert_stored_advanced-26" href="#__codelineno-fhmodal_insert_stored_advanced-26"></a><span class="c1">--      &lt; Property Name="IdDoc" Value="" OldValue="" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_insert_stored_advanced-27"><a id="__codelineno-fhmodal_insert_stored_advanced-27" name="__codelineno-fhmodal_insert_stored_advanced-27" href="#__codelineno-fhmodal_insert_stored_advanced-27"></a><span class="c1">--      &lt; Property Name="InsertUpdate" Value="False" OldValue="False" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_insert_stored_advanced-28"><a id="__codelineno-fhmodal_insert_stored_advanced-28" name="__codelineno-fhmodal_insert_stored_advanced-28" href="#__codelineno-fhmodal_insert_stored_advanced-28"></a><span class="c1">--      &lt; Property Name="Usuario" Value="" OldValue="" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_insert_stored_advanced-29"><a id="__codelineno-fhmodal_insert_stored_advanced-29" name="__codelineno-fhmodal_insert_stored_advanced-29" href="#__codelineno-fhmodal_insert_stored_advanced-29"></a><span class="c1">--      &lt; Property Name="FechaInsertUpdate" Value="14/02/2018 0:00:00" OldValue="14/02/2018 0:00:00" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_insert_stored_advanced-30"><a id="__codelineno-fhmodal_insert_stored_advanced-30" name="__codelineno-fhmodal_insert_stored_advanced-30" href="#__codelineno-fhmodal_insert_stored_advanced-30"></a><span class="c1">--      &lt; Property Name="Config" Value="config3" OldValue="" TableName="_Test_Conf" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_insert_stored_advanced-31"><a id="__codelineno-fhmodal_insert_stored_advanced-31" name="__codelineno-fhmodal_insert_stored_advanced-31" href="#__codelineno-fhmodal_insert_stored_advanced-31"></a><span class="c1">--  &lt; /Row&gt; </span>
</span><span id="__span-fhmodal_insert_stored_advanced-32"><a id="__codelineno-fhmodal_insert_stored_advanced-32" name="__codelineno-fhmodal_insert_stored_advanced-32" href="#__codelineno-fhmodal_insert_stored_advanced-32"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_insert_stored_advanced-33"><a id="__codelineno-fhmodal_insert_stored_advanced-33" name="__codelineno-fhmodal_insert_stored_advanced-33" href="#__codelineno-fhmodal_insert_stored_advanced-33"></a><span class="c1">-- ContextVars XML Sample       </span>
</span><span id="__span-fhmodal_insert_stored_advanced-34"><a id="__codelineno-fhmodal_insert_stored_advanced-34" name="__codelineno-fhmodal_insert_stored_advanced-34" href="#__codelineno-fhmodal_insert_stored_advanced-34"></a><span class="c1">--  &lt; Row&gt; </span>
</span><span id="__span-fhmodal_insert_stored_advanced-35"><a id="__codelineno-fhmodal_insert_stored_advanced-35" name="__codelineno-fhmodal_insert_stored_advanced-35" href="#__codelineno-fhmodal_insert_stored_advanced-35"></a><span class="c1">--      &lt; Property Name="reference" Value="0" /&gt; </span>
</span><span id="__span-fhmodal_insert_stored_advanced-36"><a id="__codelineno-fhmodal_insert_stored_advanced-36" name="__codelineno-fhmodal_insert_stored_advanced-36" href="#__codelineno-fhmodal_insert_stored_advanced-36"></a><span class="c1">--      &lt; Property Name="subReference" Value="0" /&gt; </span>
</span><span id="__span-fhmodal_insert_stored_advanced-37"><a id="__codelineno-fhmodal_insert_stored_advanced-37" name="__codelineno-fhmodal_insert_stored_advanced-37" href="#__codelineno-fhmodal_insert_stored_advanced-37"></a><span class="c1">--      &lt; Property Name="currentRole" Value="Admins" /&gt; </span>
</span><span id="__span-fhmodal_insert_stored_advanced-38"><a id="__codelineno-fhmodal_insert_stored_advanced-38" name="__codelineno-fhmodal_insert_stored_advanced-38" href="#__codelineno-fhmodal_insert_stored_advanced-38"></a><span class="c1">--      &lt; Property Name="currentRoleId" Value="admins" /&gt; </span>
</span><span id="__span-fhmodal_insert_stored_advanced-39"><a id="__codelineno-fhmodal_insert_stored_advanced-39" name="__codelineno-fhmodal_insert_stored_advanced-39" href="#__codelineno-fhmodal_insert_stored_advanced-39"></a><span class="c1">--      &lt; Property Name="currentUserLogin" Value="admin" /&gt; </span>
</span><span id="__span-fhmodal_insert_stored_advanced-40"><a id="__codelineno-fhmodal_insert_stored_advanced-40" name="__codelineno-fhmodal_insert_stored_advanced-40" href="#__codelineno-fhmodal_insert_stored_advanced-40"></a><span class="c1">--      &lt; Property Name="currentUserId" Value="1" /&gt; </span>
</span><span id="__span-fhmodal_insert_stored_advanced-41"><a id="__codelineno-fhmodal_insert_stored_advanced-41" name="__codelineno-fhmodal_insert_stored_advanced-41" href="#__codelineno-fhmodal_insert_stored_advanced-41"></a><span class="c1">--      &lt; Property Name="currentUserFullName" Value="admin" /&gt; </span>
</span><span id="__span-fhmodal_insert_stored_advanced-42"><a id="__codelineno-fhmodal_insert_stored_advanced-42" name="__codelineno-fhmodal_insert_stored_advanced-42" href="#__codelineno-fhmodal_insert_stored_advanced-42"></a><span class="c1">--      &lt; Property Name="currentUserCultureId" Value="en-gb" /&gt; </span>
</span><span id="__span-fhmodal_insert_stored_advanced-43"><a id="__codelineno-fhmodal_insert_stored_advanced-43" name="__codelineno-fhmodal_insert_stored_advanced-43" href="#__codelineno-fhmodal_insert_stored_advanced-43"></a><span class="c1">--      &lt; Property Name="currentUserLang" Value="en" /&gt; </span>
</span><span id="__span-fhmodal_insert_stored_advanced-44"><a id="__codelineno-fhmodal_insert_stored_advanced-44" name="__codelineno-fhmodal_insert_stored_advanced-44" href="#__codelineno-fhmodal_insert_stored_advanced-44"></a><span class="c1">--      &lt; Property Name="currentUserEmail" Value="info@ahora.es.com" /&gt; </span>
</span><span id="__span-fhmodal_insert_stored_advanced-45"><a id="__codelineno-fhmodal_insert_stored_advanced-45" name="__codelineno-fhmodal_insert_stored_advanced-45" href="#__codelineno-fhmodal_insert_stored_advanced-45"></a><span class="c1">--  &lt; /Row&gt; </span>
</span><span id="__span-fhmodal_insert_stored_advanced-46"><a id="__codelineno-fhmodal_insert_stored_advanced-46" name="__codelineno-fhmodal_insert_stored_advanced-46" href="#__codelineno-fhmodal_insert_stored_advanced-46"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_insert_stored_advanced-47"><a id="__codelineno-fhmodal_insert_stored_advanced-47" name="__codelineno-fhmodal_insert_stored_advanced-47" href="#__codelineno-fhmodal_insert_stored_advanced-47"></a><span class="c1">-- Return vars XML Sample       </span>
</span><span id="__span-fhmodal_insert_stored_advanced-48"><a id="__codelineno-fhmodal_insert_stored_advanced-48" name="__codelineno-fhmodal_insert_stored_advanced-48" href="#__codelineno-fhmodal_insert_stored_advanced-48"></a><span class="c1">--      &lt; Property Success="False" SuccessMessage="" WarningMessage="" JSCode="" JSFile="" CloseParamWindow="False" refresh="False" /&gt; </span>
</span><span id="__span-fhmodal_insert_stored_advanced-49"><a id="__codelineno-fhmodal_insert_stored_advanced-49" name="__codelineno-fhmodal_insert_stored_advanced-49" href="#__codelineno-fhmodal_insert_stored_advanced-49"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_insert_stored_advanced-50"><a id="__codelineno-fhmodal_insert_stored_advanced-50" name="__codelineno-fhmodal_insert_stored_advanced-50" href="#__codelineno-fhmodal_insert_stored_advanced-50"></a><span class="c1">--#CHANGES</span>
</span><span id="__span-fhmodal_insert_stored_advanced-51"><a id="__codelineno-fhmodal_insert_stored_advanced-51" name="__codelineno-fhmodal_insert_stored_advanced-51" href="#__codelineno-fhmodal_insert_stored_advanced-51"></a><span class="c1">--      13/02/2018- David Miralpeix</span>
</span><span id="__span-fhmodal_insert_stored_advanced-52"><a id="__codelineno-fhmodal_insert_stored_advanced-52" name="__codelineno-fhmodal_insert_stored_advanced-52" href="#__codelineno-fhmodal_insert_stored_advanced-52"></a><span class="c1">----------------------------------------------------------------------------------</span>
</span><span id="__span-fhmodal_insert_stored_advanced-53"><a id="__codelineno-fhmodal_insert_stored_advanced-53" name="__codelineno-fhmodal_insert_stored_advanced-53" href="#__codelineno-fhmodal_insert_stored_advanced-53"></a><span class="k">BEGIN</span><span class="w"> </span><span class="n">TRY</span>
</span><span id="__span-fhmodal_insert_stored_advanced-54"><a id="__codelineno-fhmodal_insert_stored_advanced-54" name="__codelineno-fhmodal_insert_stored_advanced-54" href="#__codelineno-fhmodal_insert_stored_advanced-54"></a>
</span><span id="__span-fhmodal_insert_stored_advanced-55"><a id="__codelineno-fhmodal_insert_stored_advanced-55" name="__codelineno-fhmodal_insert_stored_advanced-55" href="#__codelineno-fhmodal_insert_stored_advanced-55"></a><span class="w">    </span><span class="c1">--Declare field variables to load</span>
</span><span id="__span-fhmodal_insert_stored_advanced-56"><a id="__codelineno-fhmodal_insert_stored_advanced-56" name="__codelineno-fhmodal_insert_stored_advanced-56" href="#__codelineno-fhmodal_insert_stored_advanced-56"></a><span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_stored_advanced-57"><a id="__codelineno-fhmodal_insert_stored_advanced-57" name="__codelineno-fhmodal_insert_stored_advanced-57" href="#__codelineno-fhmodal_insert_stored_advanced-57"></a><span class="w">    </span><span class="o">@</span><span class="n">Descrip</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">2000</span><span class="p">),</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_stored_advanced-58"><a id="__codelineno-fhmodal_insert_stored_advanced-58" name="__codelineno-fhmodal_insert_stored_advanced-58" href="#__codelineno-fhmodal_insert_stored_advanced-58"></a><span class="w">    </span><span class="o">@</span><span class="n">IdDoc</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span>
</span><span id="__span-fhmodal_insert_stored_advanced-59"><a id="__codelineno-fhmodal_insert_stored_advanced-59" name="__codelineno-fhmodal_insert_stored_advanced-59" href="#__codelineno-fhmodal_insert_stored_advanced-59"></a><span class="w">    </span><span class="o">@</span><span class="n">InsertUpdate</span><span class="w"> </span><span class="nb">bit</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_stored_advanced-60"><a id="__codelineno-fhmodal_insert_stored_advanced-60" name="__codelineno-fhmodal_insert_stored_advanced-60" href="#__codelineno-fhmodal_insert_stored_advanced-60"></a><span class="w">    </span><span class="o">@</span><span class="n">Usuario</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
</span><span id="__span-fhmodal_insert_stored_advanced-61"><a id="__codelineno-fhmodal_insert_stored_advanced-61" name="__codelineno-fhmodal_insert_stored_advanced-61" href="#__codelineno-fhmodal_insert_stored_advanced-61"></a><span class="w">    </span><span class="o">@</span><span class="n">FechaInsertUpdate</span><span class="w"> </span><span class="n">datetime</span><span class="w"> </span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_stored_advanced-62"><a id="__codelineno-fhmodal_insert_stored_advanced-62" name="__codelineno-fhmodal_insert_stored_advanced-62" href="#__codelineno-fhmodal_insert_stored_advanced-62"></a><span class="w">    </span><span class="o">@</span><span class="n">Config</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored_advanced-63"><a id="__codelineno-fhmodal_insert_stored_advanced-63" name="__codelineno-fhmodal_insert_stored_advanced-63" href="#__codelineno-fhmodal_insert_stored_advanced-63"></a>
</span><span id="__span-fhmodal_insert_stored_advanced-64"><a id="__codelineno-fhmodal_insert_stored_advanced-64" name="__codelineno-fhmodal_insert_stored_advanced-64" href="#__codelineno-fhmodal_insert_stored_advanced-64"></a>
</span><span id="__span-fhmodal_insert_stored_advanced-65"><a id="__codelineno-fhmodal_insert_stored_advanced-65" name="__codelineno-fhmodal_insert_stored_advanced-65" href="#__codelineno-fhmodal_insert_stored_advanced-65"></a><span class="w">    </span><span class="cm">/* load XML values into table @TableValues*/</span>
</span><span id="__span-fhmodal_insert_stored_advanced-66"><a id="__codelineno-fhmodal_insert_stored_advanced-66" name="__codelineno-fhmodal_insert_stored_advanced-66" href="#__codelineno-fhmodal_insert_stored_advanced-66"></a><span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">XmlDoc</span><span class="w"> </span><span class="nb">int</span>
</span><span id="__span-fhmodal_insert_stored_advanced-67"><a id="__codelineno-fhmodal_insert_stored_advanced-67" name="__codelineno-fhmodal_insert_stored_advanced-67" href="#__codelineno-fhmodal_insert_stored_advanced-67"></a><span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span><span class="n">Name</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="n">Value</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="k">max</span><span class="p">),</span><span class="n">OldValue</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="n">TableName</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">IsKey</span><span class="w"> </span><span class="nb">Bit</span><span class="w"> </span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored_advanced-68"><a id="__codelineno-fhmodal_insert_stored_advanced-68" name="__codelineno-fhmodal_insert_stored_advanced-68" href="#__codelineno-fhmodal_insert_stored_advanced-68"></a><span class="w">    </span><span class="k">EXEC</span><span class="w"> </span><span class="n">sp_xml_preparedocument</span><span class="w"> </span><span class="o">@</span><span class="n">XmlDoc</span><span class="w">    </span><span class="k">OUTPUT</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="k">Values</span><span class="w">  </span>
</span><span id="__span-fhmodal_insert_stored_advanced-69"><a id="__codelineno-fhmodal_insert_stored_advanced-69" name="__codelineno-fhmodal_insert_stored_advanced-69" href="#__codelineno-fhmodal_insert_stored_advanced-69"></a>
</span><span id="__span-fhmodal_insert_stored_advanced-70"><a id="__codelineno-fhmodal_insert_stored_advanced-70" name="__codelineno-fhmodal_insert_stored_advanced-70" href="#__codelineno-fhmodal_insert_stored_advanced-70"></a><span class="w">    </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="p">(</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="n">Value</span><span class="p">,</span><span class="w"> </span><span class="n">OldValue</span><span class="p">,</span><span class="w"> </span><span class="n">TableName</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">IsKey</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored_advanced-71"><a id="__codelineno-fhmodal_insert_stored_advanced-71" name="__codelineno-fhmodal_insert_stored_advanced-71" href="#__codelineno-fhmodal_insert_stored_advanced-71"></a><span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="n">Name</span><span class="p">,</span><span class="n">Value</span><span class="p">,</span><span class="n">OldValue</span><span class="p">,</span><span class="w"> </span><span class="n">TableName</span><span class="p">,</span><span class="w"> </span><span class="n">IsKey</span><span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">OPENXML</span><span class="p">(</span><span class="o">@</span><span class="n">XmlDoc</span><span class="p">,</span><span class="s1">'/Row/Property'</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored_advanced-72"><a id="__codelineno-fhmodal_insert_stored_advanced-72" name="__codelineno-fhmodal_insert_stored_advanced-72" href="#__codelineno-fhmodal_insert_stored_advanced-72"></a><span class="w">    </span><span class="k">WITH</span><span class="p">(</span><span class="n">Name</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span><span class="w"> </span><span class="s1">'@Name'</span><span class="p">,</span><span class="n">Value</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="s1">'@Value'</span><span class="p">,</span><span class="n">OldValue</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="s1">'@OldValue'</span><span class="w"> </span><span class="p">,</span><span class="n">TableName</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="s1">'@TableName'</span><span class="p">,</span><span class="w"> </span><span class="n">IsKey</span><span class="w"> </span><span class="nb">Bit</span><span class="w"> </span><span class="s1">'@IsKey'</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored_advanced-73"><a id="__codelineno-fhmodal_insert_stored_advanced-73" name="__codelineno-fhmodal_insert_stored_advanced-73" href="#__codelineno-fhmodal_insert_stored_advanced-73"></a>
</span><span id="__span-fhmodal_insert_stored_advanced-74"><a id="__codelineno-fhmodal_insert_stored_advanced-74" name="__codelineno-fhmodal_insert_stored_advanced-74" href="#__codelineno-fhmodal_insert_stored_advanced-74"></a><span class="w">    </span><span class="k">EXEC</span><span class="w"> </span><span class="n">sp_xml_removedocument</span><span class="w"> </span><span class="o">@</span><span class="n">XmlDoc</span>
</span><span id="__span-fhmodal_insert_stored_advanced-75"><a id="__codelineno-fhmodal_insert_stored_advanced-75" name="__codelineno-fhmodal_insert_stored_advanced-75" href="#__codelineno-fhmodal_insert_stored_advanced-75"></a>
</span><span id="__span-fhmodal_insert_stored_advanced-76"><a id="__codelineno-fhmodal_insert_stored_advanced-76" name="__codelineno-fhmodal_insert_stored_advanced-76" href="#__codelineno-fhmodal_insert_stored_advanced-76"></a><span class="w">    </span><span class="cm">/* load Values into variables */</span>
</span><span id="__span-fhmodal_insert_stored_advanced-77"><a id="__codelineno-fhmodal_insert_stored_advanced-77" name="__codelineno-fhmodal_insert_stored_advanced-77" href="#__codelineno-fhmodal_insert_stored_advanced-77"></a>
</span><span id="__span-fhmodal_insert_stored_advanced-78"><a id="__codelineno-fhmodal_insert_stored_advanced-78" name="__codelineno-fhmodal_insert_stored_advanced-78" href="#__codelineno-fhmodal_insert_stored_advanced-78"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="w"> </span><span class="o">=</span><span class="n">Value</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Name</span><span class="o">=</span><span class="s1">'TestId'</span>
</span><span id="__span-fhmodal_insert_stored_advanced-79"><a id="__codelineno-fhmodal_insert_stored_advanced-79" name="__codelineno-fhmodal_insert_stored_advanced-79" href="#__codelineno-fhmodal_insert_stored_advanced-79"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">DEscrip</span><span class="w"> </span><span class="o">=</span><span class="n">Value</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Name</span><span class="o">=</span><span class="s1">'Descrip'</span>
</span><span id="__span-fhmodal_insert_stored_advanced-80"><a id="__codelineno-fhmodal_insert_stored_advanced-80" name="__codelineno-fhmodal_insert_stored_advanced-80" href="#__codelineno-fhmodal_insert_stored_advanced-80"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">Usuario</span><span class="w">  </span><span class="o">=</span><span class="n">Value</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Name</span><span class="o">=</span><span class="s1">'Usuario'</span>
</span><span id="__span-fhmodal_insert_stored_advanced-81"><a id="__codelineno-fhmodal_insert_stored_advanced-81" name="__codelineno-fhmodal_insert_stored_advanced-81" href="#__codelineno-fhmodal_insert_stored_advanced-81"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">InsertUpdate</span><span class="w"> </span><span class="o">=</span><span class="n">Value</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Name</span><span class="o">=</span><span class="s1">'InsertUpdate'</span>
</span><span id="__span-fhmodal_insert_stored_advanced-82"><a id="__codelineno-fhmodal_insert_stored_advanced-82" name="__codelineno-fhmodal_insert_stored_advanced-82" href="#__codelineno-fhmodal_insert_stored_advanced-82"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">FechaInsertUpdate</span><span class="w"> </span><span class="o">=</span><span class="n">Value</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Name</span><span class="o">=</span><span class="s1">'FechaInsertUpdate'</span>
</span><span id="__span-fhmodal_insert_stored_advanced-83"><a id="__codelineno-fhmodal_insert_stored_advanced-83" name="__codelineno-fhmodal_insert_stored_advanced-83" href="#__codelineno-fhmodal_insert_stored_advanced-83"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">Config</span><span class="w"> </span><span class="o">=</span><span class="n">Value</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Name</span><span class="o">=</span><span class="s1">'Config'</span>
</span><span id="__span-fhmodal_insert_stored_advanced-84"><a id="__codelineno-fhmodal_insert_stored_advanced-84" name="__codelineno-fhmodal_insert_stored_advanced-84" href="#__codelineno-fhmodal_insert_stored_advanced-84"></a>
</span><span id="__span-fhmodal_insert_stored_advanced-85"><a id="__codelineno-fhmodal_insert_stored_advanced-85" name="__codelineno-fhmodal_insert_stored_advanced-85" href="#__codelineno-fhmodal_insert_stored_advanced-85"></a>
</span><span id="__span-fhmodal_insert_stored_advanced-86"><a id="__codelineno-fhmodal_insert_stored_advanced-86" name="__codelineno-fhmodal_insert_stored_advanced-86" href="#__codelineno-fhmodal_insert_stored_advanced-86"></a><span class="w">    </span><span class="cm">/* perform process (insert fields into different tables) */</span>
</span><span id="__span-fhmodal_insert_stored_advanced-87"><a id="__codelineno-fhmodal_insert_stored_advanced-87" name="__codelineno-fhmodal_insert_stored_advanced-87" href="#__codelineno-fhmodal_insert_stored_advanced-87"></a><span class="w">     </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">_Test</span><span class="w"> </span><span class="p">(</span><span class="n">TestId</span><span class="p">,</span><span class="n">Descrip</span><span class="p">,</span><span class="w"> </span><span class="n">Usuario</span><span class="p">,</span><span class="w"> </span><span class="n">InsertUpdate</span><span class="p">,</span><span class="w"> </span><span class="n">FechaInsertUpdate</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored_advanced-88"><a id="__codelineno-fhmodal_insert_stored_advanced-88" name="__codelineno-fhmodal_insert_stored_advanced-88" href="#__codelineno-fhmodal_insert_stored_advanced-88"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">DEscrip</span><span class="w"> </span><span class="p">,</span><span class="k">isnull</span><span class="p">(</span><span class="o">@</span><span class="n">Usuario</span><span class="p">,</span><span class="s1">'nouser'</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="o">@</span><span class="n">InsertUpdate</span><span class="w"> </span><span class="p">,</span><span class="k">isnull</span><span class="p">(</span><span class="o">@</span><span class="n">FechaInsertUpdate</span><span class="w"> </span><span class="p">,</span><span class="n">getdate</span><span class="p">())</span>
</span><span id="__span-fhmodal_insert_stored_advanced-89"><a id="__codelineno-fhmodal_insert_stored_advanced-89" name="__codelineno-fhmodal_insert_stored_advanced-89" href="#__codelineno-fhmodal_insert_stored_advanced-89"></a>
</span><span id="__span-fhmodal_insert_stored_advanced-90"><a id="__codelineno-fhmodal_insert_stored_advanced-90" name="__codelineno-fhmodal_insert_stored_advanced-90" href="#__codelineno-fhmodal_insert_stored_advanced-90"></a><span class="w">     </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">_Test_conf</span><span class="w"> </span><span class="p">(</span><span class="n">TestId</span><span class="p">,</span><span class="w"> </span><span class="n">Config</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored_advanced-91"><a id="__codelineno-fhmodal_insert_stored_advanced-91" name="__codelineno-fhmodal_insert_stored_advanced-91" href="#__codelineno-fhmodal_insert_stored_advanced-91"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">Config</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_stored_advanced-92"><a id="__codelineno-fhmodal_insert_stored_advanced-92" name="__codelineno-fhmodal_insert_stored_advanced-92" href="#__codelineno-fhmodal_insert_stored_advanced-92"></a>
</span><span id="__span-fhmodal_insert_stored_advanced-93"><a id="__codelineno-fhmodal_insert_stored_advanced-93" name="__codelineno-fhmodal_insert_stored_advanced-93" href="#__codelineno-fhmodal_insert_stored_advanced-93"></a><span class="w">     </span><span class="cm">/* change Keys */</span>
</span><span id="__span-fhmodal_insert_stored_advanced-94"><a id="__codelineno-fhmodal_insert_stored_advanced-94" name="__codelineno-fhmodal_insert_stored_advanced-94" href="#__codelineno-fhmodal_insert_stored_advanced-94"></a><span class="w">     </span><span class="c1">-- When Property has Value replacing Value</span>
</span><span id="__span-fhmodal_insert_stored_advanced-95"><a id="__codelineno-fhmodal_insert_stored_advanced-95" name="__codelineno-fhmodal_insert_stored_advanced-95" href="#__codelineno-fhmodal_insert_stored_advanced-95"></a><span class="w">     </span><span class="c1">--SET @Values.modify('replace value of (/Row/Property[@Name=''TesId'']/@Value)[1] with "sysNavigationNode"')</span>
</span><span id="__span-fhmodal_insert_stored_advanced-96"><a id="__codelineno-fhmodal_insert_stored_advanced-96" name="__codelineno-fhmodal_insert_stored_advanced-96" href="#__codelineno-fhmodal_insert_stored_advanced-96"></a><span class="w">     </span><span class="c1">-- When Property has not Value inserting Value</span>
</span><span id="__span-fhmodal_insert_stored_advanced-97"><a id="__codelineno-fhmodal_insert_stored_advanced-97" name="__codelineno-fhmodal_insert_stored_advanced-97" href="#__codelineno-fhmodal_insert_stored_advanced-97"></a><span class="w">     </span><span class="c1">-- SET @Values.modify('insert attribute Value {sql:variable("@TesId")} into (/Row/Property[@Name=''TesId'' and empty(@Value)])[1]')</span>
</span><span id="__span-fhmodal_insert_stored_advanced-98"><a id="__codelineno-fhmodal_insert_stored_advanced-98" name="__codelineno-fhmodal_insert_stored_advanced-98" href="#__codelineno-fhmodal_insert_stored_advanced-98"></a>
</span><span id="__span-fhmodal_insert_stored_advanced-99"><a id="__codelineno-fhmodal_insert_stored_advanced-99" name="__codelineno-fhmodal_insert_stored_advanced-99" href="#__codelineno-fhmodal_insert_stored_advanced-99"></a><span class="w">    </span><span class="cm">/* Process return values*/</span>
</span><span id="__span-fhmodal_insert_stored_advanced-100"><a id="__codelineno-fhmodal_insert_stored_advanced-100" name="__codelineno-fhmodal_insert_stored_advanced-100" href="#__codelineno-fhmodal_insert_stored_advanced-100"></a><span class="w">        </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="p">.</span><span class="k">modify</span><span class="p">(</span><span class="s1">'replace value of (/Property/@Success)[1] with 1'</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored_advanced-101"><a id="__codelineno-fhmodal_insert_stored_advanced-101" name="__codelineno-fhmodal_insert_stored_advanced-101" href="#__codelineno-fhmodal_insert_stored_advanced-101"></a><span class="w">        </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="p">.</span><span class="k">modify</span><span class="p">(</span><span class="s1">'replace value of (/Property/@SuccessMessage)[1] with "All went fine"'</span><span class="p">)</span><span class="w">   </span>
</span><span id="__span-fhmodal_insert_stored_advanced-102"><a id="__codelineno-fhmodal_insert_stored_advanced-102" name="__codelineno-fhmodal_insert_stored_advanced-102" href="#__codelineno-fhmodal_insert_stored_advanced-102"></a><span class="w">    </span><span class="cm">/* Return 0 if error */</span>
</span><span id="__span-fhmodal_insert_stored_advanced-103"><a id="__codelineno-fhmodal_insert_stored_advanced-103" name="__codelineno-fhmodal_insert_stored_advanced-103" href="#__codelineno-fhmodal_insert_stored_advanced-103"></a><span class="w">        </span><span class="k">RETURN</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-fhmodal_insert_stored_advanced-104"><a id="__codelineno-fhmodal_insert_stored_advanced-104" name="__codelineno-fhmodal_insert_stored_advanced-104" href="#__codelineno-fhmodal_insert_stored_advanced-104"></a><span class="k">END</span><span class="w"> </span><span class="n">TRY</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_stored_advanced-105"><a id="__codelineno-fhmodal_insert_stored_advanced-105" name="__codelineno-fhmodal_insert_stored_advanced-105" href="#__codelineno-fhmodal_insert_stored_advanced-105"></a>
</span><span id="__span-fhmodal_insert_stored_advanced-106"><a id="__codelineno-fhmodal_insert_stored_advanced-106" name="__codelineno-fhmodal_insert_stored_advanced-106" href="#__codelineno-fhmodal_insert_stored_advanced-106"></a><span class="k">BEGIN</span><span class="w"> </span><span class="n">CATCH</span>
</span><span id="__span-fhmodal_insert_stored_advanced-107"><a id="__codelineno-fhmodal_insert_stored_advanced-107" name="__codelineno-fhmodal_insert_stored_advanced-107" href="#__codelineno-fhmodal_insert_stored_advanced-107"></a><span class="w">    </span><span class="k">IF</span><span class="w"> </span><span class="o">@@</span><span class="n">TRANCOUNT</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">BEGIN</span>
</span><span id="__span-fhmodal_insert_stored_advanced-108"><a id="__codelineno-fhmodal_insert_stored_advanced-108" name="__codelineno-fhmodal_insert_stored_advanced-108" href="#__codelineno-fhmodal_insert_stored_advanced-108"></a><span class="w">        </span><span class="k">ROLLBACK</span><span class="w"> </span><span class="n">TRAN</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_stored_advanced-109"><a id="__codelineno-fhmodal_insert_stored_advanced-109" name="__codelineno-fhmodal_insert_stored_advanced-109" href="#__codelineno-fhmodal_insert_stored_advanced-109"></a><span class="w">    </span><span class="k">END</span>
</span><span id="__span-fhmodal_insert_stored_advanced-110"><a id="__codelineno-fhmodal_insert_stored_advanced-110" name="__codelineno-fhmodal_insert_stored_advanced-110" href="#__codelineno-fhmodal_insert_stored_advanced-110"></a>
</span><span id="__span-fhmodal_insert_stored_advanced-111"><a id="__codelineno-fhmodal_insert_stored_advanced-111" name="__codelineno-fhmodal_insert_stored_advanced-111" href="#__codelineno-fhmodal_insert_stored_advanced-111"></a><span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">CatchError</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored_advanced-112"><a id="__codelineno-fhmodal_insert_stored_advanced-112" name="__codelineno-fhmodal_insert_stored_advanced-112" href="#__codelineno-fhmodal_insert_stored_advanced-112"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">CatchError</span><span class="o">=</span><span class="n">dbo</span><span class="p">.</span><span class="n">funprintError</span><span class="p">(</span><span class="n">ERROR_MESSAGE</span><span class="p">(),</span><span class="n">ERROR_NUMBER</span><span class="p">(),</span><span class="n">ERROR_PROCEDURE</span><span class="p">(),</span><span class="o">@@</span><span class="n">PROCID</span><span class="w"> </span><span class="p">,</span><span class="n">ERROR_LINE</span><span class="p">())</span>
</span><span id="__span-fhmodal_insert_stored_advanced-113"><a id="__codelineno-fhmodal_insert_stored_advanced-113" name="__codelineno-fhmodal_insert_stored_advanced-113" href="#__codelineno-fhmodal_insert_stored_advanced-113"></a><span class="w">    </span><span class="n">RAISERROR</span><span class="p">(</span><span class="o">@</span><span class="n">CatchError</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored_advanced-114"><a id="__codelineno-fhmodal_insert_stored_advanced-114" name="__codelineno-fhmodal_insert_stored_advanced-114" href="#__codelineno-fhmodal_insert_stored_advanced-114"></a>
</span><span id="__span-fhmodal_insert_stored_advanced-115"><a id="__codelineno-fhmodal_insert_stored_advanced-115" name="__codelineno-fhmodal_insert_stored_advanced-115" href="#__codelineno-fhmodal_insert_stored_advanced-115"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="p">.</span><span class="k">modify</span><span class="p">(</span><span class="s1">'replace value of (/Property/@Success)[1] with 0'</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored_advanced-116"><a id="__codelineno-fhmodal_insert_stored_advanced-116" name="__codelineno-fhmodal_insert_stored_advanced-116" href="#__codelineno-fhmodal_insert_stored_advanced-116"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="p">.</span><span class="k">modify</span><span class="p">(</span><span class="s1">'replace value of (/Property/@SuccessMessage)[1] with "Something went wrong"'</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored_advanced-117"><a id="__codelineno-fhmodal_insert_stored_advanced-117" name="__codelineno-fhmodal_insert_stored_advanced-117" href="#__codelineno-fhmodal_insert_stored_advanced-117"></a><span class="w">    </span><span class="k">RETURN</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-fhmodal_insert_stored_advanced-118"><a id="__codelineno-fhmodal_insert_stored_advanced-118" name="__codelineno-fhmodal_insert_stored_advanced-118" href="#__codelineno-fhmodal_insert_stored_advanced-118"></a>
</span><span id="__span-fhmodal_insert_stored_advanced-119"><a id="__codelineno-fhmodal_insert_stored_advanced-119" name="__codelineno-fhmodal_insert_stored_advanced-119" href="#__codelineno-fhmodal_insert_stored_advanced-119"></a><span class="k">END</span><span class="w"> </span><span class="n">CATCH</span>
</span></code></pre></div>
<div id="fhmodal_update_stored_advanced" class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-fhmodal_update_stored_advanced-1"><a id="__codelineno-fhmodal_update_stored_advanced-1" name="__codelineno-fhmodal_update_stored_advanced-1" href="#__codelineno-fhmodal_update_stored_advanced-1"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">PROCEDURE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">P_TestUpdate_Stored_Advanced</span><span class="p">]</span><span class="w">  </span>
</span><span id="__span-fhmodal_update_stored_advanced-2"><a id="__codelineno-fhmodal_update_stored_advanced-2" name="__codelineno-fhmodal_update_stored_advanced-2" href="#__codelineno-fhmodal_update_stored_advanced-2"></a><span class="w">    </span><span class="o">@</span><span class="k">Values</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">XML</span><span class="w"> </span><span class="k">OUTPUT</span><span class="p">,</span>
</span><span id="__span-fhmodal_update_stored_advanced-3"><a id="__codelineno-fhmodal_update_stored_advanced-3" name="__codelineno-fhmodal_update_stored_advanced-3" href="#__codelineno-fhmodal_update_stored_advanced-3"></a><span class="w">    </span><span class="o">@</span><span class="n">ContextVars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">XML</span><span class="p">,</span>
</span><span id="__span-fhmodal_update_stored_advanced-4"><a id="__codelineno-fhmodal_update_stored_advanced-4" name="__codelineno-fhmodal_update_stored_advanced-4" href="#__codelineno-fhmodal_update_stored_advanced-4"></a><span class="w">    </span><span class="o">@</span><span class="n">RetValues</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">XML</span><span class="w"> </span><span class="k">OUTPUT</span><span class="w">     </span>
</span><span id="__span-fhmodal_update_stored_advanced-5"><a id="__codelineno-fhmodal_update_stored_advanced-5" name="__codelineno-fhmodal_update_stored_advanced-5" href="#__codelineno-fhmodal_update_stored_advanced-5"></a>
</span><span id="__span-fhmodal_update_stored_advanced-6"><a id="__codelineno-fhmodal_update_stored_advanced-6" name="__codelineno-fhmodal_update_stored_advanced-6" href="#__codelineno-fhmodal_update_stored_advanced-6"></a><span class="w">    </span><span class="k">AS</span>
</span><span id="__span-fhmodal_update_stored_advanced-7"><a id="__codelineno-fhmodal_update_stored_advanced-7" name="__codelineno-fhmodal_update_stored_advanced-7" href="#__codelineno-fhmodal_update_stored_advanced-7"></a><span class="w">    </span><span class="c1">----------------------------------------------------------------------------------</span>
</span><span id="__span-fhmodal_update_stored_advanced-8"><a id="__codelineno-fhmodal_update_stored_advanced-8" name="__codelineno-fhmodal_update_stored_advanced-8" href="#__codelineno-fhmodal_update_stored_advanced-8"></a><span class="c1">--#NAME</span>
</span><span id="__span-fhmodal_update_stored_advanced-9"><a id="__codelineno-fhmodal_update_stored_advanced-9" name="__codelineno-fhmodal_update_stored_advanced-9" href="#__codelineno-fhmodal_update_stored_advanced-9"></a><span class="c1">--      P_TestUpdate_Stored</span>
</span><span id="__span-fhmodal_update_stored_advanced-10"><a id="__codelineno-fhmodal_update_stored_advanced-10" name="__codelineno-fhmodal_update_stored_advanced-10" href="#__codelineno-fhmodal_update_stored_advanced-10"></a><span class="c1">--#CREATION</span>
</span><span id="__span-fhmodal_update_stored_advanced-11"><a id="__codelineno-fhmodal_update_stored_advanced-11" name="__codelineno-fhmodal_update_stored_advanced-11" href="#__codelineno-fhmodal_update_stored_advanced-11"></a><span class="c1">--      07/01/2016</span>
</span><span id="__span-fhmodal_update_stored_advanced-12"><a id="__codelineno-fhmodal_update_stored_advanced-12" name="__codelineno-fhmodal_update_stored_advanced-12" href="#__codelineno-fhmodal_update_stored_advanced-12"></a><span class="c1">--#CLASIFICATION</span>
</span><span id="__span-fhmodal_update_stored_advanced-13"><a id="__codelineno-fhmodal_update_stored_advanced-13" name="__codelineno-fhmodal_update_stored_advanced-13" href="#__codelineno-fhmodal_update_stored_advanced-13"></a><span class="c1">--      Framework/systemObjects</span>
</span><span id="__span-fhmodal_update_stored_advanced-14"><a id="__codelineno-fhmodal_update_stored_advanced-14" name="__codelineno-fhmodal_update_stored_advanced-14" href="#__codelineno-fhmodal_update_stored_advanced-14"></a><span class="c1">--#DESCRIPTION</span>
</span><span id="__span-fhmodal_update_stored_advanced-15"><a id="__codelineno-fhmodal_update_stored_advanced-15" name="__codelineno-fhmodal_update_stored_advanced-15" href="#__codelineno-fhmodal_update_stored_advanced-15"></a><span class="c1">--      Used for Testing object update through Flexygo Stored procedure</span>
</span><span id="__span-fhmodal_update_stored_advanced-16"><a id="__codelineno-fhmodal_update_stored_advanced-16" name="__codelineno-fhmodal_update_stored_advanced-16" href="#__codelineno-fhmodal_update_stored_advanced-16"></a><span class="c1">--#PARAMETERS</span>
</span><span id="__span-fhmodal_update_stored_advanced-17"><a id="__codelineno-fhmodal_update_stored_advanced-17" name="__codelineno-fhmodal_update_stored_advanced-17" href="#__codelineno-fhmodal_update_stored_advanced-17"></a><span class="c1">--      @Values : Object properties ,</span>
</span><span id="__span-fhmodal_update_stored_advanced-18"><a id="__codelineno-fhmodal_update_stored_advanced-18" name="__codelineno-fhmodal_update_stored_advanced-18" href="#__codelineno-fhmodal_update_stored_advanced-18"></a><span class="c1">--      @ContextVars: Flexygo ciontext variables,</span>
</span><span id="__span-fhmodal_update_stored_advanced-19"><a id="__codelineno-fhmodal_update_stored_advanced-19" name="__codelineno-fhmodal_update_stored_advanced-19" href="#__codelineno-fhmodal_update_stored_advanced-19"></a><span class="c1">--      @RetValues : Flexygo process Helper (CloseParamWindow,JSCode,JSFile,LastException,Params,Refresh,Success,SuccesMessage,WarningMessage)</span>
</span><span id="__span-fhmodal_update_stored_advanced-20"><a id="__codelineno-fhmodal_update_stored_advanced-20" name="__codelineno-fhmodal_update_stored_advanced-20" href="#__codelineno-fhmodal_update_stored_advanced-20"></a><span class="c1">--#OBSERVATIONS</span>
</span><span id="__span-fhmodal_update_stored_advanced-21"><a id="__codelineno-fhmodal_update_stored_advanced-21" name="__codelineno-fhmodal_update_stored_advanced-21" href="#__codelineno-fhmodal_update_stored_advanced-21"></a><span class="c1">-- Values XML Sample</span>
</span><span id="__span-fhmodal_update_stored_advanced-22"><a id="__codelineno-fhmodal_update_stored_advanced-22" name="__codelineno-fhmodal_update_stored_advanced-22" href="#__codelineno-fhmodal_update_stored_advanced-22"></a><span class="w">    </span><span class="c1">--&lt; Row rowId="d4ec88a0-3129-4c5d-b5ac-8c9d2867db64" ObjectName="systmpTest"&gt; </span>
</span><span id="__span-fhmodal_update_stored_advanced-23"><a id="__codelineno-fhmodal_update_stored_advanced-23" name="__codelineno-fhmodal_update_stored_advanced-23" href="#__codelineno-fhmodal_update_stored_advanced-23"></a><span class="w">    </span><span class="c1">--  &lt; Property Name="TestId" Value="3" OldValue="3" TableName="_Test" IsKey="True" /&gt; </span>
</span><span id="__span-fhmodal_update_stored_advanced-24"><a id="__codelineno-fhmodal_update_stored_advanced-24" name="__codelineno-fhmodal_update_stored_advanced-24" href="#__codelineno-fhmodal_update_stored_advanced-24"></a><span class="w">    </span><span class="c1">--  &lt; Property Name="Descrip" Value="test4" OldValue="test3" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_update_stored_advanced-25"><a id="__codelineno-fhmodal_update_stored_advanced-25" name="__codelineno-fhmodal_update_stored_advanced-25" href="#__codelineno-fhmodal_update_stored_advanced-25"></a><span class="w">    </span><span class="c1">--  &lt; Property Name="IdDoc" Value="" OldValue="" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_update_stored_advanced-26"><a id="__codelineno-fhmodal_update_stored_advanced-26" name="__codelineno-fhmodal_update_stored_advanced-26" href="#__codelineno-fhmodal_update_stored_advanced-26"></a><span class="w">    </span><span class="c1">--  &lt; Property Name="InsertUpdate" Value="False" OldValue="False" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_update_stored_advanced-27"><a id="__codelineno-fhmodal_update_stored_advanced-27" name="__codelineno-fhmodal_update_stored_advanced-27" href="#__codelineno-fhmodal_update_stored_advanced-27"></a><span class="w">    </span><span class="c1">--  &lt; Property Name="Usuario" Value="" OldValue="" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_update_stored_advanced-28"><a id="__codelineno-fhmodal_update_stored_advanced-28" name="__codelineno-fhmodal_update_stored_advanced-28" href="#__codelineno-fhmodal_update_stored_advanced-28"></a><span class="w">    </span><span class="c1">--  &lt; Property Name="FechaInsertUpdate" Value="14/02/2018 0:00:00" OldValue="14/02/2018 0:00:00" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_update_stored_advanced-29"><a id="__codelineno-fhmodal_update_stored_advanced-29" name="__codelineno-fhmodal_update_stored_advanced-29" href="#__codelineno-fhmodal_update_stored_advanced-29"></a><span class="w">    </span><span class="c1">--  &lt; Property Name="Config" Value="config4" OldValue="Config3" TableName="_Test_Conf" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_update_stored_advanced-30"><a id="__codelineno-fhmodal_update_stored_advanced-30" name="__codelineno-fhmodal_update_stored_advanced-30" href="#__codelineno-fhmodal_update_stored_advanced-30"></a><span class="w">    </span><span class="c1">--&lt; /Row&gt; </span>
</span><span id="__span-fhmodal_update_stored_advanced-31"><a id="__codelineno-fhmodal_update_stored_advanced-31" name="__codelineno-fhmodal_update_stored_advanced-31" href="#__codelineno-fhmodal_update_stored_advanced-31"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_update_stored_advanced-32"><a id="__codelineno-fhmodal_update_stored_advanced-32" name="__codelineno-fhmodal_update_stored_advanced-32" href="#__codelineno-fhmodal_update_stored_advanced-32"></a><span class="c1">-- ContextVars XML Sample       </span>
</span><span id="__span-fhmodal_update_stored_advanced-33"><a id="__codelineno-fhmodal_update_stored_advanced-33" name="__codelineno-fhmodal_update_stored_advanced-33" href="#__codelineno-fhmodal_update_stored_advanced-33"></a><span class="c1">--  &lt; Row&gt; </span>
</span><span id="__span-fhmodal_update_stored_advanced-34"><a id="__codelineno-fhmodal_update_stored_advanced-34" name="__codelineno-fhmodal_update_stored_advanced-34" href="#__codelineno-fhmodal_update_stored_advanced-34"></a><span class="c1">--      &lt; Property Name="reference" Value="0" /&gt; </span>
</span><span id="__span-fhmodal_update_stored_advanced-35"><a id="__codelineno-fhmodal_update_stored_advanced-35" name="__codelineno-fhmodal_update_stored_advanced-35" href="#__codelineno-fhmodal_update_stored_advanced-35"></a><span class="c1">--      &lt; Property Name="subReference" Value="0" /&gt; </span>
</span><span id="__span-fhmodal_update_stored_advanced-36"><a id="__codelineno-fhmodal_update_stored_advanced-36" name="__codelineno-fhmodal_update_stored_advanced-36" href="#__codelineno-fhmodal_update_stored_advanced-36"></a><span class="c1">--      &lt; Property Name="currentRole" Value="Admins" /&gt; </span>
</span><span id="__span-fhmodal_update_stored_advanced-37"><a id="__codelineno-fhmodal_update_stored_advanced-37" name="__codelineno-fhmodal_update_stored_advanced-37" href="#__codelineno-fhmodal_update_stored_advanced-37"></a><span class="c1">--      &lt; Property Name="currentRoleId" Value="admins" /&gt; </span>
</span><span id="__span-fhmodal_update_stored_advanced-38"><a id="__codelineno-fhmodal_update_stored_advanced-38" name="__codelineno-fhmodal_update_stored_advanced-38" href="#__codelineno-fhmodal_update_stored_advanced-38"></a><span class="c1">--      &lt; Property Name="currentUserLogin" Value="admin" /&gt; </span>
</span><span id="__span-fhmodal_update_stored_advanced-39"><a id="__codelineno-fhmodal_update_stored_advanced-39" name="__codelineno-fhmodal_update_stored_advanced-39" href="#__codelineno-fhmodal_update_stored_advanced-39"></a><span class="c1">--      &lt; Property Name="currentUserId" Value="1" /&gt; </span>
</span><span id="__span-fhmodal_update_stored_advanced-40"><a id="__codelineno-fhmodal_update_stored_advanced-40" name="__codelineno-fhmodal_update_stored_advanced-40" href="#__codelineno-fhmodal_update_stored_advanced-40"></a><span class="c1">--      &lt; Property Name="currentUserFullName" Value="admin" /&gt; </span>
</span><span id="__span-fhmodal_update_stored_advanced-41"><a id="__codelineno-fhmodal_update_stored_advanced-41" name="__codelineno-fhmodal_update_stored_advanced-41" href="#__codelineno-fhmodal_update_stored_advanced-41"></a><span class="c1">--      &lt; Property Name="currentUserCultureId" Value="en-gb" /&gt; </span>
</span><span id="__span-fhmodal_update_stored_advanced-42"><a id="__codelineno-fhmodal_update_stored_advanced-42" name="__codelineno-fhmodal_update_stored_advanced-42" href="#__codelineno-fhmodal_update_stored_advanced-42"></a><span class="c1">--      &lt; Property Name="currentUserLang" Value="en" /&gt; </span>
</span><span id="__span-fhmodal_update_stored_advanced-43"><a id="__codelineno-fhmodal_update_stored_advanced-43" name="__codelineno-fhmodal_update_stored_advanced-43" href="#__codelineno-fhmodal_update_stored_advanced-43"></a><span class="c1">--      &lt; Property Name="currentUserEmail" Value="info@ahora.es.com" /&gt; </span>
</span><span id="__span-fhmodal_update_stored_advanced-44"><a id="__codelineno-fhmodal_update_stored_advanced-44" name="__codelineno-fhmodal_update_stored_advanced-44" href="#__codelineno-fhmodal_update_stored_advanced-44"></a><span class="c1">--  &lt; /Row&gt; </span>
</span><span id="__span-fhmodal_update_stored_advanced-45"><a id="__codelineno-fhmodal_update_stored_advanced-45" name="__codelineno-fhmodal_update_stored_advanced-45" href="#__codelineno-fhmodal_update_stored_advanced-45"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_update_stored_advanced-46"><a id="__codelineno-fhmodal_update_stored_advanced-46" name="__codelineno-fhmodal_update_stored_advanced-46" href="#__codelineno-fhmodal_update_stored_advanced-46"></a><span class="c1">-- Return vars XML Sample       </span>
</span><span id="__span-fhmodal_update_stored_advanced-47"><a id="__codelineno-fhmodal_update_stored_advanced-47" name="__codelineno-fhmodal_update_stored_advanced-47" href="#__codelineno-fhmodal_update_stored_advanced-47"></a><span class="c1">--      &lt; Property Success="False" SuccessMessage="" WarningMessage="" JSCode="" JSFile="" CloseParamWindow="False" refresh="False" /&gt; </span>
</span><span id="__span-fhmodal_update_stored_advanced-48"><a id="__codelineno-fhmodal_update_stored_advanced-48" name="__codelineno-fhmodal_update_stored_advanced-48" href="#__codelineno-fhmodal_update_stored_advanced-48"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_update_stored_advanced-49"><a id="__codelineno-fhmodal_update_stored_advanced-49" name="__codelineno-fhmodal_update_stored_advanced-49" href="#__codelineno-fhmodal_update_stored_advanced-49"></a><span class="c1">--#CHANGES</span>
</span><span id="__span-fhmodal_update_stored_advanced-50"><a id="__codelineno-fhmodal_update_stored_advanced-50" name="__codelineno-fhmodal_update_stored_advanced-50" href="#__codelineno-fhmodal_update_stored_advanced-50"></a><span class="c1">--      13/02/2018- David Miralpeix</span>
</span><span id="__span-fhmodal_update_stored_advanced-51"><a id="__codelineno-fhmodal_update_stored_advanced-51" name="__codelineno-fhmodal_update_stored_advanced-51" href="#__codelineno-fhmodal_update_stored_advanced-51"></a><span class="c1">----------------------------------------------------------------------------------</span>
</span><span id="__span-fhmodal_update_stored_advanced-52"><a id="__codelineno-fhmodal_update_stored_advanced-52" name="__codelineno-fhmodal_update_stored_advanced-52" href="#__codelineno-fhmodal_update_stored_advanced-52"></a><span class="k">BEGIN</span><span class="w"> </span><span class="n">TRY</span>
</span><span id="__span-fhmodal_update_stored_advanced-53"><a id="__codelineno-fhmodal_update_stored_advanced-53" name="__codelineno-fhmodal_update_stored_advanced-53" href="#__codelineno-fhmodal_update_stored_advanced-53"></a>
</span><span id="__span-fhmodal_update_stored_advanced-54"><a id="__codelineno-fhmodal_update_stored_advanced-54" name="__codelineno-fhmodal_update_stored_advanced-54" href="#__codelineno-fhmodal_update_stored_advanced-54"></a><span class="w">    </span><span class="c1">--Declare field variables to load</span>
</span><span id="__span-fhmodal_update_stored_advanced-55"><a id="__codelineno-fhmodal_update_stored_advanced-55" name="__codelineno-fhmodal_update_stored_advanced-55" href="#__codelineno-fhmodal_update_stored_advanced-55"></a><span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_advanced-56"><a id="__codelineno-fhmodal_update_stored_advanced-56" name="__codelineno-fhmodal_update_stored_advanced-56" href="#__codelineno-fhmodal_update_stored_advanced-56"></a><span class="w">    </span><span class="o">@</span><span class="n">Descrip</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">2000</span><span class="p">),</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_advanced-57"><a id="__codelineno-fhmodal_update_stored_advanced-57" name="__codelineno-fhmodal_update_stored_advanced-57" href="#__codelineno-fhmodal_update_stored_advanced-57"></a><span class="w">    </span><span class="o">@</span><span class="n">IdDoc</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span>
</span><span id="__span-fhmodal_update_stored_advanced-58"><a id="__codelineno-fhmodal_update_stored_advanced-58" name="__codelineno-fhmodal_update_stored_advanced-58" href="#__codelineno-fhmodal_update_stored_advanced-58"></a><span class="w">    </span><span class="o">@</span><span class="n">InsertUpdate</span><span class="w"> </span><span class="nb">bit</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_advanced-59"><a id="__codelineno-fhmodal_update_stored_advanced-59" name="__codelineno-fhmodal_update_stored_advanced-59" href="#__codelineno-fhmodal_update_stored_advanced-59"></a><span class="w">    </span><span class="o">@</span><span class="n">Usuario</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
</span><span id="__span-fhmodal_update_stored_advanced-60"><a id="__codelineno-fhmodal_update_stored_advanced-60" name="__codelineno-fhmodal_update_stored_advanced-60" href="#__codelineno-fhmodal_update_stored_advanced-60"></a><span class="w">    </span><span class="o">@</span><span class="n">FechaInsertUpdate</span><span class="w"> </span><span class="n">datetime</span><span class="w"> </span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_advanced-61"><a id="__codelineno-fhmodal_update_stored_advanced-61" name="__codelineno-fhmodal_update_stored_advanced-61" href="#__codelineno-fhmodal_update_stored_advanced-61"></a><span class="w">    </span><span class="o">@</span><span class="n">Config</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
</span><span id="__span-fhmodal_update_stored_advanced-62"><a id="__codelineno-fhmodal_update_stored_advanced-62" name="__codelineno-fhmodal_update_stored_advanced-62" href="#__codelineno-fhmodal_update_stored_advanced-62"></a><span class="w">        </span><span class="c1">--OldValues</span>
</span><span id="__span-fhmodal_update_stored_advanced-63"><a id="__codelineno-fhmodal_update_stored_advanced-63" name="__codelineno-fhmodal_update_stored_advanced-63" href="#__codelineno-fhmodal_update_stored_advanced-63"></a><span class="w">    </span><span class="o">@</span><span class="n">OldTestId</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_advanced-64"><a id="__codelineno-fhmodal_update_stored_advanced-64" name="__codelineno-fhmodal_update_stored_advanced-64" href="#__codelineno-fhmodal_update_stored_advanced-64"></a><span class="w">    </span><span class="o">@</span><span class="n">OldDescrip</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">2000</span><span class="p">),</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_advanced-65"><a id="__codelineno-fhmodal_update_stored_advanced-65" name="__codelineno-fhmodal_update_stored_advanced-65" href="#__codelineno-fhmodal_update_stored_advanced-65"></a><span class="w">    </span><span class="o">@</span><span class="n">OldIdDoc</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span>
</span><span id="__span-fhmodal_update_stored_advanced-66"><a id="__codelineno-fhmodal_update_stored_advanced-66" name="__codelineno-fhmodal_update_stored_advanced-66" href="#__codelineno-fhmodal_update_stored_advanced-66"></a><span class="w">    </span><span class="o">@</span><span class="n">OldInsertUpdate</span><span class="w"> </span><span class="nb">bit</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_advanced-67"><a id="__codelineno-fhmodal_update_stored_advanced-67" name="__codelineno-fhmodal_update_stored_advanced-67" href="#__codelineno-fhmodal_update_stored_advanced-67"></a><span class="w">    </span><span class="o">@</span><span class="n">OldUsuario</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
</span><span id="__span-fhmodal_update_stored_advanced-68"><a id="__codelineno-fhmodal_update_stored_advanced-68" name="__codelineno-fhmodal_update_stored_advanced-68" href="#__codelineno-fhmodal_update_stored_advanced-68"></a><span class="w">    </span><span class="o">@</span><span class="n">OldFechaInsertUpdate</span><span class="w"> </span><span class="n">datetime</span><span class="w"> </span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_advanced-69"><a id="__codelineno-fhmodal_update_stored_advanced-69" name="__codelineno-fhmodal_update_stored_advanced-69" href="#__codelineno-fhmodal_update_stored_advanced-69"></a><span class="w">    </span><span class="o">@</span><span class="n">OldConfig</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored_advanced-70"><a id="__codelineno-fhmodal_update_stored_advanced-70" name="__codelineno-fhmodal_update_stored_advanced-70" href="#__codelineno-fhmodal_update_stored_advanced-70"></a>
</span><span id="__span-fhmodal_update_stored_advanced-71"><a id="__codelineno-fhmodal_update_stored_advanced-71" name="__codelineno-fhmodal_update_stored_advanced-71" href="#__codelineno-fhmodal_update_stored_advanced-71"></a>
</span><span id="__span-fhmodal_update_stored_advanced-72"><a id="__codelineno-fhmodal_update_stored_advanced-72" name="__codelineno-fhmodal_update_stored_advanced-72" href="#__codelineno-fhmodal_update_stored_advanced-72"></a><span class="w">    </span><span class="cm">/* load XML values into table @TableValues*/</span>
</span><span id="__span-fhmodal_update_stored_advanced-73"><a id="__codelineno-fhmodal_update_stored_advanced-73" name="__codelineno-fhmodal_update_stored_advanced-73" href="#__codelineno-fhmodal_update_stored_advanced-73"></a><span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">XmlDoc</span><span class="w"> </span><span class="nb">int</span>
</span><span id="__span-fhmodal_update_stored_advanced-74"><a id="__codelineno-fhmodal_update_stored_advanced-74" name="__codelineno-fhmodal_update_stored_advanced-74" href="#__codelineno-fhmodal_update_stored_advanced-74"></a><span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span><span class="n">Name</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="n">Value</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="k">max</span><span class="p">),</span><span class="n">OldValue</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="n">TableName</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">IsKey</span><span class="w"> </span><span class="nb">Bit</span><span class="w"> </span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored_advanced-75"><a id="__codelineno-fhmodal_update_stored_advanced-75" name="__codelineno-fhmodal_update_stored_advanced-75" href="#__codelineno-fhmodal_update_stored_advanced-75"></a><span class="w">    </span><span class="k">EXEC</span><span class="w"> </span><span class="n">sp_xml_preparedocument</span><span class="w"> </span><span class="o">@</span><span class="n">XmlDoc</span><span class="w">    </span><span class="k">OUTPUT</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="k">Values</span><span class="w">  </span>
</span><span id="__span-fhmodal_update_stored_advanced-76"><a id="__codelineno-fhmodal_update_stored_advanced-76" name="__codelineno-fhmodal_update_stored_advanced-76" href="#__codelineno-fhmodal_update_stored_advanced-76"></a>
</span><span id="__span-fhmodal_update_stored_advanced-77"><a id="__codelineno-fhmodal_update_stored_advanced-77" name="__codelineno-fhmodal_update_stored_advanced-77" href="#__codelineno-fhmodal_update_stored_advanced-77"></a><span class="w">    </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="p">(</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="n">Value</span><span class="p">,</span><span class="w"> </span><span class="n">OldValue</span><span class="p">,</span><span class="w"> </span><span class="n">TableName</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">IsKey</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored_advanced-78"><a id="__codelineno-fhmodal_update_stored_advanced-78" name="__codelineno-fhmodal_update_stored_advanced-78" href="#__codelineno-fhmodal_update_stored_advanced-78"></a><span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="n">Name</span><span class="p">,</span><span class="n">Value</span><span class="p">,</span><span class="n">OldValue</span><span class="p">,</span><span class="w"> </span><span class="n">TableName</span><span class="p">,</span><span class="w"> </span><span class="n">IsKey</span><span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">OPENXML</span><span class="p">(</span><span class="o">@</span><span class="n">XmlDoc</span><span class="p">,</span><span class="s1">'/Row/Property'</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored_advanced-79"><a id="__codelineno-fhmodal_update_stored_advanced-79" name="__codelineno-fhmodal_update_stored_advanced-79" href="#__codelineno-fhmodal_update_stored_advanced-79"></a><span class="w">    </span><span class="k">WITH</span><span class="p">(</span><span class="n">Name</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span><span class="w"> </span><span class="s1">'@Name'</span><span class="p">,</span><span class="n">Value</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="s1">'@Value'</span><span class="p">,</span><span class="n">OldValue</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="s1">'@OldValue'</span><span class="w"> </span><span class="p">,</span><span class="n">TableName</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="s1">'@TableName'</span><span class="p">,</span><span class="w"> </span><span class="n">IsKey</span><span class="w"> </span><span class="nb">Bit</span><span class="w"> </span><span class="s1">'@IsKey'</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored_advanced-80"><a id="__codelineno-fhmodal_update_stored_advanced-80" name="__codelineno-fhmodal_update_stored_advanced-80" href="#__codelineno-fhmodal_update_stored_advanced-80"></a>
</span><span id="__span-fhmodal_update_stored_advanced-81"><a id="__codelineno-fhmodal_update_stored_advanced-81" name="__codelineno-fhmodal_update_stored_advanced-81" href="#__codelineno-fhmodal_update_stored_advanced-81"></a><span class="w">    </span><span class="k">EXEC</span><span class="w"> </span><span class="n">sp_xml_removedocument</span><span class="w"> </span><span class="o">@</span><span class="n">XmlDoc</span>
</span><span id="__span-fhmodal_update_stored_advanced-82"><a id="__codelineno-fhmodal_update_stored_advanced-82" name="__codelineno-fhmodal_update_stored_advanced-82" href="#__codelineno-fhmodal_update_stored_advanced-82"></a>
</span><span id="__span-fhmodal_update_stored_advanced-83"><a id="__codelineno-fhmodal_update_stored_advanced-83" name="__codelineno-fhmodal_update_stored_advanced-83" href="#__codelineno-fhmodal_update_stored_advanced-83"></a><span class="w">    </span><span class="cm">/* load Values into variables */</span>
</span><span id="__span-fhmodal_update_stored_advanced-84"><a id="__codelineno-fhmodal_update_stored_advanced-84" name="__codelineno-fhmodal_update_stored_advanced-84" href="#__codelineno-fhmodal_update_stored_advanced-84"></a>
</span><span id="__span-fhmodal_update_stored_advanced-85"><a id="__codelineno-fhmodal_update_stored_advanced-85" name="__codelineno-fhmodal_update_stored_advanced-85" href="#__codelineno-fhmodal_update_stored_advanced-85"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="w"> </span><span class="o">=</span><span class="n">Value</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">OldTestId</span><span class="w"> </span><span class="o">=</span><span class="n">OldValue</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Name</span><span class="o">=</span><span class="s1">'TestId'</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_advanced-86"><a id="__codelineno-fhmodal_update_stored_advanced-86" name="__codelineno-fhmodal_update_stored_advanced-86" href="#__codelineno-fhmodal_update_stored_advanced-86"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">Descrip</span><span class="w"> </span><span class="o">=</span><span class="n">Value</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">OldDescrip</span><span class="w"> </span><span class="o">=</span><span class="n">OldValue</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Name</span><span class="o">=</span><span class="s1">'Descrip'</span>
</span><span id="__span-fhmodal_update_stored_advanced-87"><a id="__codelineno-fhmodal_update_stored_advanced-87" name="__codelineno-fhmodal_update_stored_advanced-87" href="#__codelineno-fhmodal_update_stored_advanced-87"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">Usuario</span><span class="w">  </span><span class="o">=</span><span class="n">Value</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">OldUsuario</span><span class="w">  </span><span class="o">=</span><span class="n">OldValue</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Name</span><span class="o">=</span><span class="s1">'Usuario'</span>
</span><span id="__span-fhmodal_update_stored_advanced-88"><a id="__codelineno-fhmodal_update_stored_advanced-88" name="__codelineno-fhmodal_update_stored_advanced-88" href="#__codelineno-fhmodal_update_stored_advanced-88"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">InsertUpdate</span><span class="w"> </span><span class="o">=</span><span class="n">Value</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">OldInsertUpdate</span><span class="w"> </span><span class="o">=</span><span class="n">OldValue</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Name</span><span class="o">=</span><span class="s1">'InsertUpdate'</span>
</span><span id="__span-fhmodal_update_stored_advanced-89"><a id="__codelineno-fhmodal_update_stored_advanced-89" name="__codelineno-fhmodal_update_stored_advanced-89" href="#__codelineno-fhmodal_update_stored_advanced-89"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">FechaInsertUpdate</span><span class="o">=</span><span class="n">Value</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">OldFechaInsertUpdate</span><span class="w"> </span><span class="o">=</span><span class="n">OldValue</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Name</span><span class="o">=</span><span class="s1">'FechaInsertUpdate'</span>
</span><span id="__span-fhmodal_update_stored_advanced-90"><a id="__codelineno-fhmodal_update_stored_advanced-90" name="__codelineno-fhmodal_update_stored_advanced-90" href="#__codelineno-fhmodal_update_stored_advanced-90"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">Config</span><span class="w"> </span><span class="o">=</span><span class="n">Value</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">OldConfig</span><span class="w"> </span><span class="o">=</span><span class="n">OldValue</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Name</span><span class="o">=</span><span class="s1">'Config'</span>
</span><span id="__span-fhmodal_update_stored_advanced-91"><a id="__codelineno-fhmodal_update_stored_advanced-91" name="__codelineno-fhmodal_update_stored_advanced-91" href="#__codelineno-fhmodal_update_stored_advanced-91"></a>
</span><span id="__span-fhmodal_update_stored_advanced-92"><a id="__codelineno-fhmodal_update_stored_advanced-92" name="__codelineno-fhmodal_update_stored_advanced-92" href="#__codelineno-fhmodal_update_stored_advanced-92"></a><span class="w">     </span><span class="cm">/* build update string for Table 1*/</span>
</span><span id="__span-fhmodal_update_stored_advanced-93"><a id="__codelineno-fhmodal_update_stored_advanced-93" name="__codelineno-fhmodal_update_stored_advanced-93" href="#__codelineno-fhmodal_update_stored_advanced-93"></a><span class="w">     </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">UpdateString</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="k">max</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored_advanced-94"><a id="__codelineno-fhmodal_update_stored_advanced-94" name="__codelineno-fhmodal_update_stored_advanced-94" href="#__codelineno-fhmodal_update_stored_advanced-94"></a><span class="w">     </span><span class="k">SELECT</span><span class="w">  </span><span class="o">@</span><span class="n">UpdateString</span><span class="w">  </span><span class="o">=</span>
</span><span id="__span-fhmodal_update_stored_advanced-95"><a id="__codelineno-fhmodal_update_stored_advanced-95" name="__codelineno-fhmodal_update_stored_advanced-95" href="#__codelineno-fhmodal_update_stored_advanced-95"></a><span class="w">             </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">OldValue</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">Value</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="s1">'TestId='</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="o">+</span><span class="s1">','</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_advanced-96"><a id="__codelineno-fhmodal_update_stored_advanced-96" name="__codelineno-fhmodal_update_stored_advanced-96" href="#__codelineno-fhmodal_update_stored_advanced-96"></a><span class="w">             </span><span class="k">ELSE</span><span class="w"> </span><span class="s1">''</span><span class="w"> </span><span class="k">END</span><span class="w">   </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Name</span><span class="o">=</span><span class="s1">'TestId'</span>
</span><span id="__span-fhmodal_update_stored_advanced-97"><a id="__codelineno-fhmodal_update_stored_advanced-97" name="__codelineno-fhmodal_update_stored_advanced-97" href="#__codelineno-fhmodal_update_stored_advanced-97"></a>
</span><span id="__span-fhmodal_update_stored_advanced-98"><a id="__codelineno-fhmodal_update_stored_advanced-98" name="__codelineno-fhmodal_update_stored_advanced-98" href="#__codelineno-fhmodal_update_stored_advanced-98"></a><span class="w">     </span><span class="k">SELECT</span><span class="w">  </span><span class="o">@</span><span class="n">UpdateString</span><span class="w">  </span><span class="o">=@</span><span class="n">UpdateString</span><span class="w">  </span><span class="o">+</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_advanced-99"><a id="__codelineno-fhmodal_update_stored_advanced-99" name="__codelineno-fhmodal_update_stored_advanced-99" href="#__codelineno-fhmodal_update_stored_advanced-99"></a><span class="w">             </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">OldValue</span><span class="p">,</span><span class="s1">''</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">Value</span><span class="p">,</span><span class="s1">''</span><span class="p">)</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_advanced-100"><a id="__codelineno-fhmodal_update_stored_advanced-100" name="__codelineno-fhmodal_update_stored_advanced-100" href="#__codelineno-fhmodal_update_stored_advanced-100"></a><span class="w">                </span><span class="k">THEN</span><span class="w"> </span><span class="s1">'Descrip='</span><span class="o">+</span><span class="w"> </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NULL</span><span class="w">  </span><span class="k">THEN</span><span class="w"> </span><span class="s1">'NULL'</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="s1">''''</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="o">+</span><span class="s1">''''</span><span class="w"> </span><span class="k">END</span><span class="w">  </span><span class="o">+</span><span class="s1">','</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_advanced-101"><a id="__codelineno-fhmodal_update_stored_advanced-101" name="__codelineno-fhmodal_update_stored_advanced-101" href="#__codelineno-fhmodal_update_stored_advanced-101"></a><span class="w">             </span><span class="k">ELSE</span><span class="w"> </span><span class="s1">''</span><span class="w"> </span><span class="k">END</span><span class="w">   </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Name</span><span class="o">=</span><span class="s1">'Descrip'</span>
</span><span id="__span-fhmodal_update_stored_advanced-102"><a id="__codelineno-fhmodal_update_stored_advanced-102" name="__codelineno-fhmodal_update_stored_advanced-102" href="#__codelineno-fhmodal_update_stored_advanced-102"></a>
</span><span id="__span-fhmodal_update_stored_advanced-103"><a id="__codelineno-fhmodal_update_stored_advanced-103" name="__codelineno-fhmodal_update_stored_advanced-103" href="#__codelineno-fhmodal_update_stored_advanced-103"></a><span class="w">     </span><span class="k">SELECT</span><span class="w">  </span><span class="o">@</span><span class="n">UpdateString</span><span class="w">  </span><span class="o">=@</span><span class="n">UpdateString</span><span class="w">  </span><span class="o">+</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_advanced-104"><a id="__codelineno-fhmodal_update_stored_advanced-104" name="__codelineno-fhmodal_update_stored_advanced-104" href="#__codelineno-fhmodal_update_stored_advanced-104"></a><span class="w">             </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">OldValue</span><span class="p">,</span><span class="s1">''</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">Value</span><span class="p">,</span><span class="s1">''</span><span class="p">)</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_advanced-105"><a id="__codelineno-fhmodal_update_stored_advanced-105" name="__codelineno-fhmodal_update_stored_advanced-105" href="#__codelineno-fhmodal_update_stored_advanced-105"></a><span class="w">                </span><span class="k">THEN</span><span class="w"> </span><span class="s1">'Usuario='</span><span class="o">+</span><span class="w"> </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NULL</span><span class="w">  </span><span class="k">THEN</span><span class="w"> </span><span class="s1">'NULL'</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="s1">''''</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="o">+</span><span class="s1">''''</span><span class="w"> </span><span class="k">END</span><span class="w">  </span><span class="o">+</span><span class="s1">','</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_advanced-106"><a id="__codelineno-fhmodal_update_stored_advanced-106" name="__codelineno-fhmodal_update_stored_advanced-106" href="#__codelineno-fhmodal_update_stored_advanced-106"></a><span class="w">             </span><span class="k">ELSE</span><span class="w"> </span><span class="s1">''</span><span class="w"> </span><span class="k">END</span><span class="w">   </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Name</span><span class="o">=</span><span class="s1">'Usuario'</span>
</span><span id="__span-fhmodal_update_stored_advanced-107"><a id="__codelineno-fhmodal_update_stored_advanced-107" name="__codelineno-fhmodal_update_stored_advanced-107" href="#__codelineno-fhmodal_update_stored_advanced-107"></a>
</span><span id="__span-fhmodal_update_stored_advanced-108"><a id="__codelineno-fhmodal_update_stored_advanced-108" name="__codelineno-fhmodal_update_stored_advanced-108" href="#__codelineno-fhmodal_update_stored_advanced-108"></a><span class="w">     </span><span class="k">SELECT</span><span class="w">  </span><span class="o">@</span><span class="n">UpdateString</span><span class="w">  </span><span class="o">=@</span><span class="n">UpdateString</span><span class="w">  </span><span class="o">+</span><span class="w"> </span><span class="s1">' InsertUpdate=0,'</span>
</span><span id="__span-fhmodal_update_stored_advanced-109"><a id="__codelineno-fhmodal_update_stored_advanced-109" name="__codelineno-fhmodal_update_stored_advanced-109" href="#__codelineno-fhmodal_update_stored_advanced-109"></a><span class="w">     </span><span class="k">SELECT</span><span class="w">  </span><span class="o">@</span><span class="n">UpdateString</span><span class="w">  </span><span class="o">=@</span><span class="n">UpdateString</span><span class="w">  </span><span class="o">+</span><span class="w"> </span><span class="s1">'FechaInsertUpdate='''</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">CAst</span><span class="p">(</span><span class="n">GetDAte</span><span class="p">()</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">)</span><span class="w">  </span><span class="o">+</span><span class="s1">''''</span>
</span><span id="__span-fhmodal_update_stored_advanced-110"><a id="__codelineno-fhmodal_update_stored_advanced-110" name="__codelineno-fhmodal_update_stored_advanced-110" href="#__codelineno-fhmodal_update_stored_advanced-110"></a>
</span><span id="__span-fhmodal_update_stored_advanced-111"><a id="__codelineno-fhmodal_update_stored_advanced-111" name="__codelineno-fhmodal_update_stored_advanced-111" href="#__codelineno-fhmodal_update_stored_advanced-111"></a>
</span><span id="__span-fhmodal_update_stored_advanced-112"><a id="__codelineno-fhmodal_update_stored_advanced-112" name="__codelineno-fhmodal_update_stored_advanced-112" href="#__codelineno-fhmodal_update_stored_advanced-112"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">UpdateString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'UPDATE _Test SET '</span><span class="w"> </span><span class="o">+</span><span class="w">  </span><span class="o">@</span><span class="n">UpdateString</span><span class="w">  </span><span class="o">+</span><span class="w"> </span><span class="s1">' WHERE TestId='</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">CAST</span><span class="w"> </span><span class="p">(</span><span class="k">ISNULL</span><span class="p">(</span><span class="o">@</span><span class="n">OldTestId</span><span class="w"> </span><span class="p">,</span><span class="s1">''</span><span class="p">)</span><span class="w">      </span><span class="k">as</span><span class="w"> </span><span class="n">nVarchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored_advanced-113"><a id="__codelineno-fhmodal_update_stored_advanced-113" name="__codelineno-fhmodal_update_stored_advanced-113" href="#__codelineno-fhmodal_update_stored_advanced-113"></a>
</span><span id="__span-fhmodal_update_stored_advanced-114"><a id="__codelineno-fhmodal_update_stored_advanced-114" name="__codelineno-fhmodal_update_stored_advanced-114" href="#__codelineno-fhmodal_update_stored_advanced-114"></a><span class="w">      </span><span class="cm">/* build update string for Table 1*/</span>
</span><span id="__span-fhmodal_update_stored_advanced-115"><a id="__codelineno-fhmodal_update_stored_advanced-115" name="__codelineno-fhmodal_update_stored_advanced-115" href="#__codelineno-fhmodal_update_stored_advanced-115"></a><span class="w">     </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">UpdateString2</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="k">max</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored_advanced-116"><a id="__codelineno-fhmodal_update_stored_advanced-116" name="__codelineno-fhmodal_update_stored_advanced-116" href="#__codelineno-fhmodal_update_stored_advanced-116"></a><span class="w">     </span><span class="k">SELECT</span><span class="w">  </span><span class="o">@</span><span class="n">UpdateString2</span><span class="w">  </span><span class="o">=</span>
</span><span id="__span-fhmodal_update_stored_advanced-117"><a id="__codelineno-fhmodal_update_stored_advanced-117" name="__codelineno-fhmodal_update_stored_advanced-117" href="#__codelineno-fhmodal_update_stored_advanced-117"></a><span class="w">             </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">OldValue</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">Value</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="s1">'TestId='</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="o">+</span><span class="s1">','</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_advanced-118"><a id="__codelineno-fhmodal_update_stored_advanced-118" name="__codelineno-fhmodal_update_stored_advanced-118" href="#__codelineno-fhmodal_update_stored_advanced-118"></a><span class="w">             </span><span class="k">ELSE</span><span class="w"> </span><span class="s1">''</span><span class="w"> </span><span class="k">END</span><span class="w">   </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Name</span><span class="o">=</span><span class="s1">'TestId'</span>
</span><span id="__span-fhmodal_update_stored_advanced-119"><a id="__codelineno-fhmodal_update_stored_advanced-119" name="__codelineno-fhmodal_update_stored_advanced-119" href="#__codelineno-fhmodal_update_stored_advanced-119"></a>
</span><span id="__span-fhmodal_update_stored_advanced-120"><a id="__codelineno-fhmodal_update_stored_advanced-120" name="__codelineno-fhmodal_update_stored_advanced-120" href="#__codelineno-fhmodal_update_stored_advanced-120"></a><span class="w">     </span><span class="k">SELECT</span><span class="w">  </span><span class="o">@</span><span class="n">UpdateString2</span><span class="w">  </span><span class="o">=@</span><span class="n">UpdateString2</span><span class="w">  </span><span class="o">+</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_advanced-121"><a id="__codelineno-fhmodal_update_stored_advanced-121" name="__codelineno-fhmodal_update_stored_advanced-121" href="#__codelineno-fhmodal_update_stored_advanced-121"></a><span class="w">             </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">OldValue</span><span class="p">,</span><span class="s1">''</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">Value</span><span class="p">,</span><span class="s1">''</span><span class="p">)</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_advanced-122"><a id="__codelineno-fhmodal_update_stored_advanced-122" name="__codelineno-fhmodal_update_stored_advanced-122" href="#__codelineno-fhmodal_update_stored_advanced-122"></a><span class="w">                </span><span class="k">THEN</span><span class="w"> </span><span class="s1">'Config='</span><span class="o">+</span><span class="w"> </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NULL</span><span class="w">  </span><span class="k">THEN</span><span class="w"> </span><span class="s1">'NULL'</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="s1">''''</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="o">+</span><span class="s1">''''</span><span class="w"> </span><span class="k">END</span><span class="w">  </span><span class="o">+</span><span class="s1">','</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_advanced-123"><a id="__codelineno-fhmodal_update_stored_advanced-123" name="__codelineno-fhmodal_update_stored_advanced-123" href="#__codelineno-fhmodal_update_stored_advanced-123"></a><span class="w">             </span><span class="k">ELSE</span><span class="w"> </span><span class="s1">''</span><span class="w"> </span><span class="k">END</span><span class="w">   </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Name</span><span class="o">=</span><span class="s1">'Config'</span>
</span><span id="__span-fhmodal_update_stored_advanced-124"><a id="__codelineno-fhmodal_update_stored_advanced-124" name="__codelineno-fhmodal_update_stored_advanced-124" href="#__codelineno-fhmodal_update_stored_advanced-124"></a>
</span><span id="__span-fhmodal_update_stored_advanced-125"><a id="__codelineno-fhmodal_update_stored_advanced-125" name="__codelineno-fhmodal_update_stored_advanced-125" href="#__codelineno-fhmodal_update_stored_advanced-125"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">UpdateString2</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="k">LEFT</span><span class="p">(</span><span class="o">@</span><span class="n">UpdateString2</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">LEN</span><span class="p">(</span><span class="o">@</span><span class="n">UpdateString2</span><span class="w"> </span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w">             </span><span class="cm">/*remove las coma*/</span><span class="w">                 </span>
</span><span id="__span-fhmodal_update_stored_advanced-126"><a id="__codelineno-fhmodal_update_stored_advanced-126" name="__codelineno-fhmodal_update_stored_advanced-126" href="#__codelineno-fhmodal_update_stored_advanced-126"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">UpdateString2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'UPDATE _Test_Conf SET '</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">@</span><span class="n">UpdateString2</span><span class="w">  </span><span class="o">+</span><span class="w"> </span><span class="s1">' WHERE TestId='</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">CAST</span><span class="w"> </span><span class="p">(</span><span class="k">ISNULL</span><span class="p">(</span><span class="o">@</span><span class="n">OldTestId</span><span class="w"> </span><span class="p">,</span><span class="s1">''</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">nVarchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored_advanced-127"><a id="__codelineno-fhmodal_update_stored_advanced-127" name="__codelineno-fhmodal_update_stored_advanced-127" href="#__codelineno-fhmodal_update_stored_advanced-127"></a>
</span><span id="__span-fhmodal_update_stored_advanced-128"><a id="__codelineno-fhmodal_update_stored_advanced-128" name="__codelineno-fhmodal_update_stored_advanced-128" href="#__codelineno-fhmodal_update_stored_advanced-128"></a><span class="w">    </span><span class="cm">/* perform process (update fields into different tables) */</span>
</span><span id="__span-fhmodal_update_stored_advanced-129"><a id="__codelineno-fhmodal_update_stored_advanced-129" name="__codelineno-fhmodal_update_stored_advanced-129" href="#__codelineno-fhmodal_update_stored_advanced-129"></a><span class="w">     </span><span class="k">EXECUTE</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">@</span><span class="n">UpdateString</span><span class="w"> </span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored_advanced-130"><a id="__codelineno-fhmodal_update_stored_advanced-130" name="__codelineno-fhmodal_update_stored_advanced-130" href="#__codelineno-fhmodal_update_stored_advanced-130"></a><span class="w">     </span><span class="k">EXECUTE</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">@</span><span class="n">UpdateString2</span><span class="w"> </span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored_advanced-131"><a id="__codelineno-fhmodal_update_stored_advanced-131" name="__codelineno-fhmodal_update_stored_advanced-131" href="#__codelineno-fhmodal_update_stored_advanced-131"></a>
</span><span id="__span-fhmodal_update_stored_advanced-132"><a id="__codelineno-fhmodal_update_stored_advanced-132" name="__codelineno-fhmodal_update_stored_advanced-132" href="#__codelineno-fhmodal_update_stored_advanced-132"></a>
</span><span id="__span-fhmodal_update_stored_advanced-133"><a id="__codelineno-fhmodal_update_stored_advanced-133" name="__codelineno-fhmodal_update_stored_advanced-133" href="#__codelineno-fhmodal_update_stored_advanced-133"></a><span class="w">    </span><span class="cm">/* perform process (insert fields into different tables) */</span>
</span><span id="__span-fhmodal_update_stored_advanced-134"><a id="__codelineno-fhmodal_update_stored_advanced-134" name="__codelineno-fhmodal_update_stored_advanced-134" href="#__codelineno-fhmodal_update_stored_advanced-134"></a><span class="w">     </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">_Test</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">TestId</span><span class="o">=@</span><span class="n">TestId</span><span class="p">,</span><span class="n">Descrip</span><span class="o">=@</span><span class="n">Descrip</span><span class="p">,</span><span class="w"> </span><span class="n">Usuario</span><span class="o">=@</span><span class="n">Usuario</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">InsertUpdate</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">FechaInsertUpdate</span><span class="o">=@</span><span class="n">FechaInsertUpdate</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">TestId</span><span class="o">=@</span><span class="n">OldTestId</span>
</span><span id="__span-fhmodal_update_stored_advanced-135"><a id="__codelineno-fhmodal_update_stored_advanced-135" name="__codelineno-fhmodal_update_stored_advanced-135" href="#__codelineno-fhmodal_update_stored_advanced-135"></a><span class="w">     </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">_Test_conf</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">TestId</span><span class="o">=@</span><span class="n">TestId</span><span class="p">,</span><span class="n">Config</span><span class="o">=@</span><span class="n">Config</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">TestId</span><span class="o">=@</span><span class="n">OldTestId</span>
</span><span id="__span-fhmodal_update_stored_advanced-136"><a id="__codelineno-fhmodal_update_stored_advanced-136" name="__codelineno-fhmodal_update_stored_advanced-136" href="#__codelineno-fhmodal_update_stored_advanced-136"></a>
</span><span id="__span-fhmodal_update_stored_advanced-137"><a id="__codelineno-fhmodal_update_stored_advanced-137" name="__codelineno-fhmodal_update_stored_advanced-137" href="#__codelineno-fhmodal_update_stored_advanced-137"></a><span class="w">    </span><span class="cm">/* change Keys if necesary*/</span>
</span><span id="__span-fhmodal_update_stored_advanced-138"><a id="__codelineno-fhmodal_update_stored_advanced-138" name="__codelineno-fhmodal_update_stored_advanced-138" href="#__codelineno-fhmodal_update_stored_advanced-138"></a>
</span><span id="__span-fhmodal_update_stored_advanced-139"><a id="__codelineno-fhmodal_update_stored_advanced-139" name="__codelineno-fhmodal_update_stored_advanced-139" href="#__codelineno-fhmodal_update_stored_advanced-139"></a><span class="w">        </span><span class="c1">--SET @Values.modify('replace value of (/Row/Property[@Name=''TesId'']/@Value)[1] with sql:variable("@TestId")')</span>
</span><span id="__span-fhmodal_update_stored_advanced-140"><a id="__codelineno-fhmodal_update_stored_advanced-140" name="__codelineno-fhmodal_update_stored_advanced-140" href="#__codelineno-fhmodal_update_stored_advanced-140"></a>
</span><span id="__span-fhmodal_update_stored_advanced-141"><a id="__codelineno-fhmodal_update_stored_advanced-141" name="__codelineno-fhmodal_update_stored_advanced-141" href="#__codelineno-fhmodal_update_stored_advanced-141"></a>
</span><span id="__span-fhmodal_update_stored_advanced-142"><a id="__codelineno-fhmodal_update_stored_advanced-142" name="__codelineno-fhmodal_update_stored_advanced-142" href="#__codelineno-fhmodal_update_stored_advanced-142"></a><span class="w">    </span><span class="cm">/* Process return values*/</span>
</span><span id="__span-fhmodal_update_stored_advanced-143"><a id="__codelineno-fhmodal_update_stored_advanced-143" name="__codelineno-fhmodal_update_stored_advanced-143" href="#__codelineno-fhmodal_update_stored_advanced-143"></a><span class="w">        </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="p">.</span><span class="k">modify</span><span class="p">(</span><span class="s1">'replace value of (/Property/@Success)[1] with 1'</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored_advanced-144"><a id="__codelineno-fhmodal_update_stored_advanced-144" name="__codelineno-fhmodal_update_stored_advanced-144" href="#__codelineno-fhmodal_update_stored_advanced-144"></a><span class="w">        </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="p">.</span><span class="k">modify</span><span class="p">(</span><span class="s1">'replace value of (/Property/@SuccessMessage)[1] with "All went fine"'</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored_advanced-145"><a id="__codelineno-fhmodal_update_stored_advanced-145" name="__codelineno-fhmodal_update_stored_advanced-145" href="#__codelineno-fhmodal_update_stored_advanced-145"></a>
</span><span id="__span-fhmodal_update_stored_advanced-146"><a id="__codelineno-fhmodal_update_stored_advanced-146" name="__codelineno-fhmodal_update_stored_advanced-146" href="#__codelineno-fhmodal_update_stored_advanced-146"></a><span class="w">    </span><span class="k">RETURN</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-fhmodal_update_stored_advanced-147"><a id="__codelineno-fhmodal_update_stored_advanced-147" name="__codelineno-fhmodal_update_stored_advanced-147" href="#__codelineno-fhmodal_update_stored_advanced-147"></a><span class="k">END</span><span class="w"> </span><span class="n">TRY</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_advanced-148"><a id="__codelineno-fhmodal_update_stored_advanced-148" name="__codelineno-fhmodal_update_stored_advanced-148" href="#__codelineno-fhmodal_update_stored_advanced-148"></a>
</span><span id="__span-fhmodal_update_stored_advanced-149"><a id="__codelineno-fhmodal_update_stored_advanced-149" name="__codelineno-fhmodal_update_stored_advanced-149" href="#__codelineno-fhmodal_update_stored_advanced-149"></a><span class="k">BEGIN</span><span class="w"> </span><span class="n">CATCH</span>
</span><span id="__span-fhmodal_update_stored_advanced-150"><a id="__codelineno-fhmodal_update_stored_advanced-150" name="__codelineno-fhmodal_update_stored_advanced-150" href="#__codelineno-fhmodal_update_stored_advanced-150"></a><span class="w">    </span><span class="k">IF</span><span class="w"> </span><span class="o">@@</span><span class="n">TRANCOUNT</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">BEGIN</span>
</span><span id="__span-fhmodal_update_stored_advanced-151"><a id="__codelineno-fhmodal_update_stored_advanced-151" name="__codelineno-fhmodal_update_stored_advanced-151" href="#__codelineno-fhmodal_update_stored_advanced-151"></a><span class="w">        </span><span class="k">ROLLBACK</span><span class="w"> </span><span class="n">TRAN</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_advanced-152"><a id="__codelineno-fhmodal_update_stored_advanced-152" name="__codelineno-fhmodal_update_stored_advanced-152" href="#__codelineno-fhmodal_update_stored_advanced-152"></a><span class="w">    </span><span class="k">END</span>
</span><span id="__span-fhmodal_update_stored_advanced-153"><a id="__codelineno-fhmodal_update_stored_advanced-153" name="__codelineno-fhmodal_update_stored_advanced-153" href="#__codelineno-fhmodal_update_stored_advanced-153"></a>
</span><span id="__span-fhmodal_update_stored_advanced-154"><a id="__codelineno-fhmodal_update_stored_advanced-154" name="__codelineno-fhmodal_update_stored_advanced-154" href="#__codelineno-fhmodal_update_stored_advanced-154"></a><span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">CatchError</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored_advanced-155"><a id="__codelineno-fhmodal_update_stored_advanced-155" name="__codelineno-fhmodal_update_stored_advanced-155" href="#__codelineno-fhmodal_update_stored_advanced-155"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">CatchError</span><span class="o">=</span><span class="n">dbo</span><span class="p">.</span><span class="n">funprintError</span><span class="p">(</span><span class="n">ERROR_MESSAGE</span><span class="p">(),</span><span class="n">ERROR_NUMBER</span><span class="p">(),</span><span class="n">ERROR_PROCEDURE</span><span class="p">(),</span><span class="o">@@</span><span class="n">PROCID</span><span class="w"> </span><span class="p">,</span><span class="n">ERROR_LINE</span><span class="p">())</span>
</span><span id="__span-fhmodal_update_stored_advanced-156"><a id="__codelineno-fhmodal_update_stored_advanced-156" name="__codelineno-fhmodal_update_stored_advanced-156" href="#__codelineno-fhmodal_update_stored_advanced-156"></a><span class="w">    </span><span class="n">RAISERROR</span><span class="p">(</span><span class="o">@</span><span class="n">CatchError</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored_advanced-157"><a id="__codelineno-fhmodal_update_stored_advanced-157" name="__codelineno-fhmodal_update_stored_advanced-157" href="#__codelineno-fhmodal_update_stored_advanced-157"></a>
</span><span id="__span-fhmodal_update_stored_advanced-158"><a id="__codelineno-fhmodal_update_stored_advanced-158" name="__codelineno-fhmodal_update_stored_advanced-158" href="#__codelineno-fhmodal_update_stored_advanced-158"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="p">.</span><span class="k">modify</span><span class="p">(</span><span class="s1">'replace value of (/Property/@Success)[1] with 0'</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored_advanced-159"><a id="__codelineno-fhmodal_update_stored_advanced-159" name="__codelineno-fhmodal_update_stored_advanced-159" href="#__codelineno-fhmodal_update_stored_advanced-159"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="p">.</span><span class="k">modify</span><span class="p">(</span><span class="s1">'replace value of (/Property/@SuccessMessage)[1] with "Something went wrong"'</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored_advanced-160"><a id="__codelineno-fhmodal_update_stored_advanced-160" name="__codelineno-fhmodal_update_stored_advanced-160" href="#__codelineno-fhmodal_update_stored_advanced-160"></a><span class="w">    </span><span class="k">RETURN</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-fhmodal_update_stored_advanced-161"><a id="__codelineno-fhmodal_update_stored_advanced-161" name="__codelineno-fhmodal_update_stored_advanced-161" href="#__codelineno-fhmodal_update_stored_advanced-161"></a>
</span><span id="__span-fhmodal_update_stored_advanced-162"><a id="__codelineno-fhmodal_update_stored_advanced-162" name="__codelineno-fhmodal_update_stored_advanced-162" href="#__codelineno-fhmodal_update_stored_advanced-162"></a><span class="k">END</span><span class="w"> </span><span class="n">CATCH</span>
</span></code></pre></div>
<div id="fhmodal_delete_stored_advanced" class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-fhmodal_delete_stored_advanced-1"><a id="__codelineno-fhmodal_delete_stored_advanced-1" name="__codelineno-fhmodal_delete_stored_advanced-1" href="#__codelineno-fhmodal_delete_stored_advanced-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">PROCEDURE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">P_TestDelete_Stored_Advanced</span><span class="p">]</span><span class="w">  </span>
</span><span id="__span-fhmodal_delete_stored_advanced-2"><a id="__codelineno-fhmodal_delete_stored_advanced-2" name="__codelineno-fhmodal_delete_stored_advanced-2" href="#__codelineno-fhmodal_delete_stored_advanced-2"></a>
</span><span id="__span-fhmodal_delete_stored_advanced-3"><a id="__codelineno-fhmodal_delete_stored_advanced-3" name="__codelineno-fhmodal_delete_stored_advanced-3" href="#__codelineno-fhmodal_delete_stored_advanced-3"></a><span class="w">    </span><span class="o">@</span><span class="k">Values</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">XML</span><span class="w"> </span><span class="k">OUTPUT</span><span class="p">,</span>
</span><span id="__span-fhmodal_delete_stored_advanced-4"><a id="__codelineno-fhmodal_delete_stored_advanced-4" name="__codelineno-fhmodal_delete_stored_advanced-4" href="#__codelineno-fhmodal_delete_stored_advanced-4"></a><span class="w">    </span><span class="o">@</span><span class="n">ContextVars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">XML</span><span class="p">,</span>
</span><span id="__span-fhmodal_delete_stored_advanced-5"><a id="__codelineno-fhmodal_delete_stored_advanced-5" name="__codelineno-fhmodal_delete_stored_advanced-5" href="#__codelineno-fhmodal_delete_stored_advanced-5"></a><span class="w">    </span><span class="o">@</span><span class="n">RetValues</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">XML</span><span class="w"> </span><span class="k">OUTPUT</span><span class="w">     </span>
</span><span id="__span-fhmodal_delete_stored_advanced-6"><a id="__codelineno-fhmodal_delete_stored_advanced-6" name="__codelineno-fhmodal_delete_stored_advanced-6" href="#__codelineno-fhmodal_delete_stored_advanced-6"></a>
</span><span id="__span-fhmodal_delete_stored_advanced-7"><a id="__codelineno-fhmodal_delete_stored_advanced-7" name="__codelineno-fhmodal_delete_stored_advanced-7" href="#__codelineno-fhmodal_delete_stored_advanced-7"></a><span class="w">    </span><span class="k">AS</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_stored_advanced-8"><a id="__codelineno-fhmodal_delete_stored_advanced-8" name="__codelineno-fhmodal_delete_stored_advanced-8" href="#__codelineno-fhmodal_delete_stored_advanced-8"></a><span class="w">    </span><span class="c1">----------------------------------------------------------------------------------</span>
</span><span id="__span-fhmodal_delete_stored_advanced-9"><a id="__codelineno-fhmodal_delete_stored_advanced-9" name="__codelineno-fhmodal_delete_stored_advanced-9" href="#__codelineno-fhmodal_delete_stored_advanced-9"></a><span class="c1">--#NAME</span>
</span><span id="__span-fhmodal_delete_stored_advanced-10"><a id="__codelineno-fhmodal_delete_stored_advanced-10" name="__codelineno-fhmodal_delete_stored_advanced-10" href="#__codelineno-fhmodal_delete_stored_advanced-10"></a><span class="c1">--      P_TestDelete_Stored</span>
</span><span id="__span-fhmodal_delete_stored_advanced-11"><a id="__codelineno-fhmodal_delete_stored_advanced-11" name="__codelineno-fhmodal_delete_stored_advanced-11" href="#__codelineno-fhmodal_delete_stored_advanced-11"></a><span class="c1">--#CREATION</span>
</span><span id="__span-fhmodal_delete_stored_advanced-12"><a id="__codelineno-fhmodal_delete_stored_advanced-12" name="__codelineno-fhmodal_delete_stored_advanced-12" href="#__codelineno-fhmodal_delete_stored_advanced-12"></a><span class="c1">--      07/01/2016</span>
</span><span id="__span-fhmodal_delete_stored_advanced-13"><a id="__codelineno-fhmodal_delete_stored_advanced-13" name="__codelineno-fhmodal_delete_stored_advanced-13" href="#__codelineno-fhmodal_delete_stored_advanced-13"></a><span class="c1">--#CLASIFICATION</span>
</span><span id="__span-fhmodal_delete_stored_advanced-14"><a id="__codelineno-fhmodal_delete_stored_advanced-14" name="__codelineno-fhmodal_delete_stored_advanced-14" href="#__codelineno-fhmodal_delete_stored_advanced-14"></a><span class="c1">--      Framework/systemObjects</span>
</span><span id="__span-fhmodal_delete_stored_advanced-15"><a id="__codelineno-fhmodal_delete_stored_advanced-15" name="__codelineno-fhmodal_delete_stored_advanced-15" href="#__codelineno-fhmodal_delete_stored_advanced-15"></a><span class="c1">--#DESCRIPTION</span>
</span><span id="__span-fhmodal_delete_stored_advanced-16"><a id="__codelineno-fhmodal_delete_stored_advanced-16" name="__codelineno-fhmodal_delete_stored_advanced-16" href="#__codelineno-fhmodal_delete_stored_advanced-16"></a><span class="c1">--      Used for Testing object delete through Flexygo Stored procedure</span>
</span><span id="__span-fhmodal_delete_stored_advanced-17"><a id="__codelineno-fhmodal_delete_stored_advanced-17" name="__codelineno-fhmodal_delete_stored_advanced-17" href="#__codelineno-fhmodal_delete_stored_advanced-17"></a><span class="c1">--#PARAMETERS</span>
</span><span id="__span-fhmodal_delete_stored_advanced-18"><a id="__codelineno-fhmodal_delete_stored_advanced-18" name="__codelineno-fhmodal_delete_stored_advanced-18" href="#__codelineno-fhmodal_delete_stored_advanced-18"></a><span class="c1">--      @Values : Object properties ,</span>
</span><span id="__span-fhmodal_delete_stored_advanced-19"><a id="__codelineno-fhmodal_delete_stored_advanced-19" name="__codelineno-fhmodal_delete_stored_advanced-19" href="#__codelineno-fhmodal_delete_stored_advanced-19"></a><span class="c1">--      @ContextVars: Flexygo ciontext variables,</span>
</span><span id="__span-fhmodal_delete_stored_advanced-20"><a id="__codelineno-fhmodal_delete_stored_advanced-20" name="__codelineno-fhmodal_delete_stored_advanced-20" href="#__codelineno-fhmodal_delete_stored_advanced-20"></a><span class="c1">--      @RetValues : Flexygo process Helper (CloseParamWindow,JSCode,JSFile,LastException,Params,Refresh,Success,SuccesMessage,WarningMessage)</span>
</span><span id="__span-fhmodal_delete_stored_advanced-21"><a id="__codelineno-fhmodal_delete_stored_advanced-21" name="__codelineno-fhmodal_delete_stored_advanced-21" href="#__codelineno-fhmodal_delete_stored_advanced-21"></a><span class="c1">--#OBSERVATIONS</span>
</span><span id="__span-fhmodal_delete_stored_advanced-22"><a id="__codelineno-fhmodal_delete_stored_advanced-22" name="__codelineno-fhmodal_delete_stored_advanced-22" href="#__codelineno-fhmodal_delete_stored_advanced-22"></a><span class="c1">-- Values XML Sample</span>
</span><span id="__span-fhmodal_delete_stored_advanced-23"><a id="__codelineno-fhmodal_delete_stored_advanced-23" name="__codelineno-fhmodal_delete_stored_advanced-23" href="#__codelineno-fhmodal_delete_stored_advanced-23"></a><span class="c1">--  &lt; Row rowId="d4ec88a0-3129-4c5d-b5ac-8c9d2867db64" ObjectName="systmpTest"&gt; </span>
</span><span id="__span-fhmodal_delete_stored_advanced-24"><a id="__codelineno-fhmodal_delete_stored_advanced-24" name="__codelineno-fhmodal_delete_stored_advanced-24" href="#__codelineno-fhmodal_delete_stored_advanced-24"></a><span class="c1">--      &lt; Property Name="TestId" Value="3" OldValue="" TableName="_Test" IsKey="True" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored_advanced-25"><a id="__codelineno-fhmodal_delete_stored_advanced-25" name="__codelineno-fhmodal_delete_stored_advanced-25" href="#__codelineno-fhmodal_delete_stored_advanced-25"></a><span class="c1">--      &lt; Property Name="Descrip" Value="test3" OldValue="" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored_advanced-26"><a id="__codelineno-fhmodal_delete_stored_advanced-26" name="__codelineno-fhmodal_delete_stored_advanced-26" href="#__codelineno-fhmodal_delete_stored_advanced-26"></a><span class="c1">--      &lt; Property Name="IdDoc" Value="" OldValue="" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored_advanced-27"><a id="__codelineno-fhmodal_delete_stored_advanced-27" name="__codelineno-fhmodal_delete_stored_advanced-27" href="#__codelineno-fhmodal_delete_stored_advanced-27"></a><span class="c1">--      &lt; Property Name="InsertUpdate" Value="False" OldValue="False" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored_advanced-28"><a id="__codelineno-fhmodal_delete_stored_advanced-28" name="__codelineno-fhmodal_delete_stored_advanced-28" href="#__codelineno-fhmodal_delete_stored_advanced-28"></a><span class="c1">--      &lt; Property Name="Usuario" Value="" OldValue="" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored_advanced-29"><a id="__codelineno-fhmodal_delete_stored_advanced-29" name="__codelineno-fhmodal_delete_stored_advanced-29" href="#__codelineno-fhmodal_delete_stored_advanced-29"></a><span class="c1">--      &lt; Property Name="FechaInsertUpdate" Value="14/02/2018 0:00:00" OldValue="14/02/2018 0:00:00" TableName="_Test" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored_advanced-30"><a id="__codelineno-fhmodal_delete_stored_advanced-30" name="__codelineno-fhmodal_delete_stored_advanced-30" href="#__codelineno-fhmodal_delete_stored_advanced-30"></a><span class="c1">--      &lt; Property Name="Config" Value="config3" OldValue="" TableName="_Test_Conf" IsKey="False" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored_advanced-31"><a id="__codelineno-fhmodal_delete_stored_advanced-31" name="__codelineno-fhmodal_delete_stored_advanced-31" href="#__codelineno-fhmodal_delete_stored_advanced-31"></a><span class="c1">--  &lt; /Row&gt; </span>
</span><span id="__span-fhmodal_delete_stored_advanced-32"><a id="__codelineno-fhmodal_delete_stored_advanced-32" name="__codelineno-fhmodal_delete_stored_advanced-32" href="#__codelineno-fhmodal_delete_stored_advanced-32"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_delete_stored_advanced-33"><a id="__codelineno-fhmodal_delete_stored_advanced-33" name="__codelineno-fhmodal_delete_stored_advanced-33" href="#__codelineno-fhmodal_delete_stored_advanced-33"></a><span class="c1">-- ContextVars XML Sample       </span>
</span><span id="__span-fhmodal_delete_stored_advanced-34"><a id="__codelineno-fhmodal_delete_stored_advanced-34" name="__codelineno-fhmodal_delete_stored_advanced-34" href="#__codelineno-fhmodal_delete_stored_advanced-34"></a><span class="c1">--  &lt; Row&gt; </span>
</span><span id="__span-fhmodal_delete_stored_advanced-35"><a id="__codelineno-fhmodal_delete_stored_advanced-35" name="__codelineno-fhmodal_delete_stored_advanced-35" href="#__codelineno-fhmodal_delete_stored_advanced-35"></a><span class="c1">--      &lt; Property Name="reference" Value="0" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored_advanced-36"><a id="__codelineno-fhmodal_delete_stored_advanced-36" name="__codelineno-fhmodal_delete_stored_advanced-36" href="#__codelineno-fhmodal_delete_stored_advanced-36"></a><span class="c1">--      &lt; Property Name="subReference" Value="0" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored_advanced-37"><a id="__codelineno-fhmodal_delete_stored_advanced-37" name="__codelineno-fhmodal_delete_stored_advanced-37" href="#__codelineno-fhmodal_delete_stored_advanced-37"></a><span class="c1">--      &lt; Property Name="currentRole" Value="Admins" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored_advanced-38"><a id="__codelineno-fhmodal_delete_stored_advanced-38" name="__codelineno-fhmodal_delete_stored_advanced-38" href="#__codelineno-fhmodal_delete_stored_advanced-38"></a><span class="c1">--      &lt; Property Name="currentRoleId" Value="admins" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored_advanced-39"><a id="__codelineno-fhmodal_delete_stored_advanced-39" name="__codelineno-fhmodal_delete_stored_advanced-39" href="#__codelineno-fhmodal_delete_stored_advanced-39"></a><span class="c1">--      &lt; Property Name="currentUserLogin" Value="admin" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored_advanced-40"><a id="__codelineno-fhmodal_delete_stored_advanced-40" name="__codelineno-fhmodal_delete_stored_advanced-40" href="#__codelineno-fhmodal_delete_stored_advanced-40"></a><span class="c1">--      &lt; Property Name="currentUserId" Value="1" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored_advanced-41"><a id="__codelineno-fhmodal_delete_stored_advanced-41" name="__codelineno-fhmodal_delete_stored_advanced-41" href="#__codelineno-fhmodal_delete_stored_advanced-41"></a><span class="c1">--      &lt; Property Name="currentUserFullName" Value="admin" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored_advanced-42"><a id="__codelineno-fhmodal_delete_stored_advanced-42" name="__codelineno-fhmodal_delete_stored_advanced-42" href="#__codelineno-fhmodal_delete_stored_advanced-42"></a><span class="c1">--      &lt; Property Name="currentUserCultureId" Value="en-gb" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored_advanced-43"><a id="__codelineno-fhmodal_delete_stored_advanced-43" name="__codelineno-fhmodal_delete_stored_advanced-43" href="#__codelineno-fhmodal_delete_stored_advanced-43"></a><span class="c1">--      &lt; Property Name="currentUserLang" Value="en" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored_advanced-44"><a id="__codelineno-fhmodal_delete_stored_advanced-44" name="__codelineno-fhmodal_delete_stored_advanced-44" href="#__codelineno-fhmodal_delete_stored_advanced-44"></a><span class="c1">--      &lt; Property Name="currentUserEmail" Value="info@ahora.es.com" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored_advanced-45"><a id="__codelineno-fhmodal_delete_stored_advanced-45" name="__codelineno-fhmodal_delete_stored_advanced-45" href="#__codelineno-fhmodal_delete_stored_advanced-45"></a><span class="c1">--  &lt; /Row&gt; </span>
</span><span id="__span-fhmodal_delete_stored_advanced-46"><a id="__codelineno-fhmodal_delete_stored_advanced-46" name="__codelineno-fhmodal_delete_stored_advanced-46" href="#__codelineno-fhmodal_delete_stored_advanced-46"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_delete_stored_advanced-47"><a id="__codelineno-fhmodal_delete_stored_advanced-47" name="__codelineno-fhmodal_delete_stored_advanced-47" href="#__codelineno-fhmodal_delete_stored_advanced-47"></a><span class="c1">-- Return vars XML Sample       </span>
</span><span id="__span-fhmodal_delete_stored_advanced-48"><a id="__codelineno-fhmodal_delete_stored_advanced-48" name="__codelineno-fhmodal_delete_stored_advanced-48" href="#__codelineno-fhmodal_delete_stored_advanced-48"></a><span class="c1">--      &lt; Property Success="False" SuccessMessage="" WarningMessage="" JSCode="" JSFile="" CloseParamWindow="False" refresh="False" /&gt; </span>
</span><span id="__span-fhmodal_delete_stored_advanced-49"><a id="__codelineno-fhmodal_delete_stored_advanced-49" name="__codelineno-fhmodal_delete_stored_advanced-49" href="#__codelineno-fhmodal_delete_stored_advanced-49"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_delete_stored_advanced-50"><a id="__codelineno-fhmodal_delete_stored_advanced-50" name="__codelineno-fhmodal_delete_stored_advanced-50" href="#__codelineno-fhmodal_delete_stored_advanced-50"></a><span class="c1">--#CHANGES</span>
</span><span id="__span-fhmodal_delete_stored_advanced-51"><a id="__codelineno-fhmodal_delete_stored_advanced-51" name="__codelineno-fhmodal_delete_stored_advanced-51" href="#__codelineno-fhmodal_delete_stored_advanced-51"></a><span class="c1">--      13/02/2018- David Miralpeix</span>
</span><span id="__span-fhmodal_delete_stored_advanced-52"><a id="__codelineno-fhmodal_delete_stored_advanced-52" name="__codelineno-fhmodal_delete_stored_advanced-52" href="#__codelineno-fhmodal_delete_stored_advanced-52"></a><span class="c1">----------------------------------------------------------------------------------</span>
</span><span id="__span-fhmodal_delete_stored_advanced-53"><a id="__codelineno-fhmodal_delete_stored_advanced-53" name="__codelineno-fhmodal_delete_stored_advanced-53" href="#__codelineno-fhmodal_delete_stored_advanced-53"></a><span class="k">BEGIN</span><span class="w"> </span><span class="n">TRY</span>
</span><span id="__span-fhmodal_delete_stored_advanced-54"><a id="__codelineno-fhmodal_delete_stored_advanced-54" name="__codelineno-fhmodal_delete_stored_advanced-54" href="#__codelineno-fhmodal_delete_stored_advanced-54"></a>
</span><span id="__span-fhmodal_delete_stored_advanced-55"><a id="__codelineno-fhmodal_delete_stored_advanced-55" name="__codelineno-fhmodal_delete_stored_advanced-55" href="#__codelineno-fhmodal_delete_stored_advanced-55"></a><span class="w">    </span><span class="c1">--Declare field variables to load</span>
</span><span id="__span-fhmodal_delete_stored_advanced-56"><a id="__codelineno-fhmodal_delete_stored_advanced-56" name="__codelineno-fhmodal_delete_stored_advanced-56" href="#__codelineno-fhmodal_delete_stored_advanced-56"></a><span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_stored_advanced-57"><a id="__codelineno-fhmodal_delete_stored_advanced-57" name="__codelineno-fhmodal_delete_stored_advanced-57" href="#__codelineno-fhmodal_delete_stored_advanced-57"></a><span class="w">    </span><span class="o">@</span><span class="n">Descrip</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">2000</span><span class="p">),</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_stored_advanced-58"><a id="__codelineno-fhmodal_delete_stored_advanced-58" name="__codelineno-fhmodal_delete_stored_advanced-58" href="#__codelineno-fhmodal_delete_stored_advanced-58"></a><span class="w">    </span><span class="o">@</span><span class="n">IdDoc</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span>
</span><span id="__span-fhmodal_delete_stored_advanced-59"><a id="__codelineno-fhmodal_delete_stored_advanced-59" name="__codelineno-fhmodal_delete_stored_advanced-59" href="#__codelineno-fhmodal_delete_stored_advanced-59"></a><span class="w">    </span><span class="o">@</span><span class="n">InsertUpdate</span><span class="w"> </span><span class="nb">bit</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_stored_advanced-60"><a id="__codelineno-fhmodal_delete_stored_advanced-60" name="__codelineno-fhmodal_delete_stored_advanced-60" href="#__codelineno-fhmodal_delete_stored_advanced-60"></a><span class="w">    </span><span class="o">@</span><span class="n">Usuario</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
</span><span id="__span-fhmodal_delete_stored_advanced-61"><a id="__codelineno-fhmodal_delete_stored_advanced-61" name="__codelineno-fhmodal_delete_stored_advanced-61" href="#__codelineno-fhmodal_delete_stored_advanced-61"></a><span class="w">    </span><span class="o">@</span><span class="n">FechaInsertUpdate</span><span class="w"> </span><span class="n">datetime</span><span class="w"> </span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_stored_advanced-62"><a id="__codelineno-fhmodal_delete_stored_advanced-62" name="__codelineno-fhmodal_delete_stored_advanced-62" href="#__codelineno-fhmodal_delete_stored_advanced-62"></a><span class="w">    </span><span class="o">@</span><span class="n">Config</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</span><span id="__span-fhmodal_delete_stored_advanced-63"><a id="__codelineno-fhmodal_delete_stored_advanced-63" name="__codelineno-fhmodal_delete_stored_advanced-63" href="#__codelineno-fhmodal_delete_stored_advanced-63"></a>
</span><span id="__span-fhmodal_delete_stored_advanced-64"><a id="__codelineno-fhmodal_delete_stored_advanced-64" name="__codelineno-fhmodal_delete_stored_advanced-64" href="#__codelineno-fhmodal_delete_stored_advanced-64"></a>
</span><span id="__span-fhmodal_delete_stored_advanced-65"><a id="__codelineno-fhmodal_delete_stored_advanced-65" name="__codelineno-fhmodal_delete_stored_advanced-65" href="#__codelineno-fhmodal_delete_stored_advanced-65"></a><span class="w">    </span><span class="cm">/* load XML values into table @TableValues*/</span>
</span><span id="__span-fhmodal_delete_stored_advanced-66"><a id="__codelineno-fhmodal_delete_stored_advanced-66" name="__codelineno-fhmodal_delete_stored_advanced-66" href="#__codelineno-fhmodal_delete_stored_advanced-66"></a><span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">XmlDoc</span><span class="w"> </span><span class="nb">int</span>
</span><span id="__span-fhmodal_delete_stored_advanced-67"><a id="__codelineno-fhmodal_delete_stored_advanced-67" name="__codelineno-fhmodal_delete_stored_advanced-67" href="#__codelineno-fhmodal_delete_stored_advanced-67"></a><span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span><span class="n">Name</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="n">Value</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="k">max</span><span class="p">),</span><span class="n">OldValue</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="n">TableName</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">IsKey</span><span class="w"> </span><span class="nb">Bit</span><span class="w"> </span><span class="p">)</span>
</span><span id="__span-fhmodal_delete_stored_advanced-68"><a id="__codelineno-fhmodal_delete_stored_advanced-68" name="__codelineno-fhmodal_delete_stored_advanced-68" href="#__codelineno-fhmodal_delete_stored_advanced-68"></a><span class="w">    </span><span class="k">EXEC</span><span class="w"> </span><span class="n">sp_xml_preparedocument</span><span class="w"> </span><span class="o">@</span><span class="n">XmlDoc</span><span class="w">    </span><span class="k">OUTPUT</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="k">Values</span><span class="w">  </span>
</span><span id="__span-fhmodal_delete_stored_advanced-69"><a id="__codelineno-fhmodal_delete_stored_advanced-69" name="__codelineno-fhmodal_delete_stored_advanced-69" href="#__codelineno-fhmodal_delete_stored_advanced-69"></a>
</span><span id="__span-fhmodal_delete_stored_advanced-70"><a id="__codelineno-fhmodal_delete_stored_advanced-70" name="__codelineno-fhmodal_delete_stored_advanced-70" href="#__codelineno-fhmodal_delete_stored_advanced-70"></a><span class="w">    </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="p">(</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="n">Value</span><span class="p">,</span><span class="w"> </span><span class="n">OldValue</span><span class="p">,</span><span class="w"> </span><span class="n">TableName</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">IsKey</span><span class="p">)</span>
</span><span id="__span-fhmodal_delete_stored_advanced-71"><a id="__codelineno-fhmodal_delete_stored_advanced-71" name="__codelineno-fhmodal_delete_stored_advanced-71" href="#__codelineno-fhmodal_delete_stored_advanced-71"></a><span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="n">Name</span><span class="p">,</span><span class="n">Value</span><span class="p">,</span><span class="n">OldValue</span><span class="p">,</span><span class="w"> </span><span class="n">TableName</span><span class="p">,</span><span class="w"> </span><span class="n">IsKey</span><span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">OPENXML</span><span class="p">(</span><span class="o">@</span><span class="n">XmlDoc</span><span class="p">,</span><span class="s1">'/Row/Property'</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-fhmodal_delete_stored_advanced-72"><a id="__codelineno-fhmodal_delete_stored_advanced-72" name="__codelineno-fhmodal_delete_stored_advanced-72" href="#__codelineno-fhmodal_delete_stored_advanced-72"></a><span class="w">    </span><span class="k">WITH</span><span class="p">(</span><span class="n">Name</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span><span class="w"> </span><span class="s1">'@Name'</span><span class="p">,</span><span class="n">Value</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="s1">'@Value'</span><span class="p">,</span><span class="n">OldValue</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="s1">'@OldValue'</span><span class="w"> </span><span class="p">,</span><span class="n">TableName</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="s1">'@TableName'</span><span class="p">,</span><span class="w"> </span><span class="n">IsKey</span><span class="w"> </span><span class="nb">Bit</span><span class="w"> </span><span class="s1">'@IsKey'</span><span class="p">)</span>
</span><span id="__span-fhmodal_delete_stored_advanced-73"><a id="__codelineno-fhmodal_delete_stored_advanced-73" name="__codelineno-fhmodal_delete_stored_advanced-73" href="#__codelineno-fhmodal_delete_stored_advanced-73"></a>
</span><span id="__span-fhmodal_delete_stored_advanced-74"><a id="__codelineno-fhmodal_delete_stored_advanced-74" name="__codelineno-fhmodal_delete_stored_advanced-74" href="#__codelineno-fhmodal_delete_stored_advanced-74"></a><span class="w">    </span><span class="k">EXEC</span><span class="w"> </span><span class="n">sp_xml_removedocument</span><span class="w"> </span><span class="o">@</span><span class="n">XmlDoc</span>
</span><span id="__span-fhmodal_delete_stored_advanced-75"><a id="__codelineno-fhmodal_delete_stored_advanced-75" name="__codelineno-fhmodal_delete_stored_advanced-75" href="#__codelineno-fhmodal_delete_stored_advanced-75"></a>
</span><span id="__span-fhmodal_delete_stored_advanced-76"><a id="__codelineno-fhmodal_delete_stored_advanced-76" name="__codelineno-fhmodal_delete_stored_advanced-76" href="#__codelineno-fhmodal_delete_stored_advanced-76"></a><span class="w">    </span><span class="cm">/* load Values into variables */</span>
</span><span id="__span-fhmodal_delete_stored_advanced-77"><a id="__codelineno-fhmodal_delete_stored_advanced-77" name="__codelineno-fhmodal_delete_stored_advanced-77" href="#__codelineno-fhmodal_delete_stored_advanced-77"></a>
</span><span id="__span-fhmodal_delete_stored_advanced-78"><a id="__codelineno-fhmodal_delete_stored_advanced-78" name="__codelineno-fhmodal_delete_stored_advanced-78" href="#__codelineno-fhmodal_delete_stored_advanced-78"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="w"> </span><span class="o">=</span><span class="n">Value</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Name</span><span class="o">=</span><span class="s1">'TestId'</span>
</span><span id="__span-fhmodal_delete_stored_advanced-79"><a id="__codelineno-fhmodal_delete_stored_advanced-79" name="__codelineno-fhmodal_delete_stored_advanced-79" href="#__codelineno-fhmodal_delete_stored_advanced-79"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">DEscrip</span><span class="w"> </span><span class="o">=</span><span class="n">Value</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Name</span><span class="o">=</span><span class="s1">'Descrip'</span>
</span><span id="__span-fhmodal_delete_stored_advanced-80"><a id="__codelineno-fhmodal_delete_stored_advanced-80" name="__codelineno-fhmodal_delete_stored_advanced-80" href="#__codelineno-fhmodal_delete_stored_advanced-80"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">Usuario</span><span class="w">  </span><span class="o">=</span><span class="n">Value</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Name</span><span class="o">=</span><span class="s1">'Usuario'</span>
</span><span id="__span-fhmodal_delete_stored_advanced-81"><a id="__codelineno-fhmodal_delete_stored_advanced-81" name="__codelineno-fhmodal_delete_stored_advanced-81" href="#__codelineno-fhmodal_delete_stored_advanced-81"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">InsertUpdate</span><span class="w"> </span><span class="o">=</span><span class="n">Value</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Name</span><span class="o">=</span><span class="s1">'InsertUpdate'</span>
</span><span id="__span-fhmodal_delete_stored_advanced-82"><a id="__codelineno-fhmodal_delete_stored_advanced-82" name="__codelineno-fhmodal_delete_stored_advanced-82" href="#__codelineno-fhmodal_delete_stored_advanced-82"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">FechaInsertUpdate</span><span class="w"> </span><span class="o">=</span><span class="n">Value</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Name</span><span class="o">=</span><span class="s1">'FechaInsertUpdate'</span>
</span><span id="__span-fhmodal_delete_stored_advanced-83"><a id="__codelineno-fhmodal_delete_stored_advanced-83" name="__codelineno-fhmodal_delete_stored_advanced-83" href="#__codelineno-fhmodal_delete_stored_advanced-83"></a><span class="w">     </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">Config</span><span class="w"> </span><span class="o">=</span><span class="n">Value</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="n">TableValues</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Name</span><span class="o">=</span><span class="s1">'Config'</span>
</span><span id="__span-fhmodal_delete_stored_advanced-84"><a id="__codelineno-fhmodal_delete_stored_advanced-84" name="__codelineno-fhmodal_delete_stored_advanced-84" href="#__codelineno-fhmodal_delete_stored_advanced-84"></a>
</span><span id="__span-fhmodal_delete_stored_advanced-85"><a id="__codelineno-fhmodal_delete_stored_advanced-85" name="__codelineno-fhmodal_delete_stored_advanced-85" href="#__codelineno-fhmodal_delete_stored_advanced-85"></a>
</span><span id="__span-fhmodal_delete_stored_advanced-86"><a id="__codelineno-fhmodal_delete_stored_advanced-86" name="__codelineno-fhmodal_delete_stored_advanced-86" href="#__codelineno-fhmodal_delete_stored_advanced-86"></a><span class="w">    </span><span class="cm">/* perform process (delete fields into different tables) */</span>
</span><span id="__span-fhmodal_delete_stored_advanced-87"><a id="__codelineno-fhmodal_delete_stored_advanced-87" name="__codelineno-fhmodal_delete_stored_advanced-87" href="#__codelineno-fhmodal_delete_stored_advanced-87"></a><span class="w">     </span><span class="k">Delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">_Test</span><span class="w">  </span><span class="k">where</span><span class="w"> </span><span class="n">TestId</span><span class="o">=@</span><span class="n">TestId</span>
</span><span id="__span-fhmodal_delete_stored_advanced-88"><a id="__codelineno-fhmodal_delete_stored_advanced-88" name="__codelineno-fhmodal_delete_stored_advanced-88" href="#__codelineno-fhmodal_delete_stored_advanced-88"></a><span class="w">     </span><span class="k">Delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">_Test_Conf</span><span class="w">  </span><span class="k">where</span><span class="w"> </span><span class="n">TestId</span><span class="o">=@</span><span class="n">TestId</span>
</span><span id="__span-fhmodal_delete_stored_advanced-89"><a id="__codelineno-fhmodal_delete_stored_advanced-89" name="__codelineno-fhmodal_delete_stored_advanced-89" href="#__codelineno-fhmodal_delete_stored_advanced-89"></a><span class="w">    </span><span class="cm">/* Process return values*/</span>
</span><span id="__span-fhmodal_delete_stored_advanced-90"><a id="__codelineno-fhmodal_delete_stored_advanced-90" name="__codelineno-fhmodal_delete_stored_advanced-90" href="#__codelineno-fhmodal_delete_stored_advanced-90"></a><span class="w">        </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="p">.</span><span class="k">modify</span><span class="p">(</span><span class="s1">'replace value of (/Property/@Success)[1] with 1'</span><span class="p">)</span>
</span><span id="__span-fhmodal_delete_stored_advanced-91"><a id="__codelineno-fhmodal_delete_stored_advanced-91" name="__codelineno-fhmodal_delete_stored_advanced-91" href="#__codelineno-fhmodal_delete_stored_advanced-91"></a><span class="w">        </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="p">.</span><span class="k">modify</span><span class="p">(</span><span class="s1">'replace value of (/Property/@SuccessMessage)[1] with "All went fine"'</span><span class="p">)</span><span class="w">    </span>
</span><span id="__span-fhmodal_delete_stored_advanced-92"><a id="__codelineno-fhmodal_delete_stored_advanced-92" name="__codelineno-fhmodal_delete_stored_advanced-92" href="#__codelineno-fhmodal_delete_stored_advanced-92"></a><span class="w">        </span><span class="cm">/* Return 0 if error */</span>
</span><span id="__span-fhmodal_delete_stored_advanced-93"><a id="__codelineno-fhmodal_delete_stored_advanced-93" name="__codelineno-fhmodal_delete_stored_advanced-93" href="#__codelineno-fhmodal_delete_stored_advanced-93"></a><span class="w">        </span><span class="k">RETURN</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-fhmodal_delete_stored_advanced-94"><a id="__codelineno-fhmodal_delete_stored_advanced-94" name="__codelineno-fhmodal_delete_stored_advanced-94" href="#__codelineno-fhmodal_delete_stored_advanced-94"></a><span class="k">END</span><span class="w"> </span><span class="n">TRY</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_stored_advanced-95"><a id="__codelineno-fhmodal_delete_stored_advanced-95" name="__codelineno-fhmodal_delete_stored_advanced-95" href="#__codelineno-fhmodal_delete_stored_advanced-95"></a>
</span><span id="__span-fhmodal_delete_stored_advanced-96"><a id="__codelineno-fhmodal_delete_stored_advanced-96" name="__codelineno-fhmodal_delete_stored_advanced-96" href="#__codelineno-fhmodal_delete_stored_advanced-96"></a><span class="k">BEGIN</span><span class="w"> </span><span class="n">CATCH</span>
</span><span id="__span-fhmodal_delete_stored_advanced-97"><a id="__codelineno-fhmodal_delete_stored_advanced-97" name="__codelineno-fhmodal_delete_stored_advanced-97" href="#__codelineno-fhmodal_delete_stored_advanced-97"></a><span class="w">    </span><span class="k">IF</span><span class="w"> </span><span class="o">@@</span><span class="n">TRANCOUNT</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">BEGIN</span>
</span><span id="__span-fhmodal_delete_stored_advanced-98"><a id="__codelineno-fhmodal_delete_stored_advanced-98" name="__codelineno-fhmodal_delete_stored_advanced-98" href="#__codelineno-fhmodal_delete_stored_advanced-98"></a><span class="w">        </span><span class="k">ROLLBACK</span><span class="w"> </span><span class="n">TRAN</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_stored_advanced-99"><a id="__codelineno-fhmodal_delete_stored_advanced-99" name="__codelineno-fhmodal_delete_stored_advanced-99" href="#__codelineno-fhmodal_delete_stored_advanced-99"></a><span class="w">    </span><span class="k">END</span>
</span><span id="__span-fhmodal_delete_stored_advanced-100"><a id="__codelineno-fhmodal_delete_stored_advanced-100" name="__codelineno-fhmodal_delete_stored_advanced-100" href="#__codelineno-fhmodal_delete_stored_advanced-100"></a>
</span><span id="__span-fhmodal_delete_stored_advanced-101"><a id="__codelineno-fhmodal_delete_stored_advanced-101" name="__codelineno-fhmodal_delete_stored_advanced-101" href="#__codelineno-fhmodal_delete_stored_advanced-101"></a><span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">CatchError</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span>
</span><span id="__span-fhmodal_delete_stored_advanced-102"><a id="__codelineno-fhmodal_delete_stored_advanced-102" name="__codelineno-fhmodal_delete_stored_advanced-102" href="#__codelineno-fhmodal_delete_stored_advanced-102"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">CatchError</span><span class="o">=</span><span class="n">dbo</span><span class="p">.</span><span class="n">funprintError</span><span class="p">(</span><span class="n">ERROR_MESSAGE</span><span class="p">(),</span><span class="n">ERROR_NUMBER</span><span class="p">(),</span><span class="n">ERROR_PROCEDURE</span><span class="p">(),</span><span class="o">@@</span><span class="n">PROCID</span><span class="w"> </span><span class="p">,</span><span class="n">ERROR_LINE</span><span class="p">())</span>
</span><span id="__span-fhmodal_delete_stored_advanced-103"><a id="__codelineno-fhmodal_delete_stored_advanced-103" name="__codelineno-fhmodal_delete_stored_advanced-103" href="#__codelineno-fhmodal_delete_stored_advanced-103"></a><span class="w">    </span><span class="n">RAISERROR</span><span class="p">(</span><span class="o">@</span><span class="n">CatchError</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-fhmodal_delete_stored_advanced-104"><a id="__codelineno-fhmodal_delete_stored_advanced-104" name="__codelineno-fhmodal_delete_stored_advanced-104" href="#__codelineno-fhmodal_delete_stored_advanced-104"></a>
</span><span id="__span-fhmodal_delete_stored_advanced-105"><a id="__codelineno-fhmodal_delete_stored_advanced-105" name="__codelineno-fhmodal_delete_stored_advanced-105" href="#__codelineno-fhmodal_delete_stored_advanced-105"></a>
</span><span id="__span-fhmodal_delete_stored_advanced-106"><a id="__codelineno-fhmodal_delete_stored_advanced-106" name="__codelineno-fhmodal_delete_stored_advanced-106" href="#__codelineno-fhmodal_delete_stored_advanced-106"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="p">.</span><span class="k">modify</span><span class="p">(</span><span class="s1">'replace value of (/Property/@Success)[1] with 0'</span><span class="p">)</span>
</span><span id="__span-fhmodal_delete_stored_advanced-107"><a id="__codelineno-fhmodal_delete_stored_advanced-107" name="__codelineno-fhmodal_delete_stored_advanced-107" href="#__codelineno-fhmodal_delete_stored_advanced-107"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="p">.</span><span class="k">modify</span><span class="p">(</span><span class="s1">'replace value of (/Property/@SuccessMessage)[1] with "something went wrong"'</span><span class="p">)</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_stored_advanced-108"><a id="__codelineno-fhmodal_delete_stored_advanced-108" name="__codelineno-fhmodal_delete_stored_advanced-108" href="#__codelineno-fhmodal_delete_stored_advanced-108"></a>
</span><span id="__span-fhmodal_delete_stored_advanced-109"><a id="__codelineno-fhmodal_delete_stored_advanced-109" name="__codelineno-fhmodal_delete_stored_advanced-109" href="#__codelineno-fhmodal_delete_stored_advanced-109"></a><span class="w">    </span><span class="k">RETURN</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-fhmodal_delete_stored_advanced-110"><a id="__codelineno-fhmodal_delete_stored_advanced-110" name="__codelineno-fhmodal_delete_stored_advanced-110" href="#__codelineno-fhmodal_delete_stored_advanced-110"></a>
</span><span id="__span-fhmodal_delete_stored_advanced-111"><a id="__codelineno-fhmodal_delete_stored_advanced-111" name="__codelineno-fhmodal_delete_stored_advanced-111" href="#__codelineno-fhmodal_delete_stored_advanced-111"></a><span class="k">END</span><span class="w"> </span><span class="n">CATCH</span>
</span></code></pre></div>
<div id="fhmodal_insert_stored_ahora" class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-fhmodal_insert_stored_ahora-1"><a id="__codelineno-fhmodal_insert_stored_ahora-1" name="__codelineno-fhmodal_insert_stored_ahora-1" href="#__codelineno-fhmodal_insert_stored_ahora-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">PROCEDURE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">P_TestInsert_Stored</span><span class="p">]</span><span class="w">  </span>
</span><span id="__span-fhmodal_insert_stored_ahora-2"><a id="__codelineno-fhmodal_insert_stored_ahora-2" name="__codelineno-fhmodal_insert_stored_ahora-2" href="#__codelineno-fhmodal_insert_stored_ahora-2"></a><span class="w">    </span><span class="o">@</span><span class="k">Values</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="k">OUTPUT</span><span class="p">,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-3"><a id="__codelineno-fhmodal_insert_stored_ahora-3" name="__codelineno-fhmodal_insert_stored_ahora-3" href="#__codelineno-fhmodal_insert_stored_ahora-3"></a><span class="w">    </span><span class="o">@</span><span class="n">RetValues</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="k">OUTPUT</span><span class="w">   </span>
</span><span id="__span-fhmodal_insert_stored_ahora-4"><a id="__codelineno-fhmodal_insert_stored_ahora-4" name="__codelineno-fhmodal_insert_stored_ahora-4" href="#__codelineno-fhmodal_insert_stored_ahora-4"></a><span class="w">    </span><span class="k">AS</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_stored_ahora-5"><a id="__codelineno-fhmodal_insert_stored_ahora-5" name="__codelineno-fhmodal_insert_stored_ahora-5" href="#__codelineno-fhmodal_insert_stored_ahora-5"></a><span class="w">    </span><span class="c1">----------------------------------------------------------------------------------</span>
</span><span id="__span-fhmodal_insert_stored_ahora-6"><a id="__codelineno-fhmodal_insert_stored_ahora-6" name="__codelineno-fhmodal_insert_stored_ahora-6" href="#__codelineno-fhmodal_insert_stored_ahora-6"></a><span class="c1">--#NAME</span>
</span><span id="__span-fhmodal_insert_stored_ahora-7"><a id="__codelineno-fhmodal_insert_stored_ahora-7" name="__codelineno-fhmodal_insert_stored_ahora-7" href="#__codelineno-fhmodal_insert_stored_ahora-7"></a><span class="c1">--      P_TestInsert_Stored</span>
</span><span id="__span-fhmodal_insert_stored_ahora-8"><a id="__codelineno-fhmodal_insert_stored_ahora-8" name="__codelineno-fhmodal_insert_stored_ahora-8" href="#__codelineno-fhmodal_insert_stored_ahora-8"></a><span class="c1">--#PARAMETERS</span>
</span><span id="__span-fhmodal_insert_stored_ahora-9"><a id="__codelineno-fhmodal_insert_stored_ahora-9" name="__codelineno-fhmodal_insert_stored_ahora-9" href="#__codelineno-fhmodal_insert_stored_ahora-9"></a><span class="c1">--      @Values OUTPUT (Required) : Object properties values,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-10"><a id="__codelineno-fhmodal_insert_stored_ahora-10" name="__codelineno-fhmodal_insert_stored_ahora-10" href="#__codelineno-fhmodal_insert_stored_ahora-10"></a><span class="c1">--      @OldValues (Optional) : Old object properties values,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-11"><a id="__codelineno-fhmodal_insert_stored_ahora-11" name="__codelineno-fhmodal_insert_stored_ahora-11" href="#__codelineno-fhmodal_insert_stored_ahora-11"></a><span class="c1">--      @Schema (Optional) : Schema object properties,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-12"><a id="__codelineno-fhmodal_insert_stored_ahora-12" name="__codelineno-fhmodal_insert_stored_ahora-12" href="#__codelineno-fhmodal_insert_stored_ahora-12"></a><span class="c1">--      @ContextVars (Optional): Flexygo context variables,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-13"><a id="__codelineno-fhmodal_insert_stored_ahora-13" name="__codelineno-fhmodal_insert_stored_ahora-13" href="#__codelineno-fhmodal_insert_stored_ahora-13"></a><span class="c1">--      @RetValues OUTPUT (Required) : Flexygo process Helper</span>
</span><span id="__span-fhmodal_insert_stored_ahora-14"><a id="__codelineno-fhmodal_insert_stored_ahora-14" name="__codelineno-fhmodal_insert_stored_ahora-14" href="#__codelineno-fhmodal_insert_stored_ahora-14"></a><span class="c1">--#OBSERVATIONS</span>
</span><span id="__span-fhmodal_insert_stored_ahora-15"><a id="__codelineno-fhmodal_insert_stored_ahora-15" name="__codelineno-fhmodal_insert_stored_ahora-15" href="#__codelineno-fhmodal_insert_stored_ahora-15"></a><span class="c1">-- Values JSON Sample</span>
</span><span id="__span-fhmodal_insert_stored_ahora-16"><a id="__codelineno-fhmodal_insert_stored_ahora-16" name="__codelineno-fhmodal_insert_stored_ahora-16" href="#__codelineno-fhmodal_insert_stored_ahora-16"></a><span class="c1">--   {</span>
</span><span id="__span-fhmodal_insert_stored_ahora-17"><a id="__codelineno-fhmodal_insert_stored_ahora-17" name="__codelineno-fhmodal_insert_stored_ahora-17" href="#__codelineno-fhmodal_insert_stored_ahora-17"></a><span class="c1">--    "TestId": 1,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-18"><a id="__codelineno-fhmodal_insert_stored_ahora-18" name="__codelineno-fhmodal_insert_stored_ahora-18" href="#__codelineno-fhmodal_insert_stored_ahora-18"></a><span class="c1">--    "Descrip": "Test",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-19"><a id="__codelineno-fhmodal_insert_stored_ahora-19" name="__codelineno-fhmodal_insert_stored_ahora-19" href="#__codelineno-fhmodal_insert_stored_ahora-19"></a><span class="c1">--    "IdDoc": null,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-20"><a id="__codelineno-fhmodal_insert_stored_ahora-20" name="__codelineno-fhmodal_insert_stored_ahora-20" href="#__codelineno-fhmodal_insert_stored_ahora-20"></a><span class="c1">--    "InsertUpdate": null,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-21"><a id="__codelineno-fhmodal_insert_stored_ahora-21" name="__codelineno-fhmodal_insert_stored_ahora-21" href="#__codelineno-fhmodal_insert_stored_ahora-21"></a><span class="c1">--    "User": "admin",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-22"><a id="__codelineno-fhmodal_insert_stored_ahora-22" name="__codelineno-fhmodal_insert_stored_ahora-22" href="#__codelineno-fhmodal_insert_stored_ahora-22"></a><span class="c1">--    "InsertUpdateDate": "2025-04-23T16:23:00",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-23"><a id="__codelineno-fhmodal_insert_stored_ahora-23" name="__codelineno-fhmodal_insert_stored_ahora-23" href="#__codelineno-fhmodal_insert_stored_ahora-23"></a><span class="c1">--    "Config": "TestConfig"</span>
</span><span id="__span-fhmodal_insert_stored_ahora-24"><a id="__codelineno-fhmodal_insert_stored_ahora-24" name="__codelineno-fhmodal_insert_stored_ahora-24" href="#__codelineno-fhmodal_insert_stored_ahora-24"></a><span class="c1">--   }</span>
</span><span id="__span-fhmodal_insert_stored_ahora-25"><a id="__codelineno-fhmodal_insert_stored_ahora-25" name="__codelineno-fhmodal_insert_stored_ahora-25" href="#__codelineno-fhmodal_insert_stored_ahora-25"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_insert_stored_ahora-26"><a id="__codelineno-fhmodal_insert_stored_ahora-26" name="__codelineno-fhmodal_insert_stored_ahora-26" href="#__codelineno-fhmodal_insert_stored_ahora-26"></a><span class="c1">-- Old Values JSON Sample</span>
</span><span id="__span-fhmodal_insert_stored_ahora-27"><a id="__codelineno-fhmodal_insert_stored_ahora-27" name="__codelineno-fhmodal_insert_stored_ahora-27" href="#__codelineno-fhmodal_insert_stored_ahora-27"></a><span class="c1">--   {</span>
</span><span id="__span-fhmodal_insert_stored_ahora-28"><a id="__codelineno-fhmodal_insert_stored_ahora-28" name="__codelineno-fhmodal_insert_stored_ahora-28" href="#__codelineno-fhmodal_insert_stored_ahora-28"></a><span class="c1">--    "TestId": 1,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-29"><a id="__codelineno-fhmodal_insert_stored_ahora-29" name="__codelineno-fhmodal_insert_stored_ahora-29" href="#__codelineno-fhmodal_insert_stored_ahora-29"></a><span class="c1">--    "Descrip": "Test",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-30"><a id="__codelineno-fhmodal_insert_stored_ahora-30" name="__codelineno-fhmodal_insert_stored_ahora-30" href="#__codelineno-fhmodal_insert_stored_ahora-30"></a><span class="c1">--    "IdDoc": null,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-31"><a id="__codelineno-fhmodal_insert_stored_ahora-31" name="__codelineno-fhmodal_insert_stored_ahora-31" href="#__codelineno-fhmodal_insert_stored_ahora-31"></a><span class="c1">--    "InsertUpdate": null,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-32"><a id="__codelineno-fhmodal_insert_stored_ahora-32" name="__codelineno-fhmodal_insert_stored_ahora-32" href="#__codelineno-fhmodal_insert_stored_ahora-32"></a><span class="c1">--    "User": "admin",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-33"><a id="__codelineno-fhmodal_insert_stored_ahora-33" name="__codelineno-fhmodal_insert_stored_ahora-33" href="#__codelineno-fhmodal_insert_stored_ahora-33"></a><span class="c1">--    "InsertUpdateDate": "2025-04-23T16:23:00",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-34"><a id="__codelineno-fhmodal_insert_stored_ahora-34" name="__codelineno-fhmodal_insert_stored_ahora-34" href="#__codelineno-fhmodal_insert_stored_ahora-34"></a><span class="c1">--    "Config": null</span>
</span><span id="__span-fhmodal_insert_stored_ahora-35"><a id="__codelineno-fhmodal_insert_stored_ahora-35" name="__codelineno-fhmodal_insert_stored_ahora-35" href="#__codelineno-fhmodal_insert_stored_ahora-35"></a><span class="c1">--   }</span>
</span><span id="__span-fhmodal_insert_stored_ahora-36"><a id="__codelineno-fhmodal_insert_stored_ahora-36" name="__codelineno-fhmodal_insert_stored_ahora-36" href="#__codelineno-fhmodal_insert_stored_ahora-36"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_insert_stored_ahora-37"><a id="__codelineno-fhmodal_insert_stored_ahora-37" name="__codelineno-fhmodal_insert_stored_ahora-37" href="#__codelineno-fhmodal_insert_stored_ahora-37"></a><span class="c1">-- Schema JSON Sample</span>
</span><span id="__span-fhmodal_insert_stored_ahora-38"><a id="__codelineno-fhmodal_insert_stored_ahora-38" name="__codelineno-fhmodal_insert_stored_ahora-38" href="#__codelineno-fhmodal_insert_stored_ahora-38"></a><span class="c1">--   {</span>
</span><span id="__span-fhmodal_insert_stored_ahora-39"><a id="__codelineno-fhmodal_insert_stored_ahora-39" name="__codelineno-fhmodal_insert_stored_ahora-39" href="#__codelineno-fhmodal_insert_stored_ahora-39"></a><span class="c1">--    "RowId": "714a1a4b-b2ce-4f4b-8f5c-a7acc274da85",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-40"><a id="__codelineno-fhmodal_insert_stored_ahora-40" name="__codelineno-fhmodal_insert_stored_ahora-40" href="#__codelineno-fhmodal_insert_stored_ahora-40"></a><span class="c1">--    "ObjectName": "Test",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-41"><a id="__codelineno-fhmodal_insert_stored_ahora-41" name="__codelineno-fhmodal_insert_stored_ahora-41" href="#__codelineno-fhmodal_insert_stored_ahora-41"></a><span class="c1">--    "Schema": {</span>
</span><span id="__span-fhmodal_insert_stored_ahora-42"><a id="__codelineno-fhmodal_insert_stored_ahora-42" name="__codelineno-fhmodal_insert_stored_ahora-42" href="#__codelineno-fhmodal_insert_stored_ahora-42"></a><span class="c1">--        "TestId": {</span>
</span><span id="__span-fhmodal_insert_stored_ahora-43"><a id="__codelineno-fhmodal_insert_stored_ahora-43" name="__codelineno-fhmodal_insert_stored_ahora-43" href="#__codelineno-fhmodal_insert_stored_ahora-43"></a><span class="c1">--            "Name": "TestId",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-44"><a id="__codelineno-fhmodal_insert_stored_ahora-44" name="__codelineno-fhmodal_insert_stored_ahora-44" href="#__codelineno-fhmodal_insert_stored_ahora-44"></a><span class="c1">--            "Value": 1,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-45"><a id="__codelineno-fhmodal_insert_stored_ahora-45" name="__codelineno-fhmodal_insert_stored_ahora-45" href="#__codelineno-fhmodal_insert_stored_ahora-45"></a><span class="c1">--            "OldValue": null,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-46"><a id="__codelineno-fhmodal_insert_stored_ahora-46" name="__codelineno-fhmodal_insert_stored_ahora-46" href="#__codelineno-fhmodal_insert_stored_ahora-46"></a><span class="c1">--            "TableName": "Test",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-47"><a id="__codelineno-fhmodal_insert_stored_ahora-47" name="__codelineno-fhmodal_insert_stored_ahora-47" href="#__codelineno-fhmodal_insert_stored_ahora-47"></a><span class="c1">--            "IsKey": true</span>
</span><span id="__span-fhmodal_insert_stored_ahora-48"><a id="__codelineno-fhmodal_insert_stored_ahora-48" name="__codelineno-fhmodal_insert_stored_ahora-48" href="#__codelineno-fhmodal_insert_stored_ahora-48"></a><span class="c1">--        },</span>
</span><span id="__span-fhmodal_insert_stored_ahora-49"><a id="__codelineno-fhmodal_insert_stored_ahora-49" name="__codelineno-fhmodal_insert_stored_ahora-49" href="#__codelineno-fhmodal_insert_stored_ahora-49"></a><span class="c1">--        "Descrip": {</span>
</span><span id="__span-fhmodal_insert_stored_ahora-50"><a id="__codelineno-fhmodal_insert_stored_ahora-50" name="__codelineno-fhmodal_insert_stored_ahora-50" href="#__codelineno-fhmodal_insert_stored_ahora-50"></a><span class="c1">--            "Name": "Descrip",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-51"><a id="__codelineno-fhmodal_insert_stored_ahora-51" name="__codelineno-fhmodal_insert_stored_ahora-51" href="#__codelineno-fhmodal_insert_stored_ahora-51"></a><span class="c1">--            "Value": "Test",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-52"><a id="__codelineno-fhmodal_insert_stored_ahora-52" name="__codelineno-fhmodal_insert_stored_ahora-52" href="#__codelineno-fhmodal_insert_stored_ahora-52"></a><span class="c1">--            "OldValue": null,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-53"><a id="__codelineno-fhmodal_insert_stored_ahora-53" name="__codelineno-fhmodal_insert_stored_ahora-53" href="#__codelineno-fhmodal_insert_stored_ahora-53"></a><span class="c1">--            "TableName": "Test",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-54"><a id="__codelineno-fhmodal_insert_stored_ahora-54" name="__codelineno-fhmodal_insert_stored_ahora-54" href="#__codelineno-fhmodal_insert_stored_ahora-54"></a><span class="c1">--            "IsKey": false</span>
</span><span id="__span-fhmodal_insert_stored_ahora-55"><a id="__codelineno-fhmodal_insert_stored_ahora-55" name="__codelineno-fhmodal_insert_stored_ahora-55" href="#__codelineno-fhmodal_insert_stored_ahora-55"></a><span class="c1">--        },</span>
</span><span id="__span-fhmodal_insert_stored_ahora-56"><a id="__codelineno-fhmodal_insert_stored_ahora-56" name="__codelineno-fhmodal_insert_stored_ahora-56" href="#__codelineno-fhmodal_insert_stored_ahora-56"></a><span class="c1">--        "IdDoc": {</span>
</span><span id="__span-fhmodal_insert_stored_ahora-57"><a id="__codelineno-fhmodal_insert_stored_ahora-57" name="__codelineno-fhmodal_insert_stored_ahora-57" href="#__codelineno-fhmodal_insert_stored_ahora-57"></a><span class="c1">--            "Name": "IdDoc",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-58"><a id="__codelineno-fhmodal_insert_stored_ahora-58" name="__codelineno-fhmodal_insert_stored_ahora-58" href="#__codelineno-fhmodal_insert_stored_ahora-58"></a><span class="c1">--            "Value": null,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-59"><a id="__codelineno-fhmodal_insert_stored_ahora-59" name="__codelineno-fhmodal_insert_stored_ahora-59" href="#__codelineno-fhmodal_insert_stored_ahora-59"></a><span class="c1">--            "OldValue": null,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-60"><a id="__codelineno-fhmodal_insert_stored_ahora-60" name="__codelineno-fhmodal_insert_stored_ahora-60" href="#__codelineno-fhmodal_insert_stored_ahora-60"></a><span class="c1">--            "TableName": "Test",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-61"><a id="__codelineno-fhmodal_insert_stored_ahora-61" name="__codelineno-fhmodal_insert_stored_ahora-61" href="#__codelineno-fhmodal_insert_stored_ahora-61"></a><span class="c1">--            "IsKey": false</span>
</span><span id="__span-fhmodal_insert_stored_ahora-62"><a id="__codelineno-fhmodal_insert_stored_ahora-62" name="__codelineno-fhmodal_insert_stored_ahora-62" href="#__codelineno-fhmodal_insert_stored_ahora-62"></a><span class="c1">--        },</span>
</span><span id="__span-fhmodal_insert_stored_ahora-63"><a id="__codelineno-fhmodal_insert_stored_ahora-63" name="__codelineno-fhmodal_insert_stored_ahora-63" href="#__codelineno-fhmodal_insert_stored_ahora-63"></a><span class="c1">--        "InsertUpdate": {</span>
</span><span id="__span-fhmodal_insert_stored_ahora-64"><a id="__codelineno-fhmodal_insert_stored_ahora-64" name="__codelineno-fhmodal_insert_stored_ahora-64" href="#__codelineno-fhmodal_insert_stored_ahora-64"></a><span class="c1">--            "Name": "InsertUpdate",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-65"><a id="__codelineno-fhmodal_insert_stored_ahora-65" name="__codelineno-fhmodal_insert_stored_ahora-65" href="#__codelineno-fhmodal_insert_stored_ahora-65"></a><span class="c1">--            "Value": null,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-66"><a id="__codelineno-fhmodal_insert_stored_ahora-66" name="__codelineno-fhmodal_insert_stored_ahora-66" href="#__codelineno-fhmodal_insert_stored_ahora-66"></a><span class="c1">--            "OldValue": null,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-67"><a id="__codelineno-fhmodal_insert_stored_ahora-67" name="__codelineno-fhmodal_insert_stored_ahora-67" href="#__codelineno-fhmodal_insert_stored_ahora-67"></a><span class="c1">--            "TableName": "Test",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-68"><a id="__codelineno-fhmodal_insert_stored_ahora-68" name="__codelineno-fhmodal_insert_stored_ahora-68" href="#__codelineno-fhmodal_insert_stored_ahora-68"></a><span class="c1">--            "IsKey": false</span>
</span><span id="__span-fhmodal_insert_stored_ahora-69"><a id="__codelineno-fhmodal_insert_stored_ahora-69" name="__codelineno-fhmodal_insert_stored_ahora-69" href="#__codelineno-fhmodal_insert_stored_ahora-69"></a><span class="c1">--        },</span>
</span><span id="__span-fhmodal_insert_stored_ahora-70"><a id="__codelineno-fhmodal_insert_stored_ahora-70" name="__codelineno-fhmodal_insert_stored_ahora-70" href="#__codelineno-fhmodal_insert_stored_ahora-70"></a><span class="c1">--        "User": {</span>
</span><span id="__span-fhmodal_insert_stored_ahora-71"><a id="__codelineno-fhmodal_insert_stored_ahora-71" name="__codelineno-fhmodal_insert_stored_ahora-71" href="#__codelineno-fhmodal_insert_stored_ahora-71"></a><span class="c1">--            "Name": "User",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-72"><a id="__codelineno-fhmodal_insert_stored_ahora-72" name="__codelineno-fhmodal_insert_stored_ahora-72" href="#__codelineno-fhmodal_insert_stored_ahora-72"></a><span class="c1">--            "Value": "admin",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-73"><a id="__codelineno-fhmodal_insert_stored_ahora-73" name="__codelineno-fhmodal_insert_stored_ahora-73" href="#__codelineno-fhmodal_insert_stored_ahora-73"></a><span class="c1">--            "OldValue": null,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-74"><a id="__codelineno-fhmodal_insert_stored_ahora-74" name="__codelineno-fhmodal_insert_stored_ahora-74" href="#__codelineno-fhmodal_insert_stored_ahora-74"></a><span class="c1">--            "TableName": "Test",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-75"><a id="__codelineno-fhmodal_insert_stored_ahora-75" name="__codelineno-fhmodal_insert_stored_ahora-75" href="#__codelineno-fhmodal_insert_stored_ahora-75"></a><span class="c1">--            "IsKey": false</span>
</span><span id="__span-fhmodal_insert_stored_ahora-76"><a id="__codelineno-fhmodal_insert_stored_ahora-76" name="__codelineno-fhmodal_insert_stored_ahora-76" href="#__codelineno-fhmodal_insert_stored_ahora-76"></a><span class="c1">--        },</span>
</span><span id="__span-fhmodal_insert_stored_ahora-77"><a id="__codelineno-fhmodal_insert_stored_ahora-77" name="__codelineno-fhmodal_insert_stored_ahora-77" href="#__codelineno-fhmodal_insert_stored_ahora-77"></a><span class="c1">--        "InsertUpdateDate": {</span>
</span><span id="__span-fhmodal_insert_stored_ahora-78"><a id="__codelineno-fhmodal_insert_stored_ahora-78" name="__codelineno-fhmodal_insert_stored_ahora-78" href="#__codelineno-fhmodal_insert_stored_ahora-78"></a><span class="c1">--            "Name": "InsertUpdateDate",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-79"><a id="__codelineno-fhmodal_insert_stored_ahora-79" name="__codelineno-fhmodal_insert_stored_ahora-79" href="#__codelineno-fhmodal_insert_stored_ahora-79"></a><span class="c1">--            "Value": "2025-04-23T16:23:00",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-80"><a id="__codelineno-fhmodal_insert_stored_ahora-80" name="__codelineno-fhmodal_insert_stored_ahora-80" href="#__codelineno-fhmodal_insert_stored_ahora-80"></a><span class="c1">--            "OldValue": null,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-81"><a id="__codelineno-fhmodal_insert_stored_ahora-81" name="__codelineno-fhmodal_insert_stored_ahora-81" href="#__codelineno-fhmodal_insert_stored_ahora-81"></a><span class="c1">--            "TableName": "Test",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-82"><a id="__codelineno-fhmodal_insert_stored_ahora-82" name="__codelineno-fhmodal_insert_stored_ahora-82" href="#__codelineno-fhmodal_insert_stored_ahora-82"></a><span class="c1">--            "IsKey": false</span>
</span><span id="__span-fhmodal_insert_stored_ahora-83"><a id="__codelineno-fhmodal_insert_stored_ahora-83" name="__codelineno-fhmodal_insert_stored_ahora-83" href="#__codelineno-fhmodal_insert_stored_ahora-83"></a><span class="c1">--        },</span>
</span><span id="__span-fhmodal_insert_stored_ahora-84"><a id="__codelineno-fhmodal_insert_stored_ahora-84" name="__codelineno-fhmodal_insert_stored_ahora-84" href="#__codelineno-fhmodal_insert_stored_ahora-84"></a><span class="c1">--        "Config": {</span>
</span><span id="__span-fhmodal_insert_stored_ahora-85"><a id="__codelineno-fhmodal_insert_stored_ahora-85" name="__codelineno-fhmodal_insert_stored_ahora-85" href="#__codelineno-fhmodal_insert_stored_ahora-85"></a><span class="c1">--            "Name": "Config",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-86"><a id="__codelineno-fhmodal_insert_stored_ahora-86" name="__codelineno-fhmodal_insert_stored_ahora-86" href="#__codelineno-fhmodal_insert_stored_ahora-86"></a><span class="c1">--            "Value": "TestConfig",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-87"><a id="__codelineno-fhmodal_insert_stored_ahora-87" name="__codelineno-fhmodal_insert_stored_ahora-87" href="#__codelineno-fhmodal_insert_stored_ahora-87"></a><span class="c1">--            "OldValue": null,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-88"><a id="__codelineno-fhmodal_insert_stored_ahora-88" name="__codelineno-fhmodal_insert_stored_ahora-88" href="#__codelineno-fhmodal_insert_stored_ahora-88"></a><span class="c1">--            "TableName": "Test_Conf",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-89"><a id="__codelineno-fhmodal_insert_stored_ahora-89" name="__codelineno-fhmodal_insert_stored_ahora-89" href="#__codelineno-fhmodal_insert_stored_ahora-89"></a><span class="c1">--            "IsKey": false</span>
</span><span id="__span-fhmodal_insert_stored_ahora-90"><a id="__codelineno-fhmodal_insert_stored_ahora-90" name="__codelineno-fhmodal_insert_stored_ahora-90" href="#__codelineno-fhmodal_insert_stored_ahora-90"></a><span class="c1">--        }</span>
</span><span id="__span-fhmodal_insert_stored_ahora-91"><a id="__codelineno-fhmodal_insert_stored_ahora-91" name="__codelineno-fhmodal_insert_stored_ahora-91" href="#__codelineno-fhmodal_insert_stored_ahora-91"></a><span class="c1">--      }</span>
</span><span id="__span-fhmodal_insert_stored_ahora-92"><a id="__codelineno-fhmodal_insert_stored_ahora-92" name="__codelineno-fhmodal_insert_stored_ahora-92" href="#__codelineno-fhmodal_insert_stored_ahora-92"></a><span class="c1">--   }</span>
</span><span id="__span-fhmodal_insert_stored_ahora-93"><a id="__codelineno-fhmodal_insert_stored_ahora-93" name="__codelineno-fhmodal_insert_stored_ahora-93" href="#__codelineno-fhmodal_insert_stored_ahora-93"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_insert_stored_ahora-94"><a id="__codelineno-fhmodal_insert_stored_ahora-94" name="__codelineno-fhmodal_insert_stored_ahora-94" href="#__codelineno-fhmodal_insert_stored_ahora-94"></a><span class="c1">-- ContextVars JSON Sample      </span>
</span><span id="__span-fhmodal_insert_stored_ahora-95"><a id="__codelineno-fhmodal_insert_stored_ahora-95" name="__codelineno-fhmodal_insert_stored_ahora-95" href="#__codelineno-fhmodal_insert_stored_ahora-95"></a><span class="c1">--   {</span>
</span><span id="__span-fhmodal_insert_stored_ahora-96"><a id="__codelineno-fhmodal_insert_stored_ahora-96" name="__codelineno-fhmodal_insert_stored_ahora-96" href="#__codelineno-fhmodal_insert_stored_ahora-96"></a><span class="c1">--    "currentReference": "0",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-97"><a id="__codelineno-fhmodal_insert_stored_ahora-97" name="__codelineno-fhmodal_insert_stored_ahora-97" href="#__codelineno-fhmodal_insert_stored_ahora-97"></a><span class="c1">--    "currentSubreference": "0",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-98"><a id="__codelineno-fhmodal_insert_stored_ahora-98" name="__codelineno-fhmodal_insert_stored_ahora-98" href="#__codelineno-fhmodal_insert_stored_ahora-98"></a><span class="c1">--    "currentRole": "Admins",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-99"><a id="__codelineno-fhmodal_insert_stored_ahora-99" name="__codelineno-fhmodal_insert_stored_ahora-99" href="#__codelineno-fhmodal_insert_stored_ahora-99"></a><span class="c1">--    "currentRoleId": "admins",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-100"><a id="__codelineno-fhmodal_insert_stored_ahora-100" name="__codelineno-fhmodal_insert_stored_ahora-100" href="#__codelineno-fhmodal_insert_stored_ahora-100"></a><span class="c1">--    "currentUserLogin": "admin",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-101"><a id="__codelineno-fhmodal_insert_stored_ahora-101" name="__codelineno-fhmodal_insert_stored_ahora-101" href="#__codelineno-fhmodal_insert_stored_ahora-101"></a><span class="c1">--    "currentUserId": "1",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-102"><a id="__codelineno-fhmodal_insert_stored_ahora-102" name="__codelineno-fhmodal_insert_stored_ahora-102" href="#__codelineno-fhmodal_insert_stored_ahora-102"></a><span class="c1">--    "currentUserFullName": "Admin Admin",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-103"><a id="__codelineno-fhmodal_insert_stored_ahora-103" name="__codelineno-fhmodal_insert_stored_ahora-103" href="#__codelineno-fhmodal_insert_stored_ahora-103"></a><span class="c1">--    "currentUserCultureId": "en-gb",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-104"><a id="__codelineno-fhmodal_insert_stored_ahora-104" name="__codelineno-fhmodal_insert_stored_ahora-104" href="#__codelineno-fhmodal_insert_stored_ahora-104"></a><span class="c1">--    "currentUserLang": "en",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-105"><a id="__codelineno-fhmodal_insert_stored_ahora-105" name="__codelineno-fhmodal_insert_stored_ahora-105" href="#__codelineno-fhmodal_insert_stored_ahora-105"></a><span class="c1">--    "currentUserEmail": "mail@mail.es.com"</span>
</span><span id="__span-fhmodal_insert_stored_ahora-106"><a id="__codelineno-fhmodal_insert_stored_ahora-106" name="__codelineno-fhmodal_insert_stored_ahora-106" href="#__codelineno-fhmodal_insert_stored_ahora-106"></a><span class="c1">--   }</span>
</span><span id="__span-fhmodal_insert_stored_ahora-107"><a id="__codelineno-fhmodal_insert_stored_ahora-107" name="__codelineno-fhmodal_insert_stored_ahora-107" href="#__codelineno-fhmodal_insert_stored_ahora-107"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_insert_stored_ahora-108"><a id="__codelineno-fhmodal_insert_stored_ahora-108" name="__codelineno-fhmodal_insert_stored_ahora-108" href="#__codelineno-fhmodal_insert_stored_ahora-108"></a><span class="c1">-- Return vars JSON Sample      </span>
</span><span id="__span-fhmodal_insert_stored_ahora-109"><a id="__codelineno-fhmodal_insert_stored_ahora-109" name="__codelineno-fhmodal_insert_stored_ahora-109" href="#__codelineno-fhmodal_insert_stored_ahora-109"></a><span class="c1">--   {</span>
</span><span id="__span-fhmodal_insert_stored_ahora-110"><a id="__codelineno-fhmodal_insert_stored_ahora-110" name="__codelineno-fhmodal_insert_stored_ahora-110" href="#__codelineno-fhmodal_insert_stored_ahora-110"></a><span class="c1">--    "Success": false,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-111"><a id="__codelineno-fhmodal_insert_stored_ahora-111" name="__codelineno-fhmodal_insert_stored_ahora-111" href="#__codelineno-fhmodal_insert_stored_ahora-111"></a><span class="c1">--    "SuccessMessage": "",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-112"><a id="__codelineno-fhmodal_insert_stored_ahora-112" name="__codelineno-fhmodal_insert_stored_ahora-112" href="#__codelineno-fhmodal_insert_stored_ahora-112"></a><span class="c1">--    "WarningMessage": "",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-113"><a id="__codelineno-fhmodal_insert_stored_ahora-113" name="__codelineno-fhmodal_insert_stored_ahora-113" href="#__codelineno-fhmodal_insert_stored_ahora-113"></a><span class="c1">--    "LastException": null,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-114"><a id="__codelineno-fhmodal_insert_stored_ahora-114" name="__codelineno-fhmodal_insert_stored_ahora-114" href="#__codelineno-fhmodal_insert_stored_ahora-114"></a><span class="c1">--    "LastAfterProcessName": null,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-115"><a id="__codelineno-fhmodal_insert_stored_ahora-115" name="__codelineno-fhmodal_insert_stored_ahora-115" href="#__codelineno-fhmodal_insert_stored_ahora-115"></a><span class="c1">--    "LastProcessName": null,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-116"><a id="__codelineno-fhmodal_insert_stored_ahora-116" name="__codelineno-fhmodal_insert_stored_ahora-116" href="#__codelineno-fhmodal_insert_stored_ahora-116"></a><span class="c1">--    "MoreProcesses": false,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-117"><a id="__codelineno-fhmodal_insert_stored_ahora-117" name="__codelineno-fhmodal_insert_stored_ahora-117" href="#__codelineno-fhmodal_insert_stored_ahora-117"></a><span class="c1">--    "JSCode": "",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-118"><a id="__codelineno-fhmodal_insert_stored_ahora-118" name="__codelineno-fhmodal_insert_stored_ahora-118" href="#__codelineno-fhmodal_insert_stored_ahora-118"></a><span class="c1">--    "JSFile": "",</span>
</span><span id="__span-fhmodal_insert_stored_ahora-119"><a id="__codelineno-fhmodal_insert_stored_ahora-119" name="__codelineno-fhmodal_insert_stored_ahora-119" href="#__codelineno-fhmodal_insert_stored_ahora-119"></a><span class="c1">--    "Data": {},</span>
</span><span id="__span-fhmodal_insert_stored_ahora-120"><a id="__codelineno-fhmodal_insert_stored_ahora-120" name="__codelineno-fhmodal_insert_stored_ahora-120" href="#__codelineno-fhmodal_insert_stored_ahora-120"></a><span class="c1">--    "CloseParamWindow": false,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-121"><a id="__codelineno-fhmodal_insert_stored_ahora-121" name="__codelineno-fhmodal_insert_stored_ahora-121" href="#__codelineno-fhmodal_insert_stored_ahora-121"></a><span class="c1">--    "ClearSelectionBag": false,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-122"><a id="__codelineno-fhmodal_insert_stored_ahora-122" name="__codelineno-fhmodal_insert_stored_ahora-122" href="#__codelineno-fhmodal_insert_stored_ahora-122"></a><span class="c1">--    "Refresh": false,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-123"><a id="__codelineno-fhmodal_insert_stored_ahora-123" name="__codelineno-fhmodal_insert_stored_ahora-123" href="#__codelineno-fhmodal_insert_stored_ahora-123"></a><span class="c1">--    "LastExecutedProcess": null</span>
</span><span id="__span-fhmodal_insert_stored_ahora-124"><a id="__codelineno-fhmodal_insert_stored_ahora-124" name="__codelineno-fhmodal_insert_stored_ahora-124" href="#__codelineno-fhmodal_insert_stored_ahora-124"></a><span class="c1">--   }</span>
</span><span id="__span-fhmodal_insert_stored_ahora-125"><a id="__codelineno-fhmodal_insert_stored_ahora-125" name="__codelineno-fhmodal_insert_stored_ahora-125" href="#__codelineno-fhmodal_insert_stored_ahora-125"></a><span class="c1">----------------------------------------------------------------------------------</span>
</span><span id="__span-fhmodal_insert_stored_ahora-126"><a id="__codelineno-fhmodal_insert_stored_ahora-126" name="__codelineno-fhmodal_insert_stored_ahora-126" href="#__codelineno-fhmodal_insert_stored_ahora-126"></a><span class="k">BEGIN</span><span class="w"> </span><span class="n">TRY</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_stored_ahora-127"><a id="__codelineno-fhmodal_insert_stored_ahora-127" name="__codelineno-fhmodal_insert_stored_ahora-127" href="#__codelineno-fhmodal_insert_stored_ahora-127"></a>
</span><span id="__span-fhmodal_insert_stored_ahora-128"><a id="__codelineno-fhmodal_insert_stored_ahora-128" name="__codelineno-fhmodal_insert_stored_ahora-128" href="#__codelineno-fhmodal_insert_stored_ahora-128"></a><span class="w">    </span><span class="c1">--Declare field variables to load </span>
</span><span id="__span-fhmodal_insert_stored_ahora-129"><a id="__codelineno-fhmodal_insert_stored_ahora-129" name="__codelineno-fhmodal_insert_stored_ahora-129" href="#__codelineno-fhmodal_insert_stored_ahora-129"></a><span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="w"> </span><span class="nb">INT</span><span class="p">,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-130"><a id="__codelineno-fhmodal_insert_stored_ahora-130" name="__codelineno-fhmodal_insert_stored_ahora-130" href="#__codelineno-fhmodal_insert_stored_ahora-130"></a><span class="w">        </span><span class="o">@</span><span class="n">Descrip</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">2000</span><span class="p">),</span>
</span><span id="__span-fhmodal_insert_stored_ahora-131"><a id="__codelineno-fhmodal_insert_stored_ahora-131" name="__codelineno-fhmodal_insert_stored_ahora-131" href="#__codelineno-fhmodal_insert_stored_ahora-131"></a><span class="w">        </span><span class="o">@</span><span class="n">InsertUpdate</span><span class="w"> </span><span class="nb">BIT</span><span class="p">,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-132"><a id="__codelineno-fhmodal_insert_stored_ahora-132" name="__codelineno-fhmodal_insert_stored_ahora-132" href="#__codelineno-fhmodal_insert_stored_ahora-132"></a><span class="w">        </span><span class="o">@</span><span class="k">User</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
</span><span id="__span-fhmodal_insert_stored_ahora-133"><a id="__codelineno-fhmodal_insert_stored_ahora-133" name="__codelineno-fhmodal_insert_stored_ahora-133" href="#__codelineno-fhmodal_insert_stored_ahora-133"></a><span class="w">        </span><span class="o">@</span><span class="n">InsertUpdateDate</span><span class="w"> </span><span class="n">DATETIME</span><span class="p">,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-134"><a id="__codelineno-fhmodal_insert_stored_ahora-134" name="__codelineno-fhmodal_insert_stored_ahora-134" href="#__codelineno-fhmodal_insert_stored_ahora-134"></a><span class="w">        </span><span class="o">@</span><span class="n">Config</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored_ahora-135"><a id="__codelineno-fhmodal_insert_stored_ahora-135" name="__codelineno-fhmodal_insert_stored_ahora-135" href="#__codelineno-fhmodal_insert_stored_ahora-135"></a>
</span><span id="__span-fhmodal_insert_stored_ahora-136"><a id="__codelineno-fhmodal_insert_stored_ahora-136" name="__codelineno-fhmodal_insert_stored_ahora-136" href="#__codelineno-fhmodal_insert_stored_ahora-136"></a><span class="w">    </span><span class="k">SELECT</span>
</span><span id="__span-fhmodal_insert_stored_ahora-137"><a id="__codelineno-fhmodal_insert_stored_ahora-137" name="__codelineno-fhmodal_insert_stored_ahora-137" href="#__codelineno-fhmodal_insert_stored_ahora-137"></a><span class="w">        </span><span class="o">@</span><span class="n">TestId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">TestId</span><span class="p">],</span>
</span><span id="__span-fhmodal_insert_stored_ahora-138"><a id="__codelineno-fhmodal_insert_stored_ahora-138" name="__codelineno-fhmodal_insert_stored_ahora-138" href="#__codelineno-fhmodal_insert_stored_ahora-138"></a><span class="w">        </span><span class="o">@</span><span class="n">Descrip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">Descrip</span><span class="p">],</span>
</span><span id="__span-fhmodal_insert_stored_ahora-139"><a id="__codelineno-fhmodal_insert_stored_ahora-139" name="__codelineno-fhmodal_insert_stored_ahora-139" href="#__codelineno-fhmodal_insert_stored_ahora-139"></a><span class="w">        </span><span class="o">@</span><span class="n">InsertUpdate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">InsertUpdate</span><span class="p">],</span>
</span><span id="__span-fhmodal_insert_stored_ahora-140"><a id="__codelineno-fhmodal_insert_stored_ahora-140" name="__codelineno-fhmodal_insert_stored_ahora-140" href="#__codelineno-fhmodal_insert_stored_ahora-140"></a><span class="w">        </span><span class="o">@</span><span class="k">User</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="k">User</span><span class="p">],</span>
</span><span id="__span-fhmodal_insert_stored_ahora-141"><a id="__codelineno-fhmodal_insert_stored_ahora-141" name="__codelineno-fhmodal_insert_stored_ahora-141" href="#__codelineno-fhmodal_insert_stored_ahora-141"></a><span class="w">        </span><span class="o">@</span><span class="n">InsertUpdateDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">InsertUpdateDate</span><span class="p">],</span>
</span><span id="__span-fhmodal_insert_stored_ahora-142"><a id="__codelineno-fhmodal_insert_stored_ahora-142" name="__codelineno-fhmodal_insert_stored_ahora-142" href="#__codelineno-fhmodal_insert_stored_ahora-142"></a><span class="w">        </span><span class="o">@</span><span class="n">Config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">Config</span><span class="p">]</span>
</span><span id="__span-fhmodal_insert_stored_ahora-143"><a id="__codelineno-fhmodal_insert_stored_ahora-143" name="__codelineno-fhmodal_insert_stored_ahora-143" href="#__codelineno-fhmodal_insert_stored_ahora-143"></a><span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="n">OPENJSON</span><span class="p">(</span><span class="o">@</span><span class="k">Values</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored_ahora-144"><a id="__codelineno-fhmodal_insert_stored_ahora-144" name="__codelineno-fhmodal_insert_stored_ahora-144" href="#__codelineno-fhmodal_insert_stored_ahora-144"></a><span class="w">    </span><span class="k">WITH</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-fhmodal_insert_stored_ahora-145"><a id="__codelineno-fhmodal_insert_stored_ahora-145" name="__codelineno-fhmodal_insert_stored_ahora-145" href="#__codelineno-fhmodal_insert_stored_ahora-145"></a><span class="w">        </span><span class="n">TestId</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="s1">'$.TestId'</span><span class="p">,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-146"><a id="__codelineno-fhmodal_insert_stored_ahora-146" name="__codelineno-fhmodal_insert_stored_ahora-146" href="#__codelineno-fhmodal_insert_stored_ahora-146"></a><span class="w">        </span><span class="n">Descrip</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">2000</span><span class="p">)</span><span class="w"> </span><span class="s1">'$.Descrip'</span><span class="p">,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-147"><a id="__codelineno-fhmodal_insert_stored_ahora-147" name="__codelineno-fhmodal_insert_stored_ahora-147" href="#__codelineno-fhmodal_insert_stored_ahora-147"></a><span class="w">        </span><span class="n">InsertUpdate</span><span class="w"> </span><span class="nb">BIT</span><span class="w"> </span><span class="s1">'$.InsertUpdate'</span><span class="p">,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-148"><a id="__codelineno-fhmodal_insert_stored_ahora-148" name="__codelineno-fhmodal_insert_stored_ahora-148" href="#__codelineno-fhmodal_insert_stored_ahora-148"></a><span class="w">        </span><span class="p">[</span><span class="k">User</span><span class="p">]</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="s1">'$.User'</span><span class="p">,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-149"><a id="__codelineno-fhmodal_insert_stored_ahora-149" name="__codelineno-fhmodal_insert_stored_ahora-149" href="#__codelineno-fhmodal_insert_stored_ahora-149"></a><span class="w">        </span><span class="n">InsertUpdateDate</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="s1">'$.InsertUpdateDate'</span><span class="p">,</span>
</span><span id="__span-fhmodal_insert_stored_ahora-150"><a id="__codelineno-fhmodal_insert_stored_ahora-150" name="__codelineno-fhmodal_insert_stored_ahora-150" href="#__codelineno-fhmodal_insert_stored_ahora-150"></a><span class="w">        </span><span class="n">Config</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="s1">'$.Config'</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored_ahora-151"><a id="__codelineno-fhmodal_insert_stored_ahora-151" name="__codelineno-fhmodal_insert_stored_ahora-151" href="#__codelineno-fhmodal_insert_stored_ahora-151"></a>
</span><span id="__span-fhmodal_insert_stored_ahora-152"><a id="__codelineno-fhmodal_insert_stored_ahora-152" name="__codelineno-fhmodal_insert_stored_ahora-152" href="#__codelineno-fhmodal_insert_stored_ahora-152"></a><span class="w">    </span><span class="c1">-- Insert register</span>
</span><span id="__span-fhmodal_insert_stored_ahora-153"><a id="__codelineno-fhmodal_insert_stored_ahora-153" name="__codelineno-fhmodal_insert_stored_ahora-153" href="#__codelineno-fhmodal_insert_stored_ahora-153"></a><span class="w">    </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">Test</span><span class="w"> </span><span class="p">([</span><span class="n">TestId</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Descrip</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">InsertUpdate</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="k">User</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">InsertUpdateDate</span><span class="p">])</span>
</span><span id="__span-fhmodal_insert_stored_ahora-154"><a id="__codelineno-fhmodal_insert_stored_ahora-154" name="__codelineno-fhmodal_insert_stored_ahora-154" href="#__codelineno-fhmodal_insert_stored_ahora-154"></a><span class="w">    </span><span class="k">Select</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">Descrip</span><span class="p">,</span><span class="w"> </span><span class="k">isnull</span><span class="p">(</span><span class="o">@</span><span class="n">InsertUpdate</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="o">@</span><span class="k">User</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">InsertUpdateDate</span>
</span><span id="__span-fhmodal_insert_stored_ahora-155"><a id="__codelineno-fhmodal_insert_stored_ahora-155" name="__codelineno-fhmodal_insert_stored_ahora-155" href="#__codelineno-fhmodal_insert_stored_ahora-155"></a>
</span><span id="__span-fhmodal_insert_stored_ahora-156"><a id="__codelineno-fhmodal_insert_stored_ahora-156" name="__codelineno-fhmodal_insert_stored_ahora-156" href="#__codelineno-fhmodal_insert_stored_ahora-156"></a><span class="w">    </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">Test_Conf</span><span class="p">([</span><span class="n">TestId</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Config</span><span class="p">])</span>
</span><span id="__span-fhmodal_insert_stored_ahora-157"><a id="__codelineno-fhmodal_insert_stored_ahora-157" name="__codelineno-fhmodal_insert_stored_ahora-157" href="#__codelineno-fhmodal_insert_stored_ahora-157"></a><span class="w">    </span><span class="k">Select</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">Config</span>
</span><span id="__span-fhmodal_insert_stored_ahora-158"><a id="__codelineno-fhmodal_insert_stored_ahora-158" name="__codelineno-fhmodal_insert_stored_ahora-158" href="#__codelineno-fhmodal_insert_stored_ahora-158"></a>
</span><span id="__span-fhmodal_insert_stored_ahora-159"><a id="__codelineno-fhmodal_insert_stored_ahora-159" name="__codelineno-fhmodal_insert_stored_ahora-159" href="#__codelineno-fhmodal_insert_stored_ahora-159"></a><span class="w">    </span><span class="c1">-- Change Keys</span>
</span><span id="__span-fhmodal_insert_stored_ahora-160"><a id="__codelineno-fhmodal_insert_stored_ahora-160" name="__codelineno-fhmodal_insert_stored_ahora-160" href="#__codelineno-fhmodal_insert_stored_ahora-160"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="k">Values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JSON_MODIFY</span><span class="p">(</span><span class="o">@</span><span class="k">Values</span><span class="p">,</span><span class="w"> </span><span class="s1">'$.TestId'</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="p">);</span>
</span><span id="__span-fhmodal_insert_stored_ahora-161"><a id="__codelineno-fhmodal_insert_stored_ahora-161" name="__codelineno-fhmodal_insert_stored_ahora-161" href="#__codelineno-fhmodal_insert_stored_ahora-161"></a>
</span><span id="__span-fhmodal_insert_stored_ahora-162"><a id="__codelineno-fhmodal_insert_stored_ahora-162" name="__codelineno-fhmodal_insert_stored_ahora-162" href="#__codelineno-fhmodal_insert_stored_ahora-162"></a><span class="w">    </span><span class="c1">-- Process return values</span>
</span><span id="__span-fhmodal_insert_stored_ahora-163"><a id="__codelineno-fhmodal_insert_stored_ahora-163" name="__codelineno-fhmodal_insert_stored_ahora-163" href="#__codelineno-fhmodal_insert_stored_ahora-163"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JSON_MODIFY</span><span class="p">(</span><span class="o">@</span><span class="n">RetValues</span><span class="p">,</span><span class="w"> </span><span class="s1">'$.Success'</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</span><span id="__span-fhmodal_insert_stored_ahora-164"><a id="__codelineno-fhmodal_insert_stored_ahora-164" name="__codelineno-fhmodal_insert_stored_ahora-164" href="#__codelineno-fhmodal_insert_stored_ahora-164"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JSON_MODIFY</span><span class="p">(</span><span class="o">@</span><span class="n">RetValues</span><span class="p">,</span><span class="w"> </span><span class="s1">'$.SuccessMessage'</span><span class="p">,</span><span class="w"> </span><span class="s1">'All went fine'</span><span class="p">);</span>
</span><span id="__span-fhmodal_insert_stored_ahora-165"><a id="__codelineno-fhmodal_insert_stored_ahora-165" name="__codelineno-fhmodal_insert_stored_ahora-165" href="#__codelineno-fhmodal_insert_stored_ahora-165"></a><span class="w">    </span><span class="k">RETURN</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-fhmodal_insert_stored_ahora-166"><a id="__codelineno-fhmodal_insert_stored_ahora-166" name="__codelineno-fhmodal_insert_stored_ahora-166" href="#__codelineno-fhmodal_insert_stored_ahora-166"></a><span class="k">END</span><span class="w"> </span><span class="n">TRY</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_stored_ahora-167"><a id="__codelineno-fhmodal_insert_stored_ahora-167" name="__codelineno-fhmodal_insert_stored_ahora-167" href="#__codelineno-fhmodal_insert_stored_ahora-167"></a>
</span><span id="__span-fhmodal_insert_stored_ahora-168"><a id="__codelineno-fhmodal_insert_stored_ahora-168" name="__codelineno-fhmodal_insert_stored_ahora-168" href="#__codelineno-fhmodal_insert_stored_ahora-168"></a><span class="k">BEGIN</span><span class="w"> </span><span class="n">CATCH</span>
</span><span id="__span-fhmodal_insert_stored_ahora-169"><a id="__codelineno-fhmodal_insert_stored_ahora-169" name="__codelineno-fhmodal_insert_stored_ahora-169" href="#__codelineno-fhmodal_insert_stored_ahora-169"></a><span class="w">    </span><span class="k">IF</span><span class="w"> </span><span class="o">@@</span><span class="n">TRANCOUNT</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">0</span><span class="w"> </span><span class="k">BEGIN</span>
</span><span id="__span-fhmodal_insert_stored_ahora-170"><a id="__codelineno-fhmodal_insert_stored_ahora-170" name="__codelineno-fhmodal_insert_stored_ahora-170" href="#__codelineno-fhmodal_insert_stored_ahora-170"></a><span class="w">        </span><span class="k">ROLLBACK</span><span class="w"> </span><span class="n">TRAN</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_stored_ahora-171"><a id="__codelineno-fhmodal_insert_stored_ahora-171" name="__codelineno-fhmodal_insert_stored_ahora-171" href="#__codelineno-fhmodal_insert_stored_ahora-171"></a><span class="w">    </span><span class="k">END</span>
</span><span id="__span-fhmodal_insert_stored_ahora-172"><a id="__codelineno-fhmodal_insert_stored_ahora-172" name="__codelineno-fhmodal_insert_stored_ahora-172" href="#__codelineno-fhmodal_insert_stored_ahora-172"></a>
</span><span id="__span-fhmodal_insert_stored_ahora-173"><a id="__codelineno-fhmodal_insert_stored_ahora-173" name="__codelineno-fhmodal_insert_stored_ahora-173" href="#__codelineno-fhmodal_insert_stored_ahora-173"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JSON_MODIFY</span><span class="p">(</span><span class="o">@</span><span class="n">RetValues</span><span class="p">,</span><span class="w"> </span><span class="s1">'$.Success'</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
</span><span id="__span-fhmodal_insert_stored_ahora-174"><a id="__codelineno-fhmodal_insert_stored_ahora-174" name="__codelineno-fhmodal_insert_stored_ahora-174" href="#__codelineno-fhmodal_insert_stored_ahora-174"></a>
</span><span id="__span-fhmodal_insert_stored_ahora-175"><a id="__codelineno-fhmodal_insert_stored_ahora-175" name="__codelineno-fhmodal_insert_stored_ahora-175" href="#__codelineno-fhmodal_insert_stored_ahora-175"></a><span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">CatchError</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored_ahora-176"><a id="__codelineno-fhmodal_insert_stored_ahora-176" name="__codelineno-fhmodal_insert_stored_ahora-176" href="#__codelineno-fhmodal_insert_stored_ahora-176"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">CatchError</span><span class="o">=</span><span class="n">dbo</span><span class="p">.</span><span class="n">funprintError</span><span class="p">(</span><span class="n">ERROR_MESSAGE</span><span class="p">(),</span><span class="n">ERROR_NUMBER</span><span class="p">(),</span><span class="n">ERROR_PROCEDURE</span><span class="p">(),</span><span class="o">@@</span><span class="n">PROCID</span><span class="w"> </span><span class="p">,</span><span class="n">ERROR_LINE</span><span class="p">())</span>
</span><span id="__span-fhmodal_insert_stored_ahora-177"><a id="__codelineno-fhmodal_insert_stored_ahora-177" name="__codelineno-fhmodal_insert_stored_ahora-177" href="#__codelineno-fhmodal_insert_stored_ahora-177"></a><span class="w">    </span><span class="n">RAISERROR</span><span class="p">(</span><span class="o">@</span><span class="n">CatchError</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_stored_ahora-178"><a id="__codelineno-fhmodal_insert_stored_ahora-178" name="__codelineno-fhmodal_insert_stored_ahora-178" href="#__codelineno-fhmodal_insert_stored_ahora-178"></a>
</span><span id="__span-fhmodal_insert_stored_ahora-179"><a id="__codelineno-fhmodal_insert_stored_ahora-179" name="__codelineno-fhmodal_insert_stored_ahora-179" href="#__codelineno-fhmodal_insert_stored_ahora-179"></a><span class="w">    </span><span class="k">RETURN</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-fhmodal_insert_stored_ahora-180"><a id="__codelineno-fhmodal_insert_stored_ahora-180" name="__codelineno-fhmodal_insert_stored_ahora-180" href="#__codelineno-fhmodal_insert_stored_ahora-180"></a><span class="k">END</span><span class="w"> </span><span class="n">CATCH</span>
</span><span id="__span-fhmodal_insert_stored_ahora-181"><a id="__codelineno-fhmodal_insert_stored_ahora-181" name="__codelineno-fhmodal_insert_stored_ahora-181" href="#__codelineno-fhmodal_insert_stored_ahora-181"></a><span class="k">GO</span>
</span></code></pre></div>
<div id="fhmodal_update_stored_ahora" class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-fhmodal_update_stored_ahora-1"><a id="__codelineno-fhmodal_update_stored_ahora-1" name="__codelineno-fhmodal_update_stored_ahora-1" href="#__codelineno-fhmodal_update_stored_ahora-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">PROCEDURE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">P_TestUpdate_Stored</span><span class="p">]</span><span class="w">  </span>
</span><span id="__span-fhmodal_update_stored_ahora-2"><a id="__codelineno-fhmodal_update_stored_ahora-2" name="__codelineno-fhmodal_update_stored_ahora-2" href="#__codelineno-fhmodal_update_stored_ahora-2"></a><span class="w">    </span><span class="o">@</span><span class="k">Values</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="k">OUTPUT</span><span class="p">,</span>
</span><span id="__span-fhmodal_update_stored_ahora-3"><a id="__codelineno-fhmodal_update_stored_ahora-3" name="__codelineno-fhmodal_update_stored_ahora-3" href="#__codelineno-fhmodal_update_stored_ahora-3"></a><span class="w">    </span><span class="o">@</span><span class="n">OldValues</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="k">max</span><span class="p">),</span>
</span><span id="__span-fhmodal_update_stored_ahora-4"><a id="__codelineno-fhmodal_update_stored_ahora-4" name="__codelineno-fhmodal_update_stored_ahora-4" href="#__codelineno-fhmodal_update_stored_ahora-4"></a><span class="w">    </span><span class="o">@</span><span class="n">RetValues</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="k">OUTPUT</span><span class="w">   </span>
</span><span id="__span-fhmodal_update_stored_ahora-5"><a id="__codelineno-fhmodal_update_stored_ahora-5" name="__codelineno-fhmodal_update_stored_ahora-5" href="#__codelineno-fhmodal_update_stored_ahora-5"></a><span class="w">    </span><span class="k">AS</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_ahora-6"><a id="__codelineno-fhmodal_update_stored_ahora-6" name="__codelineno-fhmodal_update_stored_ahora-6" href="#__codelineno-fhmodal_update_stored_ahora-6"></a><span class="w">    </span><span class="c1">----------------------------------------------------------------------------------</span>
</span><span id="__span-fhmodal_update_stored_ahora-7"><a id="__codelineno-fhmodal_update_stored_ahora-7" name="__codelineno-fhmodal_update_stored_ahora-7" href="#__codelineno-fhmodal_update_stored_ahora-7"></a><span class="c1">--#NAME</span>
</span><span id="__span-fhmodal_update_stored_ahora-8"><a id="__codelineno-fhmodal_update_stored_ahora-8" name="__codelineno-fhmodal_update_stored_ahora-8" href="#__codelineno-fhmodal_update_stored_ahora-8"></a><span class="c1">--      P_TestUpdate_Stored</span>
</span><span id="__span-fhmodal_update_stored_ahora-9"><a id="__codelineno-fhmodal_update_stored_ahora-9" name="__codelineno-fhmodal_update_stored_ahora-9" href="#__codelineno-fhmodal_update_stored_ahora-9"></a><span class="c1">--#PARAMETERS</span>
</span><span id="__span-fhmodal_update_stored_ahora-10"><a id="__codelineno-fhmodal_update_stored_ahora-10" name="__codelineno-fhmodal_update_stored_ahora-10" href="#__codelineno-fhmodal_update_stored_ahora-10"></a><span class="c1">--      @Values OUTPUT (Required) : Object properties values,</span>
</span><span id="__span-fhmodal_update_stored_ahora-11"><a id="__codelineno-fhmodal_update_stored_ahora-11" name="__codelineno-fhmodal_update_stored_ahora-11" href="#__codelineno-fhmodal_update_stored_ahora-11"></a><span class="c1">--      @OldValues (Optional) : Old object properties values,</span>
</span><span id="__span-fhmodal_update_stored_ahora-12"><a id="__codelineno-fhmodal_update_stored_ahora-12" name="__codelineno-fhmodal_update_stored_ahora-12" href="#__codelineno-fhmodal_update_stored_ahora-12"></a><span class="c1">--      @Schema (Optional) : Schema object properties,</span>
</span><span id="__span-fhmodal_update_stored_ahora-13"><a id="__codelineno-fhmodal_update_stored_ahora-13" name="__codelineno-fhmodal_update_stored_ahora-13" href="#__codelineno-fhmodal_update_stored_ahora-13"></a><span class="c1">--      @ContextVars (Optional): Flexygo context variables,</span>
</span><span id="__span-fhmodal_update_stored_ahora-14"><a id="__codelineno-fhmodal_update_stored_ahora-14" name="__codelineno-fhmodal_update_stored_ahora-14" href="#__codelineno-fhmodal_update_stored_ahora-14"></a><span class="c1">--      @RetValues OUTPUT (Required) : Flexygo process Helper</span>
</span><span id="__span-fhmodal_update_stored_ahora-15"><a id="__codelineno-fhmodal_update_stored_ahora-15" name="__codelineno-fhmodal_update_stored_ahora-15" href="#__codelineno-fhmodal_update_stored_ahora-15"></a><span class="c1">--#OBSERVATIONS</span>
</span><span id="__span-fhmodal_update_stored_ahora-16"><a id="__codelineno-fhmodal_update_stored_ahora-16" name="__codelineno-fhmodal_update_stored_ahora-16" href="#__codelineno-fhmodal_update_stored_ahora-16"></a><span class="c1">-- Values JSON Sample</span>
</span><span id="__span-fhmodal_update_stored_ahora-17"><a id="__codelineno-fhmodal_update_stored_ahora-17" name="__codelineno-fhmodal_update_stored_ahora-17" href="#__codelineno-fhmodal_update_stored_ahora-17"></a><span class="c1">--   {</span>
</span><span id="__span-fhmodal_update_stored_ahora-18"><a id="__codelineno-fhmodal_update_stored_ahora-18" name="__codelineno-fhmodal_update_stored_ahora-18" href="#__codelineno-fhmodal_update_stored_ahora-18"></a><span class="c1">--    "TestId": 1,</span>
</span><span id="__span-fhmodal_update_stored_ahora-19"><a id="__codelineno-fhmodal_update_stored_ahora-19" name="__codelineno-fhmodal_update_stored_ahora-19" href="#__codelineno-fhmodal_update_stored_ahora-19"></a><span class="c1">--    "Descrip": "Test",</span>
</span><span id="__span-fhmodal_update_stored_ahora-20"><a id="__codelineno-fhmodal_update_stored_ahora-20" name="__codelineno-fhmodal_update_stored_ahora-20" href="#__codelineno-fhmodal_update_stored_ahora-20"></a><span class="c1">--    "IdDoc": null,</span>
</span><span id="__span-fhmodal_update_stored_ahora-21"><a id="__codelineno-fhmodal_update_stored_ahora-21" name="__codelineno-fhmodal_update_stored_ahora-21" href="#__codelineno-fhmodal_update_stored_ahora-21"></a><span class="c1">--    "InsertUpdate": null,</span>
</span><span id="__span-fhmodal_update_stored_ahora-22"><a id="__codelineno-fhmodal_update_stored_ahora-22" name="__codelineno-fhmodal_update_stored_ahora-22" href="#__codelineno-fhmodal_update_stored_ahora-22"></a><span class="c1">--    "User": "admin",</span>
</span><span id="__span-fhmodal_update_stored_ahora-23"><a id="__codelineno-fhmodal_update_stored_ahora-23" name="__codelineno-fhmodal_update_stored_ahora-23" href="#__codelineno-fhmodal_update_stored_ahora-23"></a><span class="c1">--    "InsertUpdateDate": "2025-04-23T16:23:00",</span>
</span><span id="__span-fhmodal_update_stored_ahora-24"><a id="__codelineno-fhmodal_update_stored_ahora-24" name="__codelineno-fhmodal_update_stored_ahora-24" href="#__codelineno-fhmodal_update_stored_ahora-24"></a><span class="c1">--    "Config": "TestConfig"</span>
</span><span id="__span-fhmodal_update_stored_ahora-25"><a id="__codelineno-fhmodal_update_stored_ahora-25" name="__codelineno-fhmodal_update_stored_ahora-25" href="#__codelineno-fhmodal_update_stored_ahora-25"></a><span class="c1">--   }</span>
</span><span id="__span-fhmodal_update_stored_ahora-26"><a id="__codelineno-fhmodal_update_stored_ahora-26" name="__codelineno-fhmodal_update_stored_ahora-26" href="#__codelineno-fhmodal_update_stored_ahora-26"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_update_stored_ahora-27"><a id="__codelineno-fhmodal_update_stored_ahora-27" name="__codelineno-fhmodal_update_stored_ahora-27" href="#__codelineno-fhmodal_update_stored_ahora-27"></a><span class="c1">-- Old Values JSON Sample</span>
</span><span id="__span-fhmodal_update_stored_ahora-28"><a id="__codelineno-fhmodal_update_stored_ahora-28" name="__codelineno-fhmodal_update_stored_ahora-28" href="#__codelineno-fhmodal_update_stored_ahora-28"></a><span class="c1">--   {</span>
</span><span id="__span-fhmodal_update_stored_ahora-29"><a id="__codelineno-fhmodal_update_stored_ahora-29" name="__codelineno-fhmodal_update_stored_ahora-29" href="#__codelineno-fhmodal_update_stored_ahora-29"></a><span class="c1">--    "TestId": 1,</span>
</span><span id="__span-fhmodal_update_stored_ahora-30"><a id="__codelineno-fhmodal_update_stored_ahora-30" name="__codelineno-fhmodal_update_stored_ahora-30" href="#__codelineno-fhmodal_update_stored_ahora-30"></a><span class="c1">--    "Descrip": "Test",</span>
</span><span id="__span-fhmodal_update_stored_ahora-31"><a id="__codelineno-fhmodal_update_stored_ahora-31" name="__codelineno-fhmodal_update_stored_ahora-31" href="#__codelineno-fhmodal_update_stored_ahora-31"></a><span class="c1">--    "IdDoc": null,</span>
</span><span id="__span-fhmodal_update_stored_ahora-32"><a id="__codelineno-fhmodal_update_stored_ahora-32" name="__codelineno-fhmodal_update_stored_ahora-32" href="#__codelineno-fhmodal_update_stored_ahora-32"></a><span class="c1">--    "InsertUpdate": null,</span>
</span><span id="__span-fhmodal_update_stored_ahora-33"><a id="__codelineno-fhmodal_update_stored_ahora-33" name="__codelineno-fhmodal_update_stored_ahora-33" href="#__codelineno-fhmodal_update_stored_ahora-33"></a><span class="c1">--    "User": "admin",</span>
</span><span id="__span-fhmodal_update_stored_ahora-34"><a id="__codelineno-fhmodal_update_stored_ahora-34" name="__codelineno-fhmodal_update_stored_ahora-34" href="#__codelineno-fhmodal_update_stored_ahora-34"></a><span class="c1">--    "InsertUpdateDate": "2025-04-23T16:23:00",</span>
</span><span id="__span-fhmodal_update_stored_ahora-35"><a id="__codelineno-fhmodal_update_stored_ahora-35" name="__codelineno-fhmodal_update_stored_ahora-35" href="#__codelineno-fhmodal_update_stored_ahora-35"></a><span class="c1">--    "Config": null</span>
</span><span id="__span-fhmodal_update_stored_ahora-36"><a id="__codelineno-fhmodal_update_stored_ahora-36" name="__codelineno-fhmodal_update_stored_ahora-36" href="#__codelineno-fhmodal_update_stored_ahora-36"></a><span class="c1">--   }</span>
</span><span id="__span-fhmodal_update_stored_ahora-37"><a id="__codelineno-fhmodal_update_stored_ahora-37" name="__codelineno-fhmodal_update_stored_ahora-37" href="#__codelineno-fhmodal_update_stored_ahora-37"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_update_stored_ahora-38"><a id="__codelineno-fhmodal_update_stored_ahora-38" name="__codelineno-fhmodal_update_stored_ahora-38" href="#__codelineno-fhmodal_update_stored_ahora-38"></a><span class="c1">-- Schema JSON Sample</span>
</span><span id="__span-fhmodal_update_stored_ahora-39"><a id="__codelineno-fhmodal_update_stored_ahora-39" name="__codelineno-fhmodal_update_stored_ahora-39" href="#__codelineno-fhmodal_update_stored_ahora-39"></a><span class="c1">--   {</span>
</span><span id="__span-fhmodal_update_stored_ahora-40"><a id="__codelineno-fhmodal_update_stored_ahora-40" name="__codelineno-fhmodal_update_stored_ahora-40" href="#__codelineno-fhmodal_update_stored_ahora-40"></a><span class="c1">--    "RowId": "714a1a4b-b2ce-4f4b-8f5c-a7acc274da85",</span>
</span><span id="__span-fhmodal_update_stored_ahora-41"><a id="__codelineno-fhmodal_update_stored_ahora-41" name="__codelineno-fhmodal_update_stored_ahora-41" href="#__codelineno-fhmodal_update_stored_ahora-41"></a><span class="c1">--    "ObjectName": "Test",</span>
</span><span id="__span-fhmodal_update_stored_ahora-42"><a id="__codelineno-fhmodal_update_stored_ahora-42" name="__codelineno-fhmodal_update_stored_ahora-42" href="#__codelineno-fhmodal_update_stored_ahora-42"></a><span class="c1">--    "Schema": {</span>
</span><span id="__span-fhmodal_update_stored_ahora-43"><a id="__codelineno-fhmodal_update_stored_ahora-43" name="__codelineno-fhmodal_update_stored_ahora-43" href="#__codelineno-fhmodal_update_stored_ahora-43"></a><span class="c1">--        "TestId": {</span>
</span><span id="__span-fhmodal_update_stored_ahora-44"><a id="__codelineno-fhmodal_update_stored_ahora-44" name="__codelineno-fhmodal_update_stored_ahora-44" href="#__codelineno-fhmodal_update_stored_ahora-44"></a><span class="c1">--            "Name": "TestId",</span>
</span><span id="__span-fhmodal_update_stored_ahora-45"><a id="__codelineno-fhmodal_update_stored_ahora-45" name="__codelineno-fhmodal_update_stored_ahora-45" href="#__codelineno-fhmodal_update_stored_ahora-45"></a><span class="c1">--            "Value": 1,</span>
</span><span id="__span-fhmodal_update_stored_ahora-46"><a id="__codelineno-fhmodal_update_stored_ahora-46" name="__codelineno-fhmodal_update_stored_ahora-46" href="#__codelineno-fhmodal_update_stored_ahora-46"></a><span class="c1">--            "OldValue": null,</span>
</span><span id="__span-fhmodal_update_stored_ahora-47"><a id="__codelineno-fhmodal_update_stored_ahora-47" name="__codelineno-fhmodal_update_stored_ahora-47" href="#__codelineno-fhmodal_update_stored_ahora-47"></a><span class="c1">--            "TableName": "Test",</span>
</span><span id="__span-fhmodal_update_stored_ahora-48"><a id="__codelineno-fhmodal_update_stored_ahora-48" name="__codelineno-fhmodal_update_stored_ahora-48" href="#__codelineno-fhmodal_update_stored_ahora-48"></a><span class="c1">--            "IsKey": true</span>
</span><span id="__span-fhmodal_update_stored_ahora-49"><a id="__codelineno-fhmodal_update_stored_ahora-49" name="__codelineno-fhmodal_update_stored_ahora-49" href="#__codelineno-fhmodal_update_stored_ahora-49"></a><span class="c1">--        },</span>
</span><span id="__span-fhmodal_update_stored_ahora-50"><a id="__codelineno-fhmodal_update_stored_ahora-50" name="__codelineno-fhmodal_update_stored_ahora-50" href="#__codelineno-fhmodal_update_stored_ahora-50"></a><span class="c1">--        "Descrip": {</span>
</span><span id="__span-fhmodal_update_stored_ahora-51"><a id="__codelineno-fhmodal_update_stored_ahora-51" name="__codelineno-fhmodal_update_stored_ahora-51" href="#__codelineno-fhmodal_update_stored_ahora-51"></a><span class="c1">--            "Name": "Descrip",</span>
</span><span id="__span-fhmodal_update_stored_ahora-52"><a id="__codelineno-fhmodal_update_stored_ahora-52" name="__codelineno-fhmodal_update_stored_ahora-52" href="#__codelineno-fhmodal_update_stored_ahora-52"></a><span class="c1">--            "Value": "Test",</span>
</span><span id="__span-fhmodal_update_stored_ahora-53"><a id="__codelineno-fhmodal_update_stored_ahora-53" name="__codelineno-fhmodal_update_stored_ahora-53" href="#__codelineno-fhmodal_update_stored_ahora-53"></a><span class="c1">--            "OldValue": null,</span>
</span><span id="__span-fhmodal_update_stored_ahora-54"><a id="__codelineno-fhmodal_update_stored_ahora-54" name="__codelineno-fhmodal_update_stored_ahora-54" href="#__codelineno-fhmodal_update_stored_ahora-54"></a><span class="c1">--            "TableName": "Test",</span>
</span><span id="__span-fhmodal_update_stored_ahora-55"><a id="__codelineno-fhmodal_update_stored_ahora-55" name="__codelineno-fhmodal_update_stored_ahora-55" href="#__codelineno-fhmodal_update_stored_ahora-55"></a><span class="c1">--            "IsKey": false</span>
</span><span id="__span-fhmodal_update_stored_ahora-56"><a id="__codelineno-fhmodal_update_stored_ahora-56" name="__codelineno-fhmodal_update_stored_ahora-56" href="#__codelineno-fhmodal_update_stored_ahora-56"></a><span class="c1">--        },</span>
</span><span id="__span-fhmodal_update_stored_ahora-57"><a id="__codelineno-fhmodal_update_stored_ahora-57" name="__codelineno-fhmodal_update_stored_ahora-57" href="#__codelineno-fhmodal_update_stored_ahora-57"></a><span class="c1">--        "IdDoc": {</span>
</span><span id="__span-fhmodal_update_stored_ahora-58"><a id="__codelineno-fhmodal_update_stored_ahora-58" name="__codelineno-fhmodal_update_stored_ahora-58" href="#__codelineno-fhmodal_update_stored_ahora-58"></a><span class="c1">--            "Name": "IdDoc",</span>
</span><span id="__span-fhmodal_update_stored_ahora-59"><a id="__codelineno-fhmodal_update_stored_ahora-59" name="__codelineno-fhmodal_update_stored_ahora-59" href="#__codelineno-fhmodal_update_stored_ahora-59"></a><span class="c1">--            "Value": null,</span>
</span><span id="__span-fhmodal_update_stored_ahora-60"><a id="__codelineno-fhmodal_update_stored_ahora-60" name="__codelineno-fhmodal_update_stored_ahora-60" href="#__codelineno-fhmodal_update_stored_ahora-60"></a><span class="c1">--            "OldValue": null,</span>
</span><span id="__span-fhmodal_update_stored_ahora-61"><a id="__codelineno-fhmodal_update_stored_ahora-61" name="__codelineno-fhmodal_update_stored_ahora-61" href="#__codelineno-fhmodal_update_stored_ahora-61"></a><span class="c1">--            "TableName": "Test",</span>
</span><span id="__span-fhmodal_update_stored_ahora-62"><a id="__codelineno-fhmodal_update_stored_ahora-62" name="__codelineno-fhmodal_update_stored_ahora-62" href="#__codelineno-fhmodal_update_stored_ahora-62"></a><span class="c1">--            "IsKey": false</span>
</span><span id="__span-fhmodal_update_stored_ahora-63"><a id="__codelineno-fhmodal_update_stored_ahora-63" name="__codelineno-fhmodal_update_stored_ahora-63" href="#__codelineno-fhmodal_update_stored_ahora-63"></a><span class="c1">--        },</span>
</span><span id="__span-fhmodal_update_stored_ahora-64"><a id="__codelineno-fhmodal_update_stored_ahora-64" name="__codelineno-fhmodal_update_stored_ahora-64" href="#__codelineno-fhmodal_update_stored_ahora-64"></a><span class="c1">--        "InsertUpdate": {</span>
</span><span id="__span-fhmodal_update_stored_ahora-65"><a id="__codelineno-fhmodal_update_stored_ahora-65" name="__codelineno-fhmodal_update_stored_ahora-65" href="#__codelineno-fhmodal_update_stored_ahora-65"></a><span class="c1">--            "Name": "InsertUpdate",</span>
</span><span id="__span-fhmodal_update_stored_ahora-66"><a id="__codelineno-fhmodal_update_stored_ahora-66" name="__codelineno-fhmodal_update_stored_ahora-66" href="#__codelineno-fhmodal_update_stored_ahora-66"></a><span class="c1">--            "Value": null,</span>
</span><span id="__span-fhmodal_update_stored_ahora-67"><a id="__codelineno-fhmodal_update_stored_ahora-67" name="__codelineno-fhmodal_update_stored_ahora-67" href="#__codelineno-fhmodal_update_stored_ahora-67"></a><span class="c1">--            "OldValue": null,</span>
</span><span id="__span-fhmodal_update_stored_ahora-68"><a id="__codelineno-fhmodal_update_stored_ahora-68" name="__codelineno-fhmodal_update_stored_ahora-68" href="#__codelineno-fhmodal_update_stored_ahora-68"></a><span class="c1">--            "TableName": "Test",</span>
</span><span id="__span-fhmodal_update_stored_ahora-69"><a id="__codelineno-fhmodal_update_stored_ahora-69" name="__codelineno-fhmodal_update_stored_ahora-69" href="#__codelineno-fhmodal_update_stored_ahora-69"></a><span class="c1">--            "IsKey": false</span>
</span><span id="__span-fhmodal_update_stored_ahora-70"><a id="__codelineno-fhmodal_update_stored_ahora-70" name="__codelineno-fhmodal_update_stored_ahora-70" href="#__codelineno-fhmodal_update_stored_ahora-70"></a><span class="c1">--        },</span>
</span><span id="__span-fhmodal_update_stored_ahora-71"><a id="__codelineno-fhmodal_update_stored_ahora-71" name="__codelineno-fhmodal_update_stored_ahora-71" href="#__codelineno-fhmodal_update_stored_ahora-71"></a><span class="c1">--        "User": {</span>
</span><span id="__span-fhmodal_update_stored_ahora-72"><a id="__codelineno-fhmodal_update_stored_ahora-72" name="__codelineno-fhmodal_update_stored_ahora-72" href="#__codelineno-fhmodal_update_stored_ahora-72"></a><span class="c1">--            "Name": "User",</span>
</span><span id="__span-fhmodal_update_stored_ahora-73"><a id="__codelineno-fhmodal_update_stored_ahora-73" name="__codelineno-fhmodal_update_stored_ahora-73" href="#__codelineno-fhmodal_update_stored_ahora-73"></a><span class="c1">--            "Value": "admin",</span>
</span><span id="__span-fhmodal_update_stored_ahora-74"><a id="__codelineno-fhmodal_update_stored_ahora-74" name="__codelineno-fhmodal_update_stored_ahora-74" href="#__codelineno-fhmodal_update_stored_ahora-74"></a><span class="c1">--            "OldValue": null,</span>
</span><span id="__span-fhmodal_update_stored_ahora-75"><a id="__codelineno-fhmodal_update_stored_ahora-75" name="__codelineno-fhmodal_update_stored_ahora-75" href="#__codelineno-fhmodal_update_stored_ahora-75"></a><span class="c1">--            "TableName": "Test",</span>
</span><span id="__span-fhmodal_update_stored_ahora-76"><a id="__codelineno-fhmodal_update_stored_ahora-76" name="__codelineno-fhmodal_update_stored_ahora-76" href="#__codelineno-fhmodal_update_stored_ahora-76"></a><span class="c1">--            "IsKey": false</span>
</span><span id="__span-fhmodal_update_stored_ahora-77"><a id="__codelineno-fhmodal_update_stored_ahora-77" name="__codelineno-fhmodal_update_stored_ahora-77" href="#__codelineno-fhmodal_update_stored_ahora-77"></a><span class="c1">--        },</span>
</span><span id="__span-fhmodal_update_stored_ahora-78"><a id="__codelineno-fhmodal_update_stored_ahora-78" name="__codelineno-fhmodal_update_stored_ahora-78" href="#__codelineno-fhmodal_update_stored_ahora-78"></a><span class="c1">--        "InsertUpdateDate": {</span>
</span><span id="__span-fhmodal_update_stored_ahora-79"><a id="__codelineno-fhmodal_update_stored_ahora-79" name="__codelineno-fhmodal_update_stored_ahora-79" href="#__codelineno-fhmodal_update_stored_ahora-79"></a><span class="c1">--            "Name": "InsertUpdateDate",</span>
</span><span id="__span-fhmodal_update_stored_ahora-80"><a id="__codelineno-fhmodal_update_stored_ahora-80" name="__codelineno-fhmodal_update_stored_ahora-80" href="#__codelineno-fhmodal_update_stored_ahora-80"></a><span class="c1">--            "Value": "2025-04-23T16:23:00",</span>
</span><span id="__span-fhmodal_update_stored_ahora-81"><a id="__codelineno-fhmodal_update_stored_ahora-81" name="__codelineno-fhmodal_update_stored_ahora-81" href="#__codelineno-fhmodal_update_stored_ahora-81"></a><span class="c1">--            "OldValue": null,</span>
</span><span id="__span-fhmodal_update_stored_ahora-82"><a id="__codelineno-fhmodal_update_stored_ahora-82" name="__codelineno-fhmodal_update_stored_ahora-82" href="#__codelineno-fhmodal_update_stored_ahora-82"></a><span class="c1">--            "TableName": "Test",</span>
</span><span id="__span-fhmodal_update_stored_ahora-83"><a id="__codelineno-fhmodal_update_stored_ahora-83" name="__codelineno-fhmodal_update_stored_ahora-83" href="#__codelineno-fhmodal_update_stored_ahora-83"></a><span class="c1">--            "IsKey": false</span>
</span><span id="__span-fhmodal_update_stored_ahora-84"><a id="__codelineno-fhmodal_update_stored_ahora-84" name="__codelineno-fhmodal_update_stored_ahora-84" href="#__codelineno-fhmodal_update_stored_ahora-84"></a><span class="c1">--        },</span>
</span><span id="__span-fhmodal_update_stored_ahora-85"><a id="__codelineno-fhmodal_update_stored_ahora-85" name="__codelineno-fhmodal_update_stored_ahora-85" href="#__codelineno-fhmodal_update_stored_ahora-85"></a><span class="c1">--        "Config": {</span>
</span><span id="__span-fhmodal_update_stored_ahora-86"><a id="__codelineno-fhmodal_update_stored_ahora-86" name="__codelineno-fhmodal_update_stored_ahora-86" href="#__codelineno-fhmodal_update_stored_ahora-86"></a><span class="c1">--            "Name": "Config",</span>
</span><span id="__span-fhmodal_update_stored_ahora-87"><a id="__codelineno-fhmodal_update_stored_ahora-87" name="__codelineno-fhmodal_update_stored_ahora-87" href="#__codelineno-fhmodal_update_stored_ahora-87"></a><span class="c1">--            "Value": "TestConfig",</span>
</span><span id="__span-fhmodal_update_stored_ahora-88"><a id="__codelineno-fhmodal_update_stored_ahora-88" name="__codelineno-fhmodal_update_stored_ahora-88" href="#__codelineno-fhmodal_update_stored_ahora-88"></a><span class="c1">--            "OldValue": null,</span>
</span><span id="__span-fhmodal_update_stored_ahora-89"><a id="__codelineno-fhmodal_update_stored_ahora-89" name="__codelineno-fhmodal_update_stored_ahora-89" href="#__codelineno-fhmodal_update_stored_ahora-89"></a><span class="c1">--            "TableName": "Test_Conf",</span>
</span><span id="__span-fhmodal_update_stored_ahora-90"><a id="__codelineno-fhmodal_update_stored_ahora-90" name="__codelineno-fhmodal_update_stored_ahora-90" href="#__codelineno-fhmodal_update_stored_ahora-90"></a><span class="c1">--            "IsKey": false</span>
</span><span id="__span-fhmodal_update_stored_ahora-91"><a id="__codelineno-fhmodal_update_stored_ahora-91" name="__codelineno-fhmodal_update_stored_ahora-91" href="#__codelineno-fhmodal_update_stored_ahora-91"></a><span class="c1">--        }</span>
</span><span id="__span-fhmodal_update_stored_ahora-92"><a id="__codelineno-fhmodal_update_stored_ahora-92" name="__codelineno-fhmodal_update_stored_ahora-92" href="#__codelineno-fhmodal_update_stored_ahora-92"></a><span class="c1">--      }</span>
</span><span id="__span-fhmodal_update_stored_ahora-93"><a id="__codelineno-fhmodal_update_stored_ahora-93" name="__codelineno-fhmodal_update_stored_ahora-93" href="#__codelineno-fhmodal_update_stored_ahora-93"></a><span class="c1">--   }</span>
</span><span id="__span-fhmodal_update_stored_ahora-94"><a id="__codelineno-fhmodal_update_stored_ahora-94" name="__codelineno-fhmodal_update_stored_ahora-94" href="#__codelineno-fhmodal_update_stored_ahora-94"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_update_stored_ahora-95"><a id="__codelineno-fhmodal_update_stored_ahora-95" name="__codelineno-fhmodal_update_stored_ahora-95" href="#__codelineno-fhmodal_update_stored_ahora-95"></a><span class="c1">-- ContextVars JSON Sample      </span>
</span><span id="__span-fhmodal_update_stored_ahora-96"><a id="__codelineno-fhmodal_update_stored_ahora-96" name="__codelineno-fhmodal_update_stored_ahora-96" href="#__codelineno-fhmodal_update_stored_ahora-96"></a><span class="c1">--   {</span>
</span><span id="__span-fhmodal_update_stored_ahora-97"><a id="__codelineno-fhmodal_update_stored_ahora-97" name="__codelineno-fhmodal_update_stored_ahora-97" href="#__codelineno-fhmodal_update_stored_ahora-97"></a><span class="c1">--    "currentReference": "0",</span>
</span><span id="__span-fhmodal_update_stored_ahora-98"><a id="__codelineno-fhmodal_update_stored_ahora-98" name="__codelineno-fhmodal_update_stored_ahora-98" href="#__codelineno-fhmodal_update_stored_ahora-98"></a><span class="c1">--    "currentSubreference": "0",</span>
</span><span id="__span-fhmodal_update_stored_ahora-99"><a id="__codelineno-fhmodal_update_stored_ahora-99" name="__codelineno-fhmodal_update_stored_ahora-99" href="#__codelineno-fhmodal_update_stored_ahora-99"></a><span class="c1">--    "currentRole": "Admins",</span>
</span><span id="__span-fhmodal_update_stored_ahora-100"><a id="__codelineno-fhmodal_update_stored_ahora-100" name="__codelineno-fhmodal_update_stored_ahora-100" href="#__codelineno-fhmodal_update_stored_ahora-100"></a><span class="c1">--    "currentRoleId": "admins",</span>
</span><span id="__span-fhmodal_update_stored_ahora-101"><a id="__codelineno-fhmodal_update_stored_ahora-101" name="__codelineno-fhmodal_update_stored_ahora-101" href="#__codelineno-fhmodal_update_stored_ahora-101"></a><span class="c1">--    "currentUserLogin": "admin",</span>
</span><span id="__span-fhmodal_update_stored_ahora-102"><a id="__codelineno-fhmodal_update_stored_ahora-102" name="__codelineno-fhmodal_update_stored_ahora-102" href="#__codelineno-fhmodal_update_stored_ahora-102"></a><span class="c1">--    "currentUserId": "1",</span>
</span><span id="__span-fhmodal_update_stored_ahora-103"><a id="__codelineno-fhmodal_update_stored_ahora-103" name="__codelineno-fhmodal_update_stored_ahora-103" href="#__codelineno-fhmodal_update_stored_ahora-103"></a><span class="c1">--    "currentUserFullName": "Admin Admin",</span>
</span><span id="__span-fhmodal_update_stored_ahora-104"><a id="__codelineno-fhmodal_update_stored_ahora-104" name="__codelineno-fhmodal_update_stored_ahora-104" href="#__codelineno-fhmodal_update_stored_ahora-104"></a><span class="c1">--    "currentUserCultureId": "en-gb",</span>
</span><span id="__span-fhmodal_update_stored_ahora-105"><a id="__codelineno-fhmodal_update_stored_ahora-105" name="__codelineno-fhmodal_update_stored_ahora-105" href="#__codelineno-fhmodal_update_stored_ahora-105"></a><span class="c1">--    "currentUserLang": "en",</span>
</span><span id="__span-fhmodal_update_stored_ahora-106"><a id="__codelineno-fhmodal_update_stored_ahora-106" name="__codelineno-fhmodal_update_stored_ahora-106" href="#__codelineno-fhmodal_update_stored_ahora-106"></a><span class="c1">--    "currentUserEmail": "mail@mail.es.com"</span>
</span><span id="__span-fhmodal_update_stored_ahora-107"><a id="__codelineno-fhmodal_update_stored_ahora-107" name="__codelineno-fhmodal_update_stored_ahora-107" href="#__codelineno-fhmodal_update_stored_ahora-107"></a><span class="c1">--   }</span>
</span><span id="__span-fhmodal_update_stored_ahora-108"><a id="__codelineno-fhmodal_update_stored_ahora-108" name="__codelineno-fhmodal_update_stored_ahora-108" href="#__codelineno-fhmodal_update_stored_ahora-108"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_update_stored_ahora-109"><a id="__codelineno-fhmodal_update_stored_ahora-109" name="__codelineno-fhmodal_update_stored_ahora-109" href="#__codelineno-fhmodal_update_stored_ahora-109"></a><span class="c1">-- Return vars JSON Sample      </span>
</span><span id="__span-fhmodal_update_stored_ahora-110"><a id="__codelineno-fhmodal_update_stored_ahora-110" name="__codelineno-fhmodal_update_stored_ahora-110" href="#__codelineno-fhmodal_update_stored_ahora-110"></a><span class="c1">--   {</span>
</span><span id="__span-fhmodal_update_stored_ahora-111"><a id="__codelineno-fhmodal_update_stored_ahora-111" name="__codelineno-fhmodal_update_stored_ahora-111" href="#__codelineno-fhmodal_update_stored_ahora-111"></a><span class="c1">--    "Success": false,</span>
</span><span id="__span-fhmodal_update_stored_ahora-112"><a id="__codelineno-fhmodal_update_stored_ahora-112" name="__codelineno-fhmodal_update_stored_ahora-112" href="#__codelineno-fhmodal_update_stored_ahora-112"></a><span class="c1">--    "SuccessMessage": "",</span>
</span><span id="__span-fhmodal_update_stored_ahora-113"><a id="__codelineno-fhmodal_update_stored_ahora-113" name="__codelineno-fhmodal_update_stored_ahora-113" href="#__codelineno-fhmodal_update_stored_ahora-113"></a><span class="c1">--    "WarningMessage": "",</span>
</span><span id="__span-fhmodal_update_stored_ahora-114"><a id="__codelineno-fhmodal_update_stored_ahora-114" name="__codelineno-fhmodal_update_stored_ahora-114" href="#__codelineno-fhmodal_update_stored_ahora-114"></a><span class="c1">--    "LastException": null,</span>
</span><span id="__span-fhmodal_update_stored_ahora-115"><a id="__codelineno-fhmodal_update_stored_ahora-115" name="__codelineno-fhmodal_update_stored_ahora-115" href="#__codelineno-fhmodal_update_stored_ahora-115"></a><span class="c1">--    "LastAfterProcessName": null,</span>
</span><span id="__span-fhmodal_update_stored_ahora-116"><a id="__codelineno-fhmodal_update_stored_ahora-116" name="__codelineno-fhmodal_update_stored_ahora-116" href="#__codelineno-fhmodal_update_stored_ahora-116"></a><span class="c1">--    "LastProcessName": null,</span>
</span><span id="__span-fhmodal_update_stored_ahora-117"><a id="__codelineno-fhmodal_update_stored_ahora-117" name="__codelineno-fhmodal_update_stored_ahora-117" href="#__codelineno-fhmodal_update_stored_ahora-117"></a><span class="c1">--    "MoreProcesses": false,</span>
</span><span id="__span-fhmodal_update_stored_ahora-118"><a id="__codelineno-fhmodal_update_stored_ahora-118" name="__codelineno-fhmodal_update_stored_ahora-118" href="#__codelineno-fhmodal_update_stored_ahora-118"></a><span class="c1">--    "JSCode": "",</span>
</span><span id="__span-fhmodal_update_stored_ahora-119"><a id="__codelineno-fhmodal_update_stored_ahora-119" name="__codelineno-fhmodal_update_stored_ahora-119" href="#__codelineno-fhmodal_update_stored_ahora-119"></a><span class="c1">--    "JSFile": "",</span>
</span><span id="__span-fhmodal_update_stored_ahora-120"><a id="__codelineno-fhmodal_update_stored_ahora-120" name="__codelineno-fhmodal_update_stored_ahora-120" href="#__codelineno-fhmodal_update_stored_ahora-120"></a><span class="c1">--    "Data": {},</span>
</span><span id="__span-fhmodal_update_stored_ahora-121"><a id="__codelineno-fhmodal_update_stored_ahora-121" name="__codelineno-fhmodal_update_stored_ahora-121" href="#__codelineno-fhmodal_update_stored_ahora-121"></a><span class="c1">--    "CloseParamWindow": false,</span>
</span><span id="__span-fhmodal_update_stored_ahora-122"><a id="__codelineno-fhmodal_update_stored_ahora-122" name="__codelineno-fhmodal_update_stored_ahora-122" href="#__codelineno-fhmodal_update_stored_ahora-122"></a><span class="c1">--    "ClearSelectionBag": false,</span>
</span><span id="__span-fhmodal_update_stored_ahora-123"><a id="__codelineno-fhmodal_update_stored_ahora-123" name="__codelineno-fhmodal_update_stored_ahora-123" href="#__codelineno-fhmodal_update_stored_ahora-123"></a><span class="c1">--    "Refresh": false,</span>
</span><span id="__span-fhmodal_update_stored_ahora-124"><a id="__codelineno-fhmodal_update_stored_ahora-124" name="__codelineno-fhmodal_update_stored_ahora-124" href="#__codelineno-fhmodal_update_stored_ahora-124"></a><span class="c1">--    "LastExecutedProcess": null</span>
</span><span id="__span-fhmodal_update_stored_ahora-125"><a id="__codelineno-fhmodal_update_stored_ahora-125" name="__codelineno-fhmodal_update_stored_ahora-125" href="#__codelineno-fhmodal_update_stored_ahora-125"></a><span class="c1">--   }</span>
</span><span id="__span-fhmodal_update_stored_ahora-126"><a id="__codelineno-fhmodal_update_stored_ahora-126" name="__codelineno-fhmodal_update_stored_ahora-126" href="#__codelineno-fhmodal_update_stored_ahora-126"></a><span class="c1">----------------------------------------------------------------------------------</span>
</span><span id="__span-fhmodal_update_stored_ahora-127"><a id="__codelineno-fhmodal_update_stored_ahora-127" name="__codelineno-fhmodal_update_stored_ahora-127" href="#__codelineno-fhmodal_update_stored_ahora-127"></a><span class="k">BEGIN</span><span class="w"> </span><span class="n">TRY</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_ahora-128"><a id="__codelineno-fhmodal_update_stored_ahora-128" name="__codelineno-fhmodal_update_stored_ahora-128" href="#__codelineno-fhmodal_update_stored_ahora-128"></a>
</span><span id="__span-fhmodal_update_stored_ahora-129"><a id="__codelineno-fhmodal_update_stored_ahora-129" name="__codelineno-fhmodal_update_stored_ahora-129" href="#__codelineno-fhmodal_update_stored_ahora-129"></a><span class="w">    </span><span class="c1">--Declare field variables to load </span>
</span><span id="__span-fhmodal_update_stored_ahora-130"><a id="__codelineno-fhmodal_update_stored_ahora-130" name="__codelineno-fhmodal_update_stored_ahora-130" href="#__codelineno-fhmodal_update_stored_ahora-130"></a><span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="w"> </span><span class="nb">INT</span><span class="p">,</span>
</span><span id="__span-fhmodal_update_stored_ahora-131"><a id="__codelineno-fhmodal_update_stored_ahora-131" name="__codelineno-fhmodal_update_stored_ahora-131" href="#__codelineno-fhmodal_update_stored_ahora-131"></a><span class="w">        </span><span class="o">@</span><span class="n">Descrip</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">2000</span><span class="p">),</span>
</span><span id="__span-fhmodal_update_stored_ahora-132"><a id="__codelineno-fhmodal_update_stored_ahora-132" name="__codelineno-fhmodal_update_stored_ahora-132" href="#__codelineno-fhmodal_update_stored_ahora-132"></a><span class="w">        </span><span class="o">@</span><span class="n">InsertUpdate</span><span class="w"> </span><span class="nb">BIT</span><span class="p">,</span>
</span><span id="__span-fhmodal_update_stored_ahora-133"><a id="__codelineno-fhmodal_update_stored_ahora-133" name="__codelineno-fhmodal_update_stored_ahora-133" href="#__codelineno-fhmodal_update_stored_ahora-133"></a><span class="w">        </span><span class="o">@</span><span class="k">User</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
</span><span id="__span-fhmodal_update_stored_ahora-134"><a id="__codelineno-fhmodal_update_stored_ahora-134" name="__codelineno-fhmodal_update_stored_ahora-134" href="#__codelineno-fhmodal_update_stored_ahora-134"></a><span class="w">        </span><span class="o">@</span><span class="n">InsertUpdateDate</span><span class="w"> </span><span class="n">DATETIME</span><span class="p">,</span>
</span><span id="__span-fhmodal_update_stored_ahora-135"><a id="__codelineno-fhmodal_update_stored_ahora-135" name="__codelineno-fhmodal_update_stored_ahora-135" href="#__codelineno-fhmodal_update_stored_ahora-135"></a><span class="w">        </span><span class="o">@</span><span class="n">Config</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
</span><span id="__span-fhmodal_update_stored_ahora-136"><a id="__codelineno-fhmodal_update_stored_ahora-136" name="__codelineno-fhmodal_update_stored_ahora-136" href="#__codelineno-fhmodal_update_stored_ahora-136"></a><span class="w">        </span><span class="o">@</span><span class="n">OldTestId</span><span class="w"> </span><span class="nb">INT</span>
</span><span id="__span-fhmodal_update_stored_ahora-137"><a id="__codelineno-fhmodal_update_stored_ahora-137" name="__codelineno-fhmodal_update_stored_ahora-137" href="#__codelineno-fhmodal_update_stored_ahora-137"></a>
</span><span id="__span-fhmodal_update_stored_ahora-138"><a id="__codelineno-fhmodal_update_stored_ahora-138" name="__codelineno-fhmodal_update_stored_ahora-138" href="#__codelineno-fhmodal_update_stored_ahora-138"></a><span class="w">    </span><span class="c1">--New Values</span>
</span><span id="__span-fhmodal_update_stored_ahora-139"><a id="__codelineno-fhmodal_update_stored_ahora-139" name="__codelineno-fhmodal_update_stored_ahora-139" href="#__codelineno-fhmodal_update_stored_ahora-139"></a><span class="w">    </span><span class="k">SELECT</span>
</span><span id="__span-fhmodal_update_stored_ahora-140"><a id="__codelineno-fhmodal_update_stored_ahora-140" name="__codelineno-fhmodal_update_stored_ahora-140" href="#__codelineno-fhmodal_update_stored_ahora-140"></a><span class="w">        </span><span class="o">@</span><span class="n">TestId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">TestId</span><span class="p">],</span>
</span><span id="__span-fhmodal_update_stored_ahora-141"><a id="__codelineno-fhmodal_update_stored_ahora-141" name="__codelineno-fhmodal_update_stored_ahora-141" href="#__codelineno-fhmodal_update_stored_ahora-141"></a><span class="w">        </span><span class="o">@</span><span class="n">Descrip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">Descrip</span><span class="p">],</span>
</span><span id="__span-fhmodal_update_stored_ahora-142"><a id="__codelineno-fhmodal_update_stored_ahora-142" name="__codelineno-fhmodal_update_stored_ahora-142" href="#__codelineno-fhmodal_update_stored_ahora-142"></a><span class="w">        </span><span class="o">@</span><span class="n">InsertUpdate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">InsertUpdate</span><span class="p">],</span>
</span><span id="__span-fhmodal_update_stored_ahora-143"><a id="__codelineno-fhmodal_update_stored_ahora-143" name="__codelineno-fhmodal_update_stored_ahora-143" href="#__codelineno-fhmodal_update_stored_ahora-143"></a><span class="w">        </span><span class="o">@</span><span class="k">User</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="k">User</span><span class="p">],</span>
</span><span id="__span-fhmodal_update_stored_ahora-144"><a id="__codelineno-fhmodal_update_stored_ahora-144" name="__codelineno-fhmodal_update_stored_ahora-144" href="#__codelineno-fhmodal_update_stored_ahora-144"></a><span class="w">        </span><span class="o">@</span><span class="n">InsertUpdateDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">InsertUpdateDate</span><span class="p">],</span>
</span><span id="__span-fhmodal_update_stored_ahora-145"><a id="__codelineno-fhmodal_update_stored_ahora-145" name="__codelineno-fhmodal_update_stored_ahora-145" href="#__codelineno-fhmodal_update_stored_ahora-145"></a><span class="w">        </span><span class="o">@</span><span class="n">Config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">Config</span><span class="p">]</span>
</span><span id="__span-fhmodal_update_stored_ahora-146"><a id="__codelineno-fhmodal_update_stored_ahora-146" name="__codelineno-fhmodal_update_stored_ahora-146" href="#__codelineno-fhmodal_update_stored_ahora-146"></a><span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="n">OPENJSON</span><span class="p">(</span><span class="o">@</span><span class="k">Values</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored_ahora-147"><a id="__codelineno-fhmodal_update_stored_ahora-147" name="__codelineno-fhmodal_update_stored_ahora-147" href="#__codelineno-fhmodal_update_stored_ahora-147"></a><span class="w">    </span><span class="k">WITH</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-fhmodal_update_stored_ahora-148"><a id="__codelineno-fhmodal_update_stored_ahora-148" name="__codelineno-fhmodal_update_stored_ahora-148" href="#__codelineno-fhmodal_update_stored_ahora-148"></a><span class="w">        </span><span class="n">TestId</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="s1">'$.TestId'</span><span class="p">,</span>
</span><span id="__span-fhmodal_update_stored_ahora-149"><a id="__codelineno-fhmodal_update_stored_ahora-149" name="__codelineno-fhmodal_update_stored_ahora-149" href="#__codelineno-fhmodal_update_stored_ahora-149"></a><span class="w">        </span><span class="n">Descrip</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">2000</span><span class="p">)</span><span class="w"> </span><span class="s1">'$.Descrip'</span><span class="p">,</span>
</span><span id="__span-fhmodal_update_stored_ahora-150"><a id="__codelineno-fhmodal_update_stored_ahora-150" name="__codelineno-fhmodal_update_stored_ahora-150" href="#__codelineno-fhmodal_update_stored_ahora-150"></a><span class="w">        </span><span class="n">InsertUpdate</span><span class="w"> </span><span class="nb">BIT</span><span class="w"> </span><span class="s1">'$.InsertUpdate'</span><span class="p">,</span>
</span><span id="__span-fhmodal_update_stored_ahora-151"><a id="__codelineno-fhmodal_update_stored_ahora-151" name="__codelineno-fhmodal_update_stored_ahora-151" href="#__codelineno-fhmodal_update_stored_ahora-151"></a><span class="w">        </span><span class="p">[</span><span class="k">User</span><span class="p">]</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="s1">'$.User'</span><span class="p">,</span>
</span><span id="__span-fhmodal_update_stored_ahora-152"><a id="__codelineno-fhmodal_update_stored_ahora-152" name="__codelineno-fhmodal_update_stored_ahora-152" href="#__codelineno-fhmodal_update_stored_ahora-152"></a><span class="w">        </span><span class="n">InsertUpdateDate</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="s1">'$.InsertUpdateDate'</span><span class="p">,</span>
</span><span id="__span-fhmodal_update_stored_ahora-153"><a id="__codelineno-fhmodal_update_stored_ahora-153" name="__codelineno-fhmodal_update_stored_ahora-153" href="#__codelineno-fhmodal_update_stored_ahora-153"></a><span class="w">        </span><span class="n">Config</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="s1">'$.Config'</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored_ahora-154"><a id="__codelineno-fhmodal_update_stored_ahora-154" name="__codelineno-fhmodal_update_stored_ahora-154" href="#__codelineno-fhmodal_update_stored_ahora-154"></a>
</span><span id="__span-fhmodal_update_stored_ahora-155"><a id="__codelineno-fhmodal_update_stored_ahora-155" name="__codelineno-fhmodal_update_stored_ahora-155" href="#__codelineno-fhmodal_update_stored_ahora-155"></a><span class="w">    </span><span class="c1">--Old Values</span>
</span><span id="__span-fhmodal_update_stored_ahora-156"><a id="__codelineno-fhmodal_update_stored_ahora-156" name="__codelineno-fhmodal_update_stored_ahora-156" href="#__codelineno-fhmodal_update_stored_ahora-156"></a><span class="w">    </span><span class="k">SELECT</span>
</span><span id="__span-fhmodal_update_stored_ahora-157"><a id="__codelineno-fhmodal_update_stored_ahora-157" name="__codelineno-fhmodal_update_stored_ahora-157" href="#__codelineno-fhmodal_update_stored_ahora-157"></a><span class="w">        </span><span class="o">@</span><span class="n">OldTestId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">TestId</span><span class="p">]</span>
</span><span id="__span-fhmodal_update_stored_ahora-158"><a id="__codelineno-fhmodal_update_stored_ahora-158" name="__codelineno-fhmodal_update_stored_ahora-158" href="#__codelineno-fhmodal_update_stored_ahora-158"></a><span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="n">OPENJSON</span><span class="p">(</span><span class="o">@</span><span class="n">OldValues</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored_ahora-159"><a id="__codelineno-fhmodal_update_stored_ahora-159" name="__codelineno-fhmodal_update_stored_ahora-159" href="#__codelineno-fhmodal_update_stored_ahora-159"></a><span class="w">    </span><span class="k">WITH</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-fhmodal_update_stored_ahora-160"><a id="__codelineno-fhmodal_update_stored_ahora-160" name="__codelineno-fhmodal_update_stored_ahora-160" href="#__codelineno-fhmodal_update_stored_ahora-160"></a><span class="w">        </span><span class="n">TestId</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="s1">'$.TestId'</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored_ahora-161"><a id="__codelineno-fhmodal_update_stored_ahora-161" name="__codelineno-fhmodal_update_stored_ahora-161" href="#__codelineno-fhmodal_update_stored_ahora-161"></a>
</span><span id="__span-fhmodal_update_stored_ahora-162"><a id="__codelineno-fhmodal_update_stored_ahora-162" name="__codelineno-fhmodal_update_stored_ahora-162" href="#__codelineno-fhmodal_update_stored_ahora-162"></a><span class="w">    </span><span class="c1">-- Update register</span>
</span><span id="__span-fhmodal_update_stored_ahora-163"><a id="__codelineno-fhmodal_update_stored_ahora-163" name="__codelineno-fhmodal_update_stored_ahora-163" href="#__codelineno-fhmodal_update_stored_ahora-163"></a><span class="w">    </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">Test_Conf</span><span class="w"> </span><span class="k">Set</span><span class="w"> </span><span class="n">Config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">Config</span><span class="w"> </span><span class="k">Where</span><span class="w"> </span><span class="n">TestId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">OldTestId</span>
</span><span id="__span-fhmodal_update_stored_ahora-164"><a id="__codelineno-fhmodal_update_stored_ahora-164" name="__codelineno-fhmodal_update_stored_ahora-164" href="#__codelineno-fhmodal_update_stored_ahora-164"></a><span class="w">    </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">Test</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">TestId</span><span class="o">=@</span><span class="n">TestId</span><span class="p">,</span><span class="w"> </span><span class="n">Descrip</span><span class="o">=@</span><span class="n">Descrip</span><span class="p">,</span><span class="w"> </span><span class="n">InsertUpdate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">InsertUpdate</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="k">User</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="k">User</span><span class="p">,</span><span class="w"> </span><span class="n">InsertUpdateDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">InsertUpdateDate</span><span class="w"> </span><span class="k">Where</span><span class="w"> </span><span class="n">TestId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">OldTestId</span>
</span><span id="__span-fhmodal_update_stored_ahora-165"><a id="__codelineno-fhmodal_update_stored_ahora-165" name="__codelineno-fhmodal_update_stored_ahora-165" href="#__codelineno-fhmodal_update_stored_ahora-165"></a>
</span><span id="__span-fhmodal_update_stored_ahora-166"><a id="__codelineno-fhmodal_update_stored_ahora-166" name="__codelineno-fhmodal_update_stored_ahora-166" href="#__codelineno-fhmodal_update_stored_ahora-166"></a><span class="w">    </span><span class="c1">-- Change Keys</span>
</span><span id="__span-fhmodal_update_stored_ahora-167"><a id="__codelineno-fhmodal_update_stored_ahora-167" name="__codelineno-fhmodal_update_stored_ahora-167" href="#__codelineno-fhmodal_update_stored_ahora-167"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="k">Values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JSON_MODIFY</span><span class="p">(</span><span class="o">@</span><span class="k">Values</span><span class="p">,</span><span class="w"> </span><span class="s1">'$.TestId'</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="p">);</span>
</span><span id="__span-fhmodal_update_stored_ahora-168"><a id="__codelineno-fhmodal_update_stored_ahora-168" name="__codelineno-fhmodal_update_stored_ahora-168" href="#__codelineno-fhmodal_update_stored_ahora-168"></a>
</span><span id="__span-fhmodal_update_stored_ahora-169"><a id="__codelineno-fhmodal_update_stored_ahora-169" name="__codelineno-fhmodal_update_stored_ahora-169" href="#__codelineno-fhmodal_update_stored_ahora-169"></a><span class="w">    </span><span class="c1">-- Process return values</span>
</span><span id="__span-fhmodal_update_stored_ahora-170"><a id="__codelineno-fhmodal_update_stored_ahora-170" name="__codelineno-fhmodal_update_stored_ahora-170" href="#__codelineno-fhmodal_update_stored_ahora-170"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JSON_MODIFY</span><span class="p">(</span><span class="o">@</span><span class="n">RetValues</span><span class="p">,</span><span class="w"> </span><span class="s1">'$.Success'</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</span><span id="__span-fhmodal_update_stored_ahora-171"><a id="__codelineno-fhmodal_update_stored_ahora-171" name="__codelineno-fhmodal_update_stored_ahora-171" href="#__codelineno-fhmodal_update_stored_ahora-171"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JSON_MODIFY</span><span class="p">(</span><span class="o">@</span><span class="n">RetValues</span><span class="p">,</span><span class="w"> </span><span class="s1">'$.SuccessMessage'</span><span class="p">,</span><span class="w"> </span><span class="s1">'All went fine'</span><span class="p">);</span>
</span><span id="__span-fhmodal_update_stored_ahora-172"><a id="__codelineno-fhmodal_update_stored_ahora-172" name="__codelineno-fhmodal_update_stored_ahora-172" href="#__codelineno-fhmodal_update_stored_ahora-172"></a><span class="w">    </span><span class="k">RETURN</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-fhmodal_update_stored_ahora-173"><a id="__codelineno-fhmodal_update_stored_ahora-173" name="__codelineno-fhmodal_update_stored_ahora-173" href="#__codelineno-fhmodal_update_stored_ahora-173"></a><span class="k">END</span><span class="w"> </span><span class="n">TRY</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_ahora-174"><a id="__codelineno-fhmodal_update_stored_ahora-174" name="__codelineno-fhmodal_update_stored_ahora-174" href="#__codelineno-fhmodal_update_stored_ahora-174"></a>
</span><span id="__span-fhmodal_update_stored_ahora-175"><a id="__codelineno-fhmodal_update_stored_ahora-175" name="__codelineno-fhmodal_update_stored_ahora-175" href="#__codelineno-fhmodal_update_stored_ahora-175"></a><span class="k">BEGIN</span><span class="w"> </span><span class="n">CATCH</span>
</span><span id="__span-fhmodal_update_stored_ahora-176"><a id="__codelineno-fhmodal_update_stored_ahora-176" name="__codelineno-fhmodal_update_stored_ahora-176" href="#__codelineno-fhmodal_update_stored_ahora-176"></a><span class="w">    </span><span class="k">IF</span><span class="w"> </span><span class="o">@@</span><span class="n">TRANCOUNT</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">0</span><span class="w"> </span><span class="k">BEGIN</span>
</span><span id="__span-fhmodal_update_stored_ahora-177"><a id="__codelineno-fhmodal_update_stored_ahora-177" name="__codelineno-fhmodal_update_stored_ahora-177" href="#__codelineno-fhmodal_update_stored_ahora-177"></a><span class="w">        </span><span class="k">ROLLBACK</span><span class="w"> </span><span class="n">TRAN</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_stored_ahora-178"><a id="__codelineno-fhmodal_update_stored_ahora-178" name="__codelineno-fhmodal_update_stored_ahora-178" href="#__codelineno-fhmodal_update_stored_ahora-178"></a><span class="w">    </span><span class="k">END</span>
</span><span id="__span-fhmodal_update_stored_ahora-179"><a id="__codelineno-fhmodal_update_stored_ahora-179" name="__codelineno-fhmodal_update_stored_ahora-179" href="#__codelineno-fhmodal_update_stored_ahora-179"></a>
</span><span id="__span-fhmodal_update_stored_ahora-180"><a id="__codelineno-fhmodal_update_stored_ahora-180" name="__codelineno-fhmodal_update_stored_ahora-180" href="#__codelineno-fhmodal_update_stored_ahora-180"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JSON_MODIFY</span><span class="p">(</span><span class="o">@</span><span class="n">RetValues</span><span class="p">,</span><span class="w"> </span><span class="s1">'$.Success'</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
</span><span id="__span-fhmodal_update_stored_ahora-181"><a id="__codelineno-fhmodal_update_stored_ahora-181" name="__codelineno-fhmodal_update_stored_ahora-181" href="#__codelineno-fhmodal_update_stored_ahora-181"></a>
</span><span id="__span-fhmodal_update_stored_ahora-182"><a id="__codelineno-fhmodal_update_stored_ahora-182" name="__codelineno-fhmodal_update_stored_ahora-182" href="#__codelineno-fhmodal_update_stored_ahora-182"></a><span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">CatchError</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored_ahora-183"><a id="__codelineno-fhmodal_update_stored_ahora-183" name="__codelineno-fhmodal_update_stored_ahora-183" href="#__codelineno-fhmodal_update_stored_ahora-183"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">CatchError</span><span class="o">=</span><span class="n">dbo</span><span class="p">.</span><span class="n">funprintError</span><span class="p">(</span><span class="n">ERROR_MESSAGE</span><span class="p">(),</span><span class="n">ERROR_NUMBER</span><span class="p">(),</span><span class="n">ERROR_PROCEDURE</span><span class="p">(),</span><span class="o">@@</span><span class="n">PROCID</span><span class="w"> </span><span class="p">,</span><span class="n">ERROR_LINE</span><span class="p">())</span>
</span><span id="__span-fhmodal_update_stored_ahora-184"><a id="__codelineno-fhmodal_update_stored_ahora-184" name="__codelineno-fhmodal_update_stored_ahora-184" href="#__codelineno-fhmodal_update_stored_ahora-184"></a><span class="w">    </span><span class="n">RAISERROR</span><span class="p">(</span><span class="o">@</span><span class="n">CatchError</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_stored_ahora-185"><a id="__codelineno-fhmodal_update_stored_ahora-185" name="__codelineno-fhmodal_update_stored_ahora-185" href="#__codelineno-fhmodal_update_stored_ahora-185"></a>
</span><span id="__span-fhmodal_update_stored_ahora-186"><a id="__codelineno-fhmodal_update_stored_ahora-186" name="__codelineno-fhmodal_update_stored_ahora-186" href="#__codelineno-fhmodal_update_stored_ahora-186"></a><span class="w">    </span><span class="k">RETURN</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-fhmodal_update_stored_ahora-187"><a id="__codelineno-fhmodal_update_stored_ahora-187" name="__codelineno-fhmodal_update_stored_ahora-187" href="#__codelineno-fhmodal_update_stored_ahora-187"></a><span class="k">END</span><span class="w"> </span><span class="n">CATCH</span>
</span><span id="__span-fhmodal_update_stored_ahora-188"><a id="__codelineno-fhmodal_update_stored_ahora-188" name="__codelineno-fhmodal_update_stored_ahora-188" href="#__codelineno-fhmodal_update_stored_ahora-188"></a><span class="k">GO</span>
</span></code></pre></div>
<div id="fhmodal_delete_stored_ahora" class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-fhmodal_delete_stored_ahora-1"><a id="__codelineno-fhmodal_delete_stored_ahora-1" name="__codelineno-fhmodal_delete_stored_ahora-1" href="#__codelineno-fhmodal_delete_stored_ahora-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">PROCEDURE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">P_TestDelete_Stored</span><span class="p">]</span><span class="w">  </span>
</span><span id="__span-fhmodal_delete_stored_ahora-2"><a id="__codelineno-fhmodal_delete_stored_ahora-2" name="__codelineno-fhmodal_delete_stored_ahora-2" href="#__codelineno-fhmodal_delete_stored_ahora-2"></a><span class="w">    </span><span class="o">@</span><span class="k">Values</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="k">OUTPUT</span><span class="p">,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-3"><a id="__codelineno-fhmodal_delete_stored_ahora-3" name="__codelineno-fhmodal_delete_stored_ahora-3" href="#__codelineno-fhmodal_delete_stored_ahora-3"></a><span class="w">    </span><span class="o">@</span><span class="n">RetValues</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="k">OUTPUT</span><span class="w">   </span>
</span><span id="__span-fhmodal_delete_stored_ahora-4"><a id="__codelineno-fhmodal_delete_stored_ahora-4" name="__codelineno-fhmodal_delete_stored_ahora-4" href="#__codelineno-fhmodal_delete_stored_ahora-4"></a><span class="w">    </span><span class="k">AS</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_stored_ahora-5"><a id="__codelineno-fhmodal_delete_stored_ahora-5" name="__codelineno-fhmodal_delete_stored_ahora-5" href="#__codelineno-fhmodal_delete_stored_ahora-5"></a><span class="w">    </span><span class="c1">----------------------------------------------------------------------------------</span>
</span><span id="__span-fhmodal_delete_stored_ahora-6"><a id="__codelineno-fhmodal_delete_stored_ahora-6" name="__codelineno-fhmodal_delete_stored_ahora-6" href="#__codelineno-fhmodal_delete_stored_ahora-6"></a><span class="c1">--#NAME</span>
</span><span id="__span-fhmodal_delete_stored_ahora-7"><a id="__codelineno-fhmodal_delete_stored_ahora-7" name="__codelineno-fhmodal_delete_stored_ahora-7" href="#__codelineno-fhmodal_delete_stored_ahora-7"></a><span class="c1">--      P_TestDelete_Stored</span>
</span><span id="__span-fhmodal_delete_stored_ahora-8"><a id="__codelineno-fhmodal_delete_stored_ahora-8" name="__codelineno-fhmodal_delete_stored_ahora-8" href="#__codelineno-fhmodal_delete_stored_ahora-8"></a><span class="c1">--#PARAMETERS</span>
</span><span id="__span-fhmodal_delete_stored_ahora-9"><a id="__codelineno-fhmodal_delete_stored_ahora-9" name="__codelineno-fhmodal_delete_stored_ahora-9" href="#__codelineno-fhmodal_delete_stored_ahora-9"></a><span class="c1">--      @Values OUTPUT (Required) : Object properties values,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-10"><a id="__codelineno-fhmodal_delete_stored_ahora-10" name="__codelineno-fhmodal_delete_stored_ahora-10" href="#__codelineno-fhmodal_delete_stored_ahora-10"></a><span class="c1">--      @OldValues (Optional) : Old object properties values,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-11"><a id="__codelineno-fhmodal_delete_stored_ahora-11" name="__codelineno-fhmodal_delete_stored_ahora-11" href="#__codelineno-fhmodal_delete_stored_ahora-11"></a><span class="c1">--      @Schema (Optional) : Schema object properties,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-12"><a id="__codelineno-fhmodal_delete_stored_ahora-12" name="__codelineno-fhmodal_delete_stored_ahora-12" href="#__codelineno-fhmodal_delete_stored_ahora-12"></a><span class="c1">--      @ContextVars (Optional): Flexygo context variables,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-13"><a id="__codelineno-fhmodal_delete_stored_ahora-13" name="__codelineno-fhmodal_delete_stored_ahora-13" href="#__codelineno-fhmodal_delete_stored_ahora-13"></a><span class="c1">--      @RetValues OUTPUT (Required) : Flexygo process Helper</span>
</span><span id="__span-fhmodal_delete_stored_ahora-14"><a id="__codelineno-fhmodal_delete_stored_ahora-14" name="__codelineno-fhmodal_delete_stored_ahora-14" href="#__codelineno-fhmodal_delete_stored_ahora-14"></a><span class="c1">--#OBSERVATIONS</span>
</span><span id="__span-fhmodal_delete_stored_ahora-15"><a id="__codelineno-fhmodal_delete_stored_ahora-15" name="__codelineno-fhmodal_delete_stored_ahora-15" href="#__codelineno-fhmodal_delete_stored_ahora-15"></a><span class="c1">-- Values JSON Sample</span>
</span><span id="__span-fhmodal_delete_stored_ahora-16"><a id="__codelineno-fhmodal_delete_stored_ahora-16" name="__codelineno-fhmodal_delete_stored_ahora-16" href="#__codelineno-fhmodal_delete_stored_ahora-16"></a><span class="c1">--   {</span>
</span><span id="__span-fhmodal_delete_stored_ahora-17"><a id="__codelineno-fhmodal_delete_stored_ahora-17" name="__codelineno-fhmodal_delete_stored_ahora-17" href="#__codelineno-fhmodal_delete_stored_ahora-17"></a><span class="c1">--    "TestId": 1,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-18"><a id="__codelineno-fhmodal_delete_stored_ahora-18" name="__codelineno-fhmodal_delete_stored_ahora-18" href="#__codelineno-fhmodal_delete_stored_ahora-18"></a><span class="c1">--    "Descrip": "Test",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-19"><a id="__codelineno-fhmodal_delete_stored_ahora-19" name="__codelineno-fhmodal_delete_stored_ahora-19" href="#__codelineno-fhmodal_delete_stored_ahora-19"></a><span class="c1">--    "IdDoc": null,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-20"><a id="__codelineno-fhmodal_delete_stored_ahora-20" name="__codelineno-fhmodal_delete_stored_ahora-20" href="#__codelineno-fhmodal_delete_stored_ahora-20"></a><span class="c1">--    "InsertUpdate": null,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-21"><a id="__codelineno-fhmodal_delete_stored_ahora-21" name="__codelineno-fhmodal_delete_stored_ahora-21" href="#__codelineno-fhmodal_delete_stored_ahora-21"></a><span class="c1">--    "User": "admin",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-22"><a id="__codelineno-fhmodal_delete_stored_ahora-22" name="__codelineno-fhmodal_delete_stored_ahora-22" href="#__codelineno-fhmodal_delete_stored_ahora-22"></a><span class="c1">--    "InsertUpdateDate": "2025-04-23T16:23:00",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-23"><a id="__codelineno-fhmodal_delete_stored_ahora-23" name="__codelineno-fhmodal_delete_stored_ahora-23" href="#__codelineno-fhmodal_delete_stored_ahora-23"></a><span class="c1">--    "Config": "TestConfig"</span>
</span><span id="__span-fhmodal_delete_stored_ahora-24"><a id="__codelineno-fhmodal_delete_stored_ahora-24" name="__codelineno-fhmodal_delete_stored_ahora-24" href="#__codelineno-fhmodal_delete_stored_ahora-24"></a><span class="c1">--   }</span>
</span><span id="__span-fhmodal_delete_stored_ahora-25"><a id="__codelineno-fhmodal_delete_stored_ahora-25" name="__codelineno-fhmodal_delete_stored_ahora-25" href="#__codelineno-fhmodal_delete_stored_ahora-25"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_delete_stored_ahora-26"><a id="__codelineno-fhmodal_delete_stored_ahora-26" name="__codelineno-fhmodal_delete_stored_ahora-26" href="#__codelineno-fhmodal_delete_stored_ahora-26"></a><span class="c1">-- Old Values JSON Sample</span>
</span><span id="__span-fhmodal_delete_stored_ahora-27"><a id="__codelineno-fhmodal_delete_stored_ahora-27" name="__codelineno-fhmodal_delete_stored_ahora-27" href="#__codelineno-fhmodal_delete_stored_ahora-27"></a><span class="c1">--   {</span>
</span><span id="__span-fhmodal_delete_stored_ahora-28"><a id="__codelineno-fhmodal_delete_stored_ahora-28" name="__codelineno-fhmodal_delete_stored_ahora-28" href="#__codelineno-fhmodal_delete_stored_ahora-28"></a><span class="c1">--    "TestId": 1,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-29"><a id="__codelineno-fhmodal_delete_stored_ahora-29" name="__codelineno-fhmodal_delete_stored_ahora-29" href="#__codelineno-fhmodal_delete_stored_ahora-29"></a><span class="c1">--    "Descrip": "Test",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-30"><a id="__codelineno-fhmodal_delete_stored_ahora-30" name="__codelineno-fhmodal_delete_stored_ahora-30" href="#__codelineno-fhmodal_delete_stored_ahora-30"></a><span class="c1">--    "IdDoc": null,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-31"><a id="__codelineno-fhmodal_delete_stored_ahora-31" name="__codelineno-fhmodal_delete_stored_ahora-31" href="#__codelineno-fhmodal_delete_stored_ahora-31"></a><span class="c1">--    "InsertUpdate": null,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-32"><a id="__codelineno-fhmodal_delete_stored_ahora-32" name="__codelineno-fhmodal_delete_stored_ahora-32" href="#__codelineno-fhmodal_delete_stored_ahora-32"></a><span class="c1">--    "User": "admin",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-33"><a id="__codelineno-fhmodal_delete_stored_ahora-33" name="__codelineno-fhmodal_delete_stored_ahora-33" href="#__codelineno-fhmodal_delete_stored_ahora-33"></a><span class="c1">--    "InsertUpdateDate": "2025-04-23T16:23:00",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-34"><a id="__codelineno-fhmodal_delete_stored_ahora-34" name="__codelineno-fhmodal_delete_stored_ahora-34" href="#__codelineno-fhmodal_delete_stored_ahora-34"></a><span class="c1">--    "Config": null</span>
</span><span id="__span-fhmodal_delete_stored_ahora-35"><a id="__codelineno-fhmodal_delete_stored_ahora-35" name="__codelineno-fhmodal_delete_stored_ahora-35" href="#__codelineno-fhmodal_delete_stored_ahora-35"></a><span class="c1">--   }</span>
</span><span id="__span-fhmodal_delete_stored_ahora-36"><a id="__codelineno-fhmodal_delete_stored_ahora-36" name="__codelineno-fhmodal_delete_stored_ahora-36" href="#__codelineno-fhmodal_delete_stored_ahora-36"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_delete_stored_ahora-37"><a id="__codelineno-fhmodal_delete_stored_ahora-37" name="__codelineno-fhmodal_delete_stored_ahora-37" href="#__codelineno-fhmodal_delete_stored_ahora-37"></a><span class="c1">-- Schema JSON Sample</span>
</span><span id="__span-fhmodal_delete_stored_ahora-38"><a id="__codelineno-fhmodal_delete_stored_ahora-38" name="__codelineno-fhmodal_delete_stored_ahora-38" href="#__codelineno-fhmodal_delete_stored_ahora-38"></a><span class="c1">--   {</span>
</span><span id="__span-fhmodal_delete_stored_ahora-39"><a id="__codelineno-fhmodal_delete_stored_ahora-39" name="__codelineno-fhmodal_delete_stored_ahora-39" href="#__codelineno-fhmodal_delete_stored_ahora-39"></a><span class="c1">--    "RowId": "714a1a4b-b2ce-4f4b-8f5c-a7acc274da85",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-40"><a id="__codelineno-fhmodal_delete_stored_ahora-40" name="__codelineno-fhmodal_delete_stored_ahora-40" href="#__codelineno-fhmodal_delete_stored_ahora-40"></a><span class="c1">--    "ObjectName": "Test",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-41"><a id="__codelineno-fhmodal_delete_stored_ahora-41" name="__codelineno-fhmodal_delete_stored_ahora-41" href="#__codelineno-fhmodal_delete_stored_ahora-41"></a><span class="c1">--    "Schema": {</span>
</span><span id="__span-fhmodal_delete_stored_ahora-42"><a id="__codelineno-fhmodal_delete_stored_ahora-42" name="__codelineno-fhmodal_delete_stored_ahora-42" href="#__codelineno-fhmodal_delete_stored_ahora-42"></a><span class="c1">--        "TestId": {</span>
</span><span id="__span-fhmodal_delete_stored_ahora-43"><a id="__codelineno-fhmodal_delete_stored_ahora-43" name="__codelineno-fhmodal_delete_stored_ahora-43" href="#__codelineno-fhmodal_delete_stored_ahora-43"></a><span class="c1">--            "Name": "TestId",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-44"><a id="__codelineno-fhmodal_delete_stored_ahora-44" name="__codelineno-fhmodal_delete_stored_ahora-44" href="#__codelineno-fhmodal_delete_stored_ahora-44"></a><span class="c1">--            "Value": 1,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-45"><a id="__codelineno-fhmodal_delete_stored_ahora-45" name="__codelineno-fhmodal_delete_stored_ahora-45" href="#__codelineno-fhmodal_delete_stored_ahora-45"></a><span class="c1">--            "OldValue": null,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-46"><a id="__codelineno-fhmodal_delete_stored_ahora-46" name="__codelineno-fhmodal_delete_stored_ahora-46" href="#__codelineno-fhmodal_delete_stored_ahora-46"></a><span class="c1">--            "TableName": "Test",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-47"><a id="__codelineno-fhmodal_delete_stored_ahora-47" name="__codelineno-fhmodal_delete_stored_ahora-47" href="#__codelineno-fhmodal_delete_stored_ahora-47"></a><span class="c1">--            "IsKey": true</span>
</span><span id="__span-fhmodal_delete_stored_ahora-48"><a id="__codelineno-fhmodal_delete_stored_ahora-48" name="__codelineno-fhmodal_delete_stored_ahora-48" href="#__codelineno-fhmodal_delete_stored_ahora-48"></a><span class="c1">--        },</span>
</span><span id="__span-fhmodal_delete_stored_ahora-49"><a id="__codelineno-fhmodal_delete_stored_ahora-49" name="__codelineno-fhmodal_delete_stored_ahora-49" href="#__codelineno-fhmodal_delete_stored_ahora-49"></a><span class="c1">--        "Descrip": {</span>
</span><span id="__span-fhmodal_delete_stored_ahora-50"><a id="__codelineno-fhmodal_delete_stored_ahora-50" name="__codelineno-fhmodal_delete_stored_ahora-50" href="#__codelineno-fhmodal_delete_stored_ahora-50"></a><span class="c1">--            "Name": "Descrip",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-51"><a id="__codelineno-fhmodal_delete_stored_ahora-51" name="__codelineno-fhmodal_delete_stored_ahora-51" href="#__codelineno-fhmodal_delete_stored_ahora-51"></a><span class="c1">--            "Value": "Test",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-52"><a id="__codelineno-fhmodal_delete_stored_ahora-52" name="__codelineno-fhmodal_delete_stored_ahora-52" href="#__codelineno-fhmodal_delete_stored_ahora-52"></a><span class="c1">--            "OldValue": null,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-53"><a id="__codelineno-fhmodal_delete_stored_ahora-53" name="__codelineno-fhmodal_delete_stored_ahora-53" href="#__codelineno-fhmodal_delete_stored_ahora-53"></a><span class="c1">--            "TableName": "Test",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-54"><a id="__codelineno-fhmodal_delete_stored_ahora-54" name="__codelineno-fhmodal_delete_stored_ahora-54" href="#__codelineno-fhmodal_delete_stored_ahora-54"></a><span class="c1">--            "IsKey": false</span>
</span><span id="__span-fhmodal_delete_stored_ahora-55"><a id="__codelineno-fhmodal_delete_stored_ahora-55" name="__codelineno-fhmodal_delete_stored_ahora-55" href="#__codelineno-fhmodal_delete_stored_ahora-55"></a><span class="c1">--        },</span>
</span><span id="__span-fhmodal_delete_stored_ahora-56"><a id="__codelineno-fhmodal_delete_stored_ahora-56" name="__codelineno-fhmodal_delete_stored_ahora-56" href="#__codelineno-fhmodal_delete_stored_ahora-56"></a><span class="c1">--        "IdDoc": {</span>
</span><span id="__span-fhmodal_delete_stored_ahora-57"><a id="__codelineno-fhmodal_delete_stored_ahora-57" name="__codelineno-fhmodal_delete_stored_ahora-57" href="#__codelineno-fhmodal_delete_stored_ahora-57"></a><span class="c1">--            "Name": "IdDoc",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-58"><a id="__codelineno-fhmodal_delete_stored_ahora-58" name="__codelineno-fhmodal_delete_stored_ahora-58" href="#__codelineno-fhmodal_delete_stored_ahora-58"></a><span class="c1">--            "Value": null,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-59"><a id="__codelineno-fhmodal_delete_stored_ahora-59" name="__codelineno-fhmodal_delete_stored_ahora-59" href="#__codelineno-fhmodal_delete_stored_ahora-59"></a><span class="c1">--            "OldValue": null,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-60"><a id="__codelineno-fhmodal_delete_stored_ahora-60" name="__codelineno-fhmodal_delete_stored_ahora-60" href="#__codelineno-fhmodal_delete_stored_ahora-60"></a><span class="c1">--            "TableName": "Test",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-61"><a id="__codelineno-fhmodal_delete_stored_ahora-61" name="__codelineno-fhmodal_delete_stored_ahora-61" href="#__codelineno-fhmodal_delete_stored_ahora-61"></a><span class="c1">--            "IsKey": false</span>
</span><span id="__span-fhmodal_delete_stored_ahora-62"><a id="__codelineno-fhmodal_delete_stored_ahora-62" name="__codelineno-fhmodal_delete_stored_ahora-62" href="#__codelineno-fhmodal_delete_stored_ahora-62"></a><span class="c1">--        },</span>
</span><span id="__span-fhmodal_delete_stored_ahora-63"><a id="__codelineno-fhmodal_delete_stored_ahora-63" name="__codelineno-fhmodal_delete_stored_ahora-63" href="#__codelineno-fhmodal_delete_stored_ahora-63"></a><span class="c1">--        "InsertUpdate": {</span>
</span><span id="__span-fhmodal_delete_stored_ahora-64"><a id="__codelineno-fhmodal_delete_stored_ahora-64" name="__codelineno-fhmodal_delete_stored_ahora-64" href="#__codelineno-fhmodal_delete_stored_ahora-64"></a><span class="c1">--            "Name": "InsertUpdate",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-65"><a id="__codelineno-fhmodal_delete_stored_ahora-65" name="__codelineno-fhmodal_delete_stored_ahora-65" href="#__codelineno-fhmodal_delete_stored_ahora-65"></a><span class="c1">--            "Value": null,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-66"><a id="__codelineno-fhmodal_delete_stored_ahora-66" name="__codelineno-fhmodal_delete_stored_ahora-66" href="#__codelineno-fhmodal_delete_stored_ahora-66"></a><span class="c1">--            "OldValue": null,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-67"><a id="__codelineno-fhmodal_delete_stored_ahora-67" name="__codelineno-fhmodal_delete_stored_ahora-67" href="#__codelineno-fhmodal_delete_stored_ahora-67"></a><span class="c1">--            "TableName": "Test",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-68"><a id="__codelineno-fhmodal_delete_stored_ahora-68" name="__codelineno-fhmodal_delete_stored_ahora-68" href="#__codelineno-fhmodal_delete_stored_ahora-68"></a><span class="c1">--            "IsKey": false</span>
</span><span id="__span-fhmodal_delete_stored_ahora-69"><a id="__codelineno-fhmodal_delete_stored_ahora-69" name="__codelineno-fhmodal_delete_stored_ahora-69" href="#__codelineno-fhmodal_delete_stored_ahora-69"></a><span class="c1">--        },</span>
</span><span id="__span-fhmodal_delete_stored_ahora-70"><a id="__codelineno-fhmodal_delete_stored_ahora-70" name="__codelineno-fhmodal_delete_stored_ahora-70" href="#__codelineno-fhmodal_delete_stored_ahora-70"></a><span class="c1">--        "User": {</span>
</span><span id="__span-fhmodal_delete_stored_ahora-71"><a id="__codelineno-fhmodal_delete_stored_ahora-71" name="__codelineno-fhmodal_delete_stored_ahora-71" href="#__codelineno-fhmodal_delete_stored_ahora-71"></a><span class="c1">--            "Name": "User",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-72"><a id="__codelineno-fhmodal_delete_stored_ahora-72" name="__codelineno-fhmodal_delete_stored_ahora-72" href="#__codelineno-fhmodal_delete_stored_ahora-72"></a><span class="c1">--            "Value": "admin",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-73"><a id="__codelineno-fhmodal_delete_stored_ahora-73" name="__codelineno-fhmodal_delete_stored_ahora-73" href="#__codelineno-fhmodal_delete_stored_ahora-73"></a><span class="c1">--            "OldValue": null,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-74"><a id="__codelineno-fhmodal_delete_stored_ahora-74" name="__codelineno-fhmodal_delete_stored_ahora-74" href="#__codelineno-fhmodal_delete_stored_ahora-74"></a><span class="c1">--            "TableName": "Test",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-75"><a id="__codelineno-fhmodal_delete_stored_ahora-75" name="__codelineno-fhmodal_delete_stored_ahora-75" href="#__codelineno-fhmodal_delete_stored_ahora-75"></a><span class="c1">--            "IsKey": false</span>
</span><span id="__span-fhmodal_delete_stored_ahora-76"><a id="__codelineno-fhmodal_delete_stored_ahora-76" name="__codelineno-fhmodal_delete_stored_ahora-76" href="#__codelineno-fhmodal_delete_stored_ahora-76"></a><span class="c1">--        },</span>
</span><span id="__span-fhmodal_delete_stored_ahora-77"><a id="__codelineno-fhmodal_delete_stored_ahora-77" name="__codelineno-fhmodal_delete_stored_ahora-77" href="#__codelineno-fhmodal_delete_stored_ahora-77"></a><span class="c1">--        "InsertUpdateDate": {</span>
</span><span id="__span-fhmodal_delete_stored_ahora-78"><a id="__codelineno-fhmodal_delete_stored_ahora-78" name="__codelineno-fhmodal_delete_stored_ahora-78" href="#__codelineno-fhmodal_delete_stored_ahora-78"></a><span class="c1">--            "Name": "InsertUpdateDate",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-79"><a id="__codelineno-fhmodal_delete_stored_ahora-79" name="__codelineno-fhmodal_delete_stored_ahora-79" href="#__codelineno-fhmodal_delete_stored_ahora-79"></a><span class="c1">--            "Value": "2025-04-23T16:23:00",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-80"><a id="__codelineno-fhmodal_delete_stored_ahora-80" name="__codelineno-fhmodal_delete_stored_ahora-80" href="#__codelineno-fhmodal_delete_stored_ahora-80"></a><span class="c1">--            "OldValue": null,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-81"><a id="__codelineno-fhmodal_delete_stored_ahora-81" name="__codelineno-fhmodal_delete_stored_ahora-81" href="#__codelineno-fhmodal_delete_stored_ahora-81"></a><span class="c1">--            "TableName": "Test",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-82"><a id="__codelineno-fhmodal_delete_stored_ahora-82" name="__codelineno-fhmodal_delete_stored_ahora-82" href="#__codelineno-fhmodal_delete_stored_ahora-82"></a><span class="c1">--            "IsKey": false</span>
</span><span id="__span-fhmodal_delete_stored_ahora-83"><a id="__codelineno-fhmodal_delete_stored_ahora-83" name="__codelineno-fhmodal_delete_stored_ahora-83" href="#__codelineno-fhmodal_delete_stored_ahora-83"></a><span class="c1">--        },</span>
</span><span id="__span-fhmodal_delete_stored_ahora-84"><a id="__codelineno-fhmodal_delete_stored_ahora-84" name="__codelineno-fhmodal_delete_stored_ahora-84" href="#__codelineno-fhmodal_delete_stored_ahora-84"></a><span class="c1">--        "Config": {</span>
</span><span id="__span-fhmodal_delete_stored_ahora-85"><a id="__codelineno-fhmodal_delete_stored_ahora-85" name="__codelineno-fhmodal_delete_stored_ahora-85" href="#__codelineno-fhmodal_delete_stored_ahora-85"></a><span class="c1">--            "Name": "Config",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-86"><a id="__codelineno-fhmodal_delete_stored_ahora-86" name="__codelineno-fhmodal_delete_stored_ahora-86" href="#__codelineno-fhmodal_delete_stored_ahora-86"></a><span class="c1">--            "Value": "TestConfig",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-87"><a id="__codelineno-fhmodal_delete_stored_ahora-87" name="__codelineno-fhmodal_delete_stored_ahora-87" href="#__codelineno-fhmodal_delete_stored_ahora-87"></a><span class="c1">--            "OldValue": null,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-88"><a id="__codelineno-fhmodal_delete_stored_ahora-88" name="__codelineno-fhmodal_delete_stored_ahora-88" href="#__codelineno-fhmodal_delete_stored_ahora-88"></a><span class="c1">--            "TableName": "Test_Conf",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-89"><a id="__codelineno-fhmodal_delete_stored_ahora-89" name="__codelineno-fhmodal_delete_stored_ahora-89" href="#__codelineno-fhmodal_delete_stored_ahora-89"></a><span class="c1">--            "IsKey": false</span>
</span><span id="__span-fhmodal_delete_stored_ahora-90"><a id="__codelineno-fhmodal_delete_stored_ahora-90" name="__codelineno-fhmodal_delete_stored_ahora-90" href="#__codelineno-fhmodal_delete_stored_ahora-90"></a><span class="c1">--        }</span>
</span><span id="__span-fhmodal_delete_stored_ahora-91"><a id="__codelineno-fhmodal_delete_stored_ahora-91" name="__codelineno-fhmodal_delete_stored_ahora-91" href="#__codelineno-fhmodal_delete_stored_ahora-91"></a><span class="c1">--      }</span>
</span><span id="__span-fhmodal_delete_stored_ahora-92"><a id="__codelineno-fhmodal_delete_stored_ahora-92" name="__codelineno-fhmodal_delete_stored_ahora-92" href="#__codelineno-fhmodal_delete_stored_ahora-92"></a><span class="c1">--   }</span>
</span><span id="__span-fhmodal_delete_stored_ahora-93"><a id="__codelineno-fhmodal_delete_stored_ahora-93" name="__codelineno-fhmodal_delete_stored_ahora-93" href="#__codelineno-fhmodal_delete_stored_ahora-93"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_delete_stored_ahora-94"><a id="__codelineno-fhmodal_delete_stored_ahora-94" name="__codelineno-fhmodal_delete_stored_ahora-94" href="#__codelineno-fhmodal_delete_stored_ahora-94"></a><span class="c1">-- ContextVars JSON Sample      </span>
</span><span id="__span-fhmodal_delete_stored_ahora-95"><a id="__codelineno-fhmodal_delete_stored_ahora-95" name="__codelineno-fhmodal_delete_stored_ahora-95" href="#__codelineno-fhmodal_delete_stored_ahora-95"></a><span class="c1">--   {</span>
</span><span id="__span-fhmodal_delete_stored_ahora-96"><a id="__codelineno-fhmodal_delete_stored_ahora-96" name="__codelineno-fhmodal_delete_stored_ahora-96" href="#__codelineno-fhmodal_delete_stored_ahora-96"></a><span class="c1">--    "currentReference": "0",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-97"><a id="__codelineno-fhmodal_delete_stored_ahora-97" name="__codelineno-fhmodal_delete_stored_ahora-97" href="#__codelineno-fhmodal_delete_stored_ahora-97"></a><span class="c1">--    "currentSubreference": "0",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-98"><a id="__codelineno-fhmodal_delete_stored_ahora-98" name="__codelineno-fhmodal_delete_stored_ahora-98" href="#__codelineno-fhmodal_delete_stored_ahora-98"></a><span class="c1">--    "currentRole": "Admins",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-99"><a id="__codelineno-fhmodal_delete_stored_ahora-99" name="__codelineno-fhmodal_delete_stored_ahora-99" href="#__codelineno-fhmodal_delete_stored_ahora-99"></a><span class="c1">--    "currentRoleId": "admins",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-100"><a id="__codelineno-fhmodal_delete_stored_ahora-100" name="__codelineno-fhmodal_delete_stored_ahora-100" href="#__codelineno-fhmodal_delete_stored_ahora-100"></a><span class="c1">--    "currentUserLogin": "admin",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-101"><a id="__codelineno-fhmodal_delete_stored_ahora-101" name="__codelineno-fhmodal_delete_stored_ahora-101" href="#__codelineno-fhmodal_delete_stored_ahora-101"></a><span class="c1">--    "currentUserId": "1",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-102"><a id="__codelineno-fhmodal_delete_stored_ahora-102" name="__codelineno-fhmodal_delete_stored_ahora-102" href="#__codelineno-fhmodal_delete_stored_ahora-102"></a><span class="c1">--    "currentUserFullName": "Admin Admin",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-103"><a id="__codelineno-fhmodal_delete_stored_ahora-103" name="__codelineno-fhmodal_delete_stored_ahora-103" href="#__codelineno-fhmodal_delete_stored_ahora-103"></a><span class="c1">--    "currentUserCultureId": "en-gb",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-104"><a id="__codelineno-fhmodal_delete_stored_ahora-104" name="__codelineno-fhmodal_delete_stored_ahora-104" href="#__codelineno-fhmodal_delete_stored_ahora-104"></a><span class="c1">--    "currentUserLang": "en",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-105"><a id="__codelineno-fhmodal_delete_stored_ahora-105" name="__codelineno-fhmodal_delete_stored_ahora-105" href="#__codelineno-fhmodal_delete_stored_ahora-105"></a><span class="c1">--    "currentUserEmail": "mail@mail.es.com"</span>
</span><span id="__span-fhmodal_delete_stored_ahora-106"><a id="__codelineno-fhmodal_delete_stored_ahora-106" name="__codelineno-fhmodal_delete_stored_ahora-106" href="#__codelineno-fhmodal_delete_stored_ahora-106"></a><span class="c1">--   }</span>
</span><span id="__span-fhmodal_delete_stored_ahora-107"><a id="__codelineno-fhmodal_delete_stored_ahora-107" name="__codelineno-fhmodal_delete_stored_ahora-107" href="#__codelineno-fhmodal_delete_stored_ahora-107"></a><span class="c1">--</span>
</span><span id="__span-fhmodal_delete_stored_ahora-108"><a id="__codelineno-fhmodal_delete_stored_ahora-108" name="__codelineno-fhmodal_delete_stored_ahora-108" href="#__codelineno-fhmodal_delete_stored_ahora-108"></a><span class="c1">-- Return vars JSON Sample      </span>
</span><span id="__span-fhmodal_delete_stored_ahora-109"><a id="__codelineno-fhmodal_delete_stored_ahora-109" name="__codelineno-fhmodal_delete_stored_ahora-109" href="#__codelineno-fhmodal_delete_stored_ahora-109"></a><span class="c1">--   {</span>
</span><span id="__span-fhmodal_delete_stored_ahora-110"><a id="__codelineno-fhmodal_delete_stored_ahora-110" name="__codelineno-fhmodal_delete_stored_ahora-110" href="#__codelineno-fhmodal_delete_stored_ahora-110"></a><span class="c1">--    "Success": false,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-111"><a id="__codelineno-fhmodal_delete_stored_ahora-111" name="__codelineno-fhmodal_delete_stored_ahora-111" href="#__codelineno-fhmodal_delete_stored_ahora-111"></a><span class="c1">--    "SuccessMessage": "",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-112"><a id="__codelineno-fhmodal_delete_stored_ahora-112" name="__codelineno-fhmodal_delete_stored_ahora-112" href="#__codelineno-fhmodal_delete_stored_ahora-112"></a><span class="c1">--    "WarningMessage": "",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-113"><a id="__codelineno-fhmodal_delete_stored_ahora-113" name="__codelineno-fhmodal_delete_stored_ahora-113" href="#__codelineno-fhmodal_delete_stored_ahora-113"></a><span class="c1">--    "LastException": null,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-114"><a id="__codelineno-fhmodal_delete_stored_ahora-114" name="__codelineno-fhmodal_delete_stored_ahora-114" href="#__codelineno-fhmodal_delete_stored_ahora-114"></a><span class="c1">--    "LastAfterProcessName": null,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-115"><a id="__codelineno-fhmodal_delete_stored_ahora-115" name="__codelineno-fhmodal_delete_stored_ahora-115" href="#__codelineno-fhmodal_delete_stored_ahora-115"></a><span class="c1">--    "LastProcessName": null,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-116"><a id="__codelineno-fhmodal_delete_stored_ahora-116" name="__codelineno-fhmodal_delete_stored_ahora-116" href="#__codelineno-fhmodal_delete_stored_ahora-116"></a><span class="c1">--    "MoreProcesses": false,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-117"><a id="__codelineno-fhmodal_delete_stored_ahora-117" name="__codelineno-fhmodal_delete_stored_ahora-117" href="#__codelineno-fhmodal_delete_stored_ahora-117"></a><span class="c1">--    "JSCode": "",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-118"><a id="__codelineno-fhmodal_delete_stored_ahora-118" name="__codelineno-fhmodal_delete_stored_ahora-118" href="#__codelineno-fhmodal_delete_stored_ahora-118"></a><span class="c1">--    "JSFile": "",</span>
</span><span id="__span-fhmodal_delete_stored_ahora-119"><a id="__codelineno-fhmodal_delete_stored_ahora-119" name="__codelineno-fhmodal_delete_stored_ahora-119" href="#__codelineno-fhmodal_delete_stored_ahora-119"></a><span class="c1">--    "Data": {},</span>
</span><span id="__span-fhmodal_delete_stored_ahora-120"><a id="__codelineno-fhmodal_delete_stored_ahora-120" name="__codelineno-fhmodal_delete_stored_ahora-120" href="#__codelineno-fhmodal_delete_stored_ahora-120"></a><span class="c1">--    "CloseParamWindow": false,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-121"><a id="__codelineno-fhmodal_delete_stored_ahora-121" name="__codelineno-fhmodal_delete_stored_ahora-121" href="#__codelineno-fhmodal_delete_stored_ahora-121"></a><span class="c1">--    "ClearSelectionBag": false,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-122"><a id="__codelineno-fhmodal_delete_stored_ahora-122" name="__codelineno-fhmodal_delete_stored_ahora-122" href="#__codelineno-fhmodal_delete_stored_ahora-122"></a><span class="c1">--    "Refresh": false,</span>
</span><span id="__span-fhmodal_delete_stored_ahora-123"><a id="__codelineno-fhmodal_delete_stored_ahora-123" name="__codelineno-fhmodal_delete_stored_ahora-123" href="#__codelineno-fhmodal_delete_stored_ahora-123"></a><span class="c1">--    "LastExecutedProcess": null</span>
</span><span id="__span-fhmodal_delete_stored_ahora-124"><a id="__codelineno-fhmodal_delete_stored_ahora-124" name="__codelineno-fhmodal_delete_stored_ahora-124" href="#__codelineno-fhmodal_delete_stored_ahora-124"></a><span class="c1">--   }</span>
</span><span id="__span-fhmodal_delete_stored_ahora-125"><a id="__codelineno-fhmodal_delete_stored_ahora-125" name="__codelineno-fhmodal_delete_stored_ahora-125" href="#__codelineno-fhmodal_delete_stored_ahora-125"></a><span class="c1">----------------------------------------------------------------------------------</span>
</span><span id="__span-fhmodal_delete_stored_ahora-126"><a id="__codelineno-fhmodal_delete_stored_ahora-126" name="__codelineno-fhmodal_delete_stored_ahora-126" href="#__codelineno-fhmodal_delete_stored_ahora-126"></a><span class="k">BEGIN</span><span class="w"> </span><span class="n">TRY</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_stored_ahora-127"><a id="__codelineno-fhmodal_delete_stored_ahora-127" name="__codelineno-fhmodal_delete_stored_ahora-127" href="#__codelineno-fhmodal_delete_stored_ahora-127"></a>
</span><span id="__span-fhmodal_delete_stored_ahora-128"><a id="__codelineno-fhmodal_delete_stored_ahora-128" name="__codelineno-fhmodal_delete_stored_ahora-128" href="#__codelineno-fhmodal_delete_stored_ahora-128"></a><span class="w">    </span><span class="c1">--Declare field variables to load </span>
</span><span id="__span-fhmodal_delete_stored_ahora-129"><a id="__codelineno-fhmodal_delete_stored_ahora-129" name="__codelineno-fhmodal_delete_stored_ahora-129" href="#__codelineno-fhmodal_delete_stored_ahora-129"></a><span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="w"> </span><span class="nb">INT</span>
</span><span id="__span-fhmodal_delete_stored_ahora-130"><a id="__codelineno-fhmodal_delete_stored_ahora-130" name="__codelineno-fhmodal_delete_stored_ahora-130" href="#__codelineno-fhmodal_delete_stored_ahora-130"></a>
</span><span id="__span-fhmodal_delete_stored_ahora-131"><a id="__codelineno-fhmodal_delete_stored_ahora-131" name="__codelineno-fhmodal_delete_stored_ahora-131" href="#__codelineno-fhmodal_delete_stored_ahora-131"></a><span class="w">    </span><span class="k">SELECT</span>
</span><span id="__span-fhmodal_delete_stored_ahora-132"><a id="__codelineno-fhmodal_delete_stored_ahora-132" name="__codelineno-fhmodal_delete_stored_ahora-132" href="#__codelineno-fhmodal_delete_stored_ahora-132"></a><span class="w">        </span><span class="o">@</span><span class="n">TestId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">TestId</span><span class="p">]</span>
</span><span id="__span-fhmodal_delete_stored_ahora-133"><a id="__codelineno-fhmodal_delete_stored_ahora-133" name="__codelineno-fhmodal_delete_stored_ahora-133" href="#__codelineno-fhmodal_delete_stored_ahora-133"></a><span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="n">OPENJSON</span><span class="p">(</span><span class="o">@</span><span class="k">Values</span><span class="p">)</span>
</span><span id="__span-fhmodal_delete_stored_ahora-134"><a id="__codelineno-fhmodal_delete_stored_ahora-134" name="__codelineno-fhmodal_delete_stored_ahora-134" href="#__codelineno-fhmodal_delete_stored_ahora-134"></a><span class="w">    </span><span class="k">WITH</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-fhmodal_delete_stored_ahora-135"><a id="__codelineno-fhmodal_delete_stored_ahora-135" name="__codelineno-fhmodal_delete_stored_ahora-135" href="#__codelineno-fhmodal_delete_stored_ahora-135"></a><span class="w">        </span><span class="n">TestId</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="s1">'$.TestId'</span><span class="p">)</span>
</span><span id="__span-fhmodal_delete_stored_ahora-136"><a id="__codelineno-fhmodal_delete_stored_ahora-136" name="__codelineno-fhmodal_delete_stored_ahora-136" href="#__codelineno-fhmodal_delete_stored_ahora-136"></a>
</span><span id="__span-fhmodal_delete_stored_ahora-137"><a id="__codelineno-fhmodal_delete_stored_ahora-137" name="__codelineno-fhmodal_delete_stored_ahora-137" href="#__codelineno-fhmodal_delete_stored_ahora-137"></a><span class="w">    </span><span class="c1">--Delete registers</span>
</span><span id="__span-fhmodal_delete_stored_ahora-138"><a id="__codelineno-fhmodal_delete_stored_ahora-138" name="__codelineno-fhmodal_delete_stored_ahora-138" href="#__codelineno-fhmodal_delete_stored_ahora-138"></a><span class="w">    </span><span class="k">DELETE</span><span class="w"> </span><span class="n">Test_Conf</span><span class="w"> </span><span class="k">Where</span><span class="w"> </span><span class="n">TestId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span>
</span><span id="__span-fhmodal_delete_stored_ahora-139"><a id="__codelineno-fhmodal_delete_stored_ahora-139" name="__codelineno-fhmodal_delete_stored_ahora-139" href="#__codelineno-fhmodal_delete_stored_ahora-139"></a><span class="w">    </span><span class="k">DELETE</span><span class="w"> </span><span class="n">Test</span><span class="w"> </span><span class="k">Where</span><span class="w"> </span><span class="n">TestId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span>
</span><span id="__span-fhmodal_delete_stored_ahora-140"><a id="__codelineno-fhmodal_delete_stored_ahora-140" name="__codelineno-fhmodal_delete_stored_ahora-140" href="#__codelineno-fhmodal_delete_stored_ahora-140"></a>
</span><span id="__span-fhmodal_delete_stored_ahora-141"><a id="__codelineno-fhmodal_delete_stored_ahora-141" name="__codelineno-fhmodal_delete_stored_ahora-141" href="#__codelineno-fhmodal_delete_stored_ahora-141"></a><span class="w">    </span><span class="c1">-- Process return values</span>
</span><span id="__span-fhmodal_delete_stored_ahora-142"><a id="__codelineno-fhmodal_delete_stored_ahora-142" name="__codelineno-fhmodal_delete_stored_ahora-142" href="#__codelineno-fhmodal_delete_stored_ahora-142"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JSON_MODIFY</span><span class="p">(</span><span class="o">@</span><span class="n">RetValues</span><span class="p">,</span><span class="w"> </span><span class="s1">'$.Success'</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</span><span id="__span-fhmodal_delete_stored_ahora-143"><a id="__codelineno-fhmodal_delete_stored_ahora-143" name="__codelineno-fhmodal_delete_stored_ahora-143" href="#__codelineno-fhmodal_delete_stored_ahora-143"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JSON_MODIFY</span><span class="p">(</span><span class="o">@</span><span class="n">RetValues</span><span class="p">,</span><span class="w"> </span><span class="s1">'$.SuccessMessage'</span><span class="p">,</span><span class="w"> </span><span class="s1">'All went fine'</span><span class="p">);</span>
</span><span id="__span-fhmodal_delete_stored_ahora-144"><a id="__codelineno-fhmodal_delete_stored_ahora-144" name="__codelineno-fhmodal_delete_stored_ahora-144" href="#__codelineno-fhmodal_delete_stored_ahora-144"></a><span class="w">    </span><span class="k">RETURN</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-fhmodal_delete_stored_ahora-145"><a id="__codelineno-fhmodal_delete_stored_ahora-145" name="__codelineno-fhmodal_delete_stored_ahora-145" href="#__codelineno-fhmodal_delete_stored_ahora-145"></a><span class="k">END</span><span class="w"> </span><span class="n">TRY</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_stored_ahora-146"><a id="__codelineno-fhmodal_delete_stored_ahora-146" name="__codelineno-fhmodal_delete_stored_ahora-146" href="#__codelineno-fhmodal_delete_stored_ahora-146"></a>
</span><span id="__span-fhmodal_delete_stored_ahora-147"><a id="__codelineno-fhmodal_delete_stored_ahora-147" name="__codelineno-fhmodal_delete_stored_ahora-147" href="#__codelineno-fhmodal_delete_stored_ahora-147"></a><span class="k">BEGIN</span><span class="w"> </span><span class="n">CATCH</span>
</span><span id="__span-fhmodal_delete_stored_ahora-148"><a id="__codelineno-fhmodal_delete_stored_ahora-148" name="__codelineno-fhmodal_delete_stored_ahora-148" href="#__codelineno-fhmodal_delete_stored_ahora-148"></a><span class="w">    </span><span class="k">IF</span><span class="w"> </span><span class="o">@@</span><span class="n">TRANCOUNT</span><span class="w"> </span><span class="o">&gt;</span><span class="mi">0</span><span class="w"> </span><span class="k">BEGIN</span>
</span><span id="__span-fhmodal_delete_stored_ahora-149"><a id="__codelineno-fhmodal_delete_stored_ahora-149" name="__codelineno-fhmodal_delete_stored_ahora-149" href="#__codelineno-fhmodal_delete_stored_ahora-149"></a><span class="w">        </span><span class="k">ROLLBACK</span><span class="w"> </span><span class="n">TRAN</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_stored_ahora-150"><a id="__codelineno-fhmodal_delete_stored_ahora-150" name="__codelineno-fhmodal_delete_stored_ahora-150" href="#__codelineno-fhmodal_delete_stored_ahora-150"></a><span class="w">    </span><span class="k">END</span>
</span><span id="__span-fhmodal_delete_stored_ahora-151"><a id="__codelineno-fhmodal_delete_stored_ahora-151" name="__codelineno-fhmodal_delete_stored_ahora-151" href="#__codelineno-fhmodal_delete_stored_ahora-151"></a>
</span><span id="__span-fhmodal_delete_stored_ahora-152"><a id="__codelineno-fhmodal_delete_stored_ahora-152" name="__codelineno-fhmodal_delete_stored_ahora-152" href="#__codelineno-fhmodal_delete_stored_ahora-152"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">RetValues</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JSON_MODIFY</span><span class="p">(</span><span class="o">@</span><span class="n">RetValues</span><span class="p">,</span><span class="w"> </span><span class="s1">'$.Success'</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
</span><span id="__span-fhmodal_delete_stored_ahora-153"><a id="__codelineno-fhmodal_delete_stored_ahora-153" name="__codelineno-fhmodal_delete_stored_ahora-153" href="#__codelineno-fhmodal_delete_stored_ahora-153"></a>
</span><span id="__span-fhmodal_delete_stored_ahora-154"><a id="__codelineno-fhmodal_delete_stored_ahora-154" name="__codelineno-fhmodal_delete_stored_ahora-154" href="#__codelineno-fhmodal_delete_stored_ahora-154"></a><span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">CatchError</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span>
</span><span id="__span-fhmodal_delete_stored_ahora-155"><a id="__codelineno-fhmodal_delete_stored_ahora-155" name="__codelineno-fhmodal_delete_stored_ahora-155" href="#__codelineno-fhmodal_delete_stored_ahora-155"></a><span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">CatchError</span><span class="o">=</span><span class="n">dbo</span><span class="p">.</span><span class="n">funprintError</span><span class="p">(</span><span class="n">ERROR_MESSAGE</span><span class="p">(),</span><span class="n">ERROR_NUMBER</span><span class="p">(),</span><span class="n">ERROR_PROCEDURE</span><span class="p">(),</span><span class="o">@@</span><span class="n">PROCID</span><span class="w"> </span><span class="p">,</span><span class="n">ERROR_LINE</span><span class="p">())</span>
</span><span id="__span-fhmodal_delete_stored_ahora-156"><a id="__codelineno-fhmodal_delete_stored_ahora-156" name="__codelineno-fhmodal_delete_stored_ahora-156" href="#__codelineno-fhmodal_delete_stored_ahora-156"></a><span class="w">    </span><span class="n">RAISERROR</span><span class="p">(</span><span class="o">@</span><span class="n">CatchError</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-fhmodal_delete_stored_ahora-157"><a id="__codelineno-fhmodal_delete_stored_ahora-157" name="__codelineno-fhmodal_delete_stored_ahora-157" href="#__codelineno-fhmodal_delete_stored_ahora-157"></a>
</span><span id="__span-fhmodal_delete_stored_ahora-158"><a id="__codelineno-fhmodal_delete_stored_ahora-158" name="__codelineno-fhmodal_delete_stored_ahora-158" href="#__codelineno-fhmodal_delete_stored_ahora-158"></a><span class="w">    </span><span class="k">RETURN</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-fhmodal_delete_stored_ahora-159"><a id="__codelineno-fhmodal_delete_stored_ahora-159" name="__codelineno-fhmodal_delete_stored_ahora-159" href="#__codelineno-fhmodal_delete_stored_ahora-159"></a><span class="k">END</span><span class="w"> </span><span class="n">CATCH</span>
</span><span id="__span-fhmodal_delete_stored_ahora-160"><a id="__codelineno-fhmodal_delete_stored_ahora-160" name="__codelineno-fhmodal_delete_stored_ahora-160" href="#__codelineno-fhmodal_delete_stored_ahora-160"></a><span class="k">GO</span>
</span></code></pre></div>
<div id="fhmodal_insert_json" class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-fhmodal_insert_json-1"><a id="__codelineno-fhmodal_insert_json-1" name="__codelineno-fhmodal_insert_json-1" href="#__codelineno-fhmodal_insert_json-1"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">PROCEDURE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">P_Test_I</span><span class="p">]</span>
</span><span id="__span-fhmodal_insert_json-2"><a id="__codelineno-fhmodal_insert_json-2" name="__codelineno-fhmodal_insert_json-2" href="#__codelineno-fhmodal_insert_json-2"></a><span class="w">    </span><span class="o">@</span><span class="n">TestId</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">OUTPUT</span><span class="p">,</span>
</span><span id="__span-fhmodal_insert_json-3"><a id="__codelineno-fhmodal_insert_json-3" name="__codelineno-fhmodal_insert_json-3" href="#__codelineno-fhmodal_insert_json-3"></a><span class="w">    </span><span class="o">@</span><span class="n">Descrip</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">2000</span><span class="p">)</span><span class="w"> </span><span class="k">OUTPUT</span><span class="p">,</span>
</span><span id="__span-fhmodal_insert_json-4"><a id="__codelineno-fhmodal_insert_json-4" name="__codelineno-fhmodal_insert_json-4" href="#__codelineno-fhmodal_insert_json-4"></a><span class="w">    </span><span class="o">@</span><span class="n">IdDoc</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">OUTPUT</span><span class="p">,</span>
</span><span id="__span-fhmodal_insert_json-5"><a id="__codelineno-fhmodal_insert_json-5" name="__codelineno-fhmodal_insert_json-5" href="#__codelineno-fhmodal_insert_json-5"></a><span class="w">    </span><span class="o">@</span><span class="n">Usuario</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">OUTPUT</span><span class="p">,</span>
</span><span id="__span-fhmodal_insert_json-6"><a id="__codelineno-fhmodal_insert_json-6" name="__codelineno-fhmodal_insert_json-6" href="#__codelineno-fhmodal_insert_json-6"></a><span class="w">    </span><span class="o">@</span><span class="n">FechaInsertUpdate</span><span class="w"> </span><span class="n">datetime</span><span class="w"> </span><span class="k">OUTPUT</span>
</span><span id="__span-fhmodal_insert_json-7"><a id="__codelineno-fhmodal_insert_json-7" name="__codelineno-fhmodal_insert_json-7" href="#__codelineno-fhmodal_insert_json-7"></a><span class="k">AS</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_json-8"><a id="__codelineno-fhmodal_insert_json-8" name="__codelineno-fhmodal_insert_json-8" href="#__codelineno-fhmodal_insert_json-8"></a><span class="k">BEGIN</span>
</span><span id="__span-fhmodal_insert_json-9"><a id="__codelineno-fhmodal_insert_json-9" name="__codelineno-fhmodal_insert_json-9" href="#__codelineno-fhmodal_insert_json-9"></a>
</span><span id="__span-fhmodal_insert_json-10"><a id="__codelineno-fhmodal_insert_json-10" name="__codelineno-fhmodal_insert_json-10" href="#__codelineno-fhmodal_insert_json-10"></a>
</span><span id="__span-fhmodal_insert_json-11"><a id="__codelineno-fhmodal_insert_json-11" name="__codelineno-fhmodal_insert_json-11" href="#__codelineno-fhmodal_insert_json-11"></a><span class="w">    </span><span class="c1">-- Next Id</span>
</span><span id="__span-fhmodal_insert_json-12"><a id="__codelineno-fhmodal_insert_json-12" name="__codelineno-fhmodal_insert_json-12" href="#__codelineno-fhmodal_insert_json-12"></a><span class="w">    </span><span class="k">IF</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="o">=</span><span class="mi">0</span>
</span><span id="__span-fhmodal_insert_json-13"><a id="__codelineno-fhmodal_insert_json-13" name="__codelineno-fhmodal_insert_json-13" href="#__codelineno-fhmodal_insert_json-13"></a><span class="w">        </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span><span class="o">=</span><span class="k">ISNULL</span><span class="p">(</span><span class="k">MAX</span><span class="p">(</span><span class="o">@</span><span class="n">TestId</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">_Test</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_json-14"><a id="__codelineno-fhmodal_insert_json-14" name="__codelineno-fhmodal_insert_json-14" href="#__codelineno-fhmodal_insert_json-14"></a><span class="w">    </span><span class="c1">--  Insert</span>
</span><span id="__span-fhmodal_insert_json-15"><a id="__codelineno-fhmodal_insert_json-15" name="__codelineno-fhmodal_insert_json-15" href="#__codelineno-fhmodal_insert_json-15"></a>
</span><span id="__span-fhmodal_insert_json-16"><a id="__codelineno-fhmodal_insert_json-16" name="__codelineno-fhmodal_insert_json-16" href="#__codelineno-fhmodal_insert_json-16"></a><span class="w">    </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">_Test</span><span class="p">(</span><span class="n">TestId</span><span class="p">,</span><span class="n">Descrip</span><span class="p">,</span><span class="n">Usuario</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_json-17"><a id="__codelineno-fhmodal_insert_json-17" name="__codelineno-fhmodal_insert_json-17" href="#__codelineno-fhmodal_insert_json-17"></a><span class="w">    </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="o">@</span><span class="n">TestId</span><span class="p">,</span><span class="o">@</span><span class="n">Descrip</span><span class="p">,</span><span class="o">@</span><span class="n">Usuario</span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_json-18"><a id="__codelineno-fhmodal_insert_json-18" name="__codelineno-fhmodal_insert_json-18" href="#__codelineno-fhmodal_insert_json-18"></a>
</span><span id="__span-fhmodal_insert_json-19"><a id="__codelineno-fhmodal_insert_json-19" name="__codelineno-fhmodal_insert_json-19" href="#__codelineno-fhmodal_insert_json-19"></a><span class="w">    </span><span class="c1">--Insert into _Test_Conf</span>
</span><span id="__span-fhmodal_insert_json-20"><a id="__codelineno-fhmodal_insert_json-20" name="__codelineno-fhmodal_insert_json-20" href="#__codelineno-fhmodal_insert_json-20"></a><span class="w">    </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">_Test_Conf</span><span class="w"> </span><span class="p">(</span><span class="n">TestId</span><span class="w"> </span><span class="p">)</span>
</span><span id="__span-fhmodal_insert_json-21"><a id="__codelineno-fhmodal_insert_json-21" name="__codelineno-fhmodal_insert_json-21" href="#__codelineno-fhmodal_insert_json-21"></a><span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="n">T</span><span class="p">.</span><span class="n">TestID</span><span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">_TEst</span><span class="w"> </span><span class="n">T</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_json-22"><a id="__codelineno-fhmodal_insert_json-22" name="__codelineno-fhmodal_insert_json-22" href="#__codelineno-fhmodal_insert_json-22"></a><span class="w">    </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">_Test_Conf</span><span class="w"> </span><span class="k">C</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">T</span><span class="p">.</span><span class="n">TestId</span><span class="o">=</span><span class="k">C</span><span class="p">.</span><span class="n">TEstId</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_json-23"><a id="__codelineno-fhmodal_insert_json-23" name="__codelineno-fhmodal_insert_json-23" href="#__codelineno-fhmodal_insert_json-23"></a><span class="w">    </span><span class="k">WHERE</span><span class="w"> </span><span class="k">C</span><span class="p">.</span><span class="n">TestID</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span>
</span><span id="__span-fhmodal_insert_json-24"><a id="__codelineno-fhmodal_insert_json-24" name="__codelineno-fhmodal_insert_json-24" href="#__codelineno-fhmodal_insert_json-24"></a>
</span><span id="__span-fhmodal_insert_json-25"><a id="__codelineno-fhmodal_insert_json-25" name="__codelineno-fhmodal_insert_json-25" href="#__codelineno-fhmodal_insert_json-25"></a><span class="w">    </span><span class="c1">-- Check</span>
</span><span id="__span-fhmodal_insert_json-26"><a id="__codelineno-fhmodal_insert_json-26" name="__codelineno-fhmodal_insert_json-26" href="#__codelineno-fhmodal_insert_json-26"></a><span class="w">    </span><span class="k">IF</span><span class="w"> </span><span class="o">@@</span><span class="n">ROWCOUNT</span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="k">BEGIN</span>
</span><span id="__span-fhmodal_insert_json-27"><a id="__codelineno-fhmodal_insert_json-27" name="__codelineno-fhmodal_insert_json-27" href="#__codelineno-fhmodal_insert_json-27"></a><span class="w">        </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">IdDoc</span><span class="o">=</span><span class="n">IdDoc</span><span class="p">,</span><span class="o">@</span><span class="n">Usuario</span><span class="o">=</span><span class="n">Usuario</span><span class="p">,</span><span class="o">@</span><span class="n">FechaInsertUpdate</span><span class="o">=</span><span class="n">FechaInsertUpdate</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">_Test</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">TestId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">TestId</span>
</span><span id="__span-fhmodal_insert_json-28"><a id="__codelineno-fhmodal_insert_json-28" name="__codelineno-fhmodal_insert_json-28" href="#__codelineno-fhmodal_insert_json-28"></a><span class="w">        </span><span class="k">RETURN</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span>
</span><span id="__span-fhmodal_insert_json-29"><a id="__codelineno-fhmodal_insert_json-29" name="__codelineno-fhmodal_insert_json-29" href="#__codelineno-fhmodal_insert_json-29"></a>
</span><span id="__span-fhmodal_insert_json-30"><a id="__codelineno-fhmodal_insert_json-30" name="__codelineno-fhmodal_insert_json-30" href="#__codelineno-fhmodal_insert_json-30"></a><span class="w">    </span><span class="k">END</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="k">BEGIN</span>
</span><span id="__span-fhmodal_insert_json-31"><a id="__codelineno-fhmodal_insert_json-31" name="__codelineno-fhmodal_insert_json-31" href="#__codelineno-fhmodal_insert_json-31"></a><span class="w">        </span><span class="n">PRINT</span><span class="w">  </span><span class="s1">'ERROR IN TEST INSERT.'</span>
</span><span id="__span-fhmodal_insert_json-32"><a id="__codelineno-fhmodal_insert_json-32" name="__codelineno-fhmodal_insert_json-32" href="#__codelineno-fhmodal_insert_json-32"></a><span class="w">        </span><span class="k">RETURN</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-fhmodal_insert_json-33"><a id="__codelineno-fhmodal_insert_json-33" name="__codelineno-fhmodal_insert_json-33" href="#__codelineno-fhmodal_insert_json-33"></a><span class="w">    </span><span class="k">END</span>
</span><span id="__span-fhmodal_insert_json-34"><a id="__codelineno-fhmodal_insert_json-34" name="__codelineno-fhmodal_insert_json-34" href="#__codelineno-fhmodal_insert_json-34"></a>
</span><span id="__span-fhmodal_insert_json-35"><a id="__codelineno-fhmodal_insert_json-35" name="__codelineno-fhmodal_insert_json-35" href="#__codelineno-fhmodal_insert_json-35"></a><span class="k">END</span>
</span></code></pre></div>
<div id="fhmodal_update_json" class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-fhmodal_update_json-1"><a id="__codelineno-fhmodal_update_json-1" name="__codelineno-fhmodal_update_json-1" href="#__codelineno-fhmodal_update_json-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">PROCEDURE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">P_Test_U</span><span class="p">]</span>
</span><span id="__span-fhmodal_update_json-2"><a id="__codelineno-fhmodal_update_json-2" name="__codelineno-fhmodal_update_json-2" href="#__codelineno-fhmodal_update_json-2"></a><span class="w">    </span><span class="o">@</span><span class="n">TestId_A</span><span class="w">   </span><span class="nb">int</span><span class="p">,</span>
</span><span id="__span-fhmodal_update_json-3"><a id="__codelineno-fhmodal_update_json-3" name="__codelineno-fhmodal_update_json-3" href="#__codelineno-fhmodal_update_json-3"></a><span class="w">    </span><span class="o">@</span><span class="n">Usuario</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">OUTPUT</span><span class="p">,</span>
</span><span id="__span-fhmodal_update_json-4"><a id="__codelineno-fhmodal_update_json-4" name="__codelineno-fhmodal_update_json-4" href="#__codelineno-fhmodal_update_json-4"></a><span class="w">    </span><span class="o">@</span><span class="n">FechaInsertUpdate</span><span class="w"> </span><span class="n">datetime</span><span class="w"> </span><span class="k">OUTPUT</span>
</span><span id="__span-fhmodal_update_json-5"><a id="__codelineno-fhmodal_update_json-5" name="__codelineno-fhmodal_update_json-5" href="#__codelineno-fhmodal_update_json-5"></a><span class="w">    </span><span class="o">@</span><span class="n">TestId</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">OUTPUT</span><span class="p">,</span>
</span><span id="__span-fhmodal_update_json-6"><a id="__codelineno-fhmodal_update_json-6" name="__codelineno-fhmodal_update_json-6" href="#__codelineno-fhmodal_update_json-6"></a><span class="w">    </span><span class="o">@</span><span class="n">Descrip</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">2000</span><span class="p">)</span><span class="w"> </span><span class="k">OUTPUT</span>
</span><span id="__span-fhmodal_update_json-7"><a id="__codelineno-fhmodal_update_json-7" name="__codelineno-fhmodal_update_json-7" href="#__codelineno-fhmodal_update_json-7"></a>
</span><span id="__span-fhmodal_update_json-8"><a id="__codelineno-fhmodal_update_json-8" name="__codelineno-fhmodal_update_json-8" href="#__codelineno-fhmodal_update_json-8"></a><span class="k">AS</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_json-9"><a id="__codelineno-fhmodal_update_json-9" name="__codelineno-fhmodal_update_json-9" href="#__codelineno-fhmodal_update_json-9"></a>
</span><span id="__span-fhmodal_update_json-10"><a id="__codelineno-fhmodal_update_json-10" name="__codelineno-fhmodal_update_json-10" href="#__codelineno-fhmodal_update_json-10"></a><span class="k">Declare</span><span class="w"> </span><span class="o">@</span><span class="n">Msg_err</span><span class="w"> </span><span class="nb">Varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_json-11"><a id="__codelineno-fhmodal_update_json-11" name="__codelineno-fhmodal_update_json-11" href="#__codelineno-fhmodal_update_json-11"></a><span class="k">Declare</span><span class="w"> </span><span class="o">@</span><span class="n">Usuario_</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</span><span id="__span-fhmodal_update_json-12"><a id="__codelineno-fhmodal_update_json-12" name="__codelineno-fhmodal_update_json-12" href="#__codelineno-fhmodal_update_json-12"></a><span class="k">Declare</span><span class="w"> </span><span class="o">@</span><span class="n">FechaInsertUpdate_</span><span class="w"> </span><span class="n">datetime</span>
</span><span id="__span-fhmodal_update_json-13"><a id="__codelineno-fhmodal_update_json-13" name="__codelineno-fhmodal_update_json-13" href="#__codelineno-fhmodal_update_json-13"></a>
</span><span id="__span-fhmodal_update_json-14"><a id="__codelineno-fhmodal_update_json-14" name="__codelineno-fhmodal_update_json-14" href="#__codelineno-fhmodal_update_json-14"></a>
</span><span id="__span-fhmodal_update_json-15"><a id="__codelineno-fhmodal_update_json-15" name="__codelineno-fhmodal_update_json-15" href="#__codelineno-fhmodal_update_json-15"></a><span class="k">BEGIN</span>
</span><span id="__span-fhmodal_update_json-16"><a id="__codelineno-fhmodal_update_json-16" name="__codelineno-fhmodal_update_json-16" href="#__codelineno-fhmodal_update_json-16"></a>
</span><span id="__span-fhmodal_update_json-17"><a id="__codelineno-fhmodal_update_json-17" name="__codelineno-fhmodal_update_json-17" href="#__codelineno-fhmodal_update_json-17"></a><span class="w">            </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">_Test</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">TestId</span><span class="o">=@</span><span class="n">TestId</span><span class="p">,</span><span class="w"> </span><span class="n">Descrip</span><span class="o">=@</span><span class="n">Descrip</span><span class="p">,</span><span class="n">InsertUpdate</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">Usuario</span><span class="o">=@</span><span class="n">usuario</span><span class="p">,</span><span class="w"> </span><span class="n">FechaInsertUpdate</span><span class="o">=</span><span class="n">getdate</span><span class="p">()</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_json-18"><a id="__codelineno-fhmodal_update_json-18" name="__codelineno-fhmodal_update_json-18" href="#__codelineno-fhmodal_update_json-18"></a><span class="w">            </span><span class="k">WHERE</span><span class="w"> </span><span class="n">TestId</span><span class="o">=@</span><span class="n">TestId_A</span><span class="w"> </span><span class="k">AND</span><span class="w">  </span><span class="n">Usuario</span><span class="o">=@</span><span class="n">Usuario</span><span class="w"> </span><span class="k">And</span><span class="w"> </span><span class="k">Convert</span><span class="p">(</span><span class="nb">Varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="n">FechaInsertUpdate</span><span class="p">,</span><span class="mi">113</span><span class="p">)</span><span class="o">=</span><span class="k">Convert</span><span class="p">(</span><span class="nb">Varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="o">@</span><span class="n">FechaInsertUpdate</span><span class="p">,</span><span class="mi">113</span><span class="p">)</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_json-19"><a id="__codelineno-fhmodal_update_json-19" name="__codelineno-fhmodal_update_json-19" href="#__codelineno-fhmodal_update_json-19"></a><span class="k">END</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_json-20"><a id="__codelineno-fhmodal_update_json-20" name="__codelineno-fhmodal_update_json-20" href="#__codelineno-fhmodal_update_json-20"></a><span class="w">    </span><span class="c1">------------------------------------------</span>
</span><span id="__span-fhmodal_update_json-21"><a id="__codelineno-fhmodal_update_json-21" name="__codelineno-fhmodal_update_json-21" href="#__codelineno-fhmodal_update_json-21"></a><span class="w">    </span><span class="c1">-- Check if update was done</span>
</span><span id="__span-fhmodal_update_json-22"><a id="__codelineno-fhmodal_update_json-22" name="__codelineno-fhmodal_update_json-22" href="#__codelineno-fhmodal_update_json-22"></a><span class="w">    </span><span class="c1">------------------------------------------</span>
</span><span id="__span-fhmodal_update_json-23"><a id="__codelineno-fhmodal_update_json-23" name="__codelineno-fhmodal_update_json-23" href="#__codelineno-fhmodal_update_json-23"></a><span class="w">    </span><span class="k">IF</span><span class="w"> </span><span class="o">@@</span><span class="n">ROWCOUNT</span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="k">BEGIN</span>
</span><span id="__span-fhmodal_update_json-24"><a id="__codelineno-fhmodal_update_json-24" name="__codelineno-fhmodal_update_json-24" href="#__codelineno-fhmodal_update_json-24"></a><span class="w">        </span><span class="k">SELECT</span><span class="w">  </span><span class="o">@</span><span class="n">TestId</span><span class="o">=</span><span class="n">TestId</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_json-25"><a id="__codelineno-fhmodal_update_json-25" name="__codelineno-fhmodal_update_json-25" href="#__codelineno-fhmodal_update_json-25"></a><span class="w">            </span><span class="o">@</span><span class="n">Descrip</span><span class="o">=</span><span class="n">Descrip</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_json-26"><a id="__codelineno-fhmodal_update_json-26" name="__codelineno-fhmodal_update_json-26" href="#__codelineno-fhmodal_update_json-26"></a><span class="w">            </span><span class="o">@</span><span class="n">Usuario</span><span class="o">=</span><span class="n">Usuario</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_json-27"><a id="__codelineno-fhmodal_update_json-27" name="__codelineno-fhmodal_update_json-27" href="#__codelineno-fhmodal_update_json-27"></a><span class="w">            </span><span class="o">@</span><span class="n">FechaInsertUpdate</span><span class="o">=</span><span class="n">FechaInsertUpdate</span>
</span><span id="__span-fhmodal_update_json-28"><a id="__codelineno-fhmodal_update_json-28" name="__codelineno-fhmodal_update_json-28" href="#__codelineno-fhmodal_update_json-28"></a><span class="w">        </span><span class="k">FROM</span><span class="w"> </span><span class="n">_Test</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">TestId</span><span class="o">=@</span><span class="n">TestId</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_json-29"><a id="__codelineno-fhmodal_update_json-29" name="__codelineno-fhmodal_update_json-29" href="#__codelineno-fhmodal_update_json-29"></a><span class="w">        </span><span class="k">RETURN</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span>
</span><span id="__span-fhmodal_update_json-30"><a id="__codelineno-fhmodal_update_json-30" name="__codelineno-fhmodal_update_json-30" href="#__codelineno-fhmodal_update_json-30"></a>
</span><span id="__span-fhmodal_update_json-31"><a id="__codelineno-fhmodal_update_json-31" name="__codelineno-fhmodal_update_json-31" href="#__codelineno-fhmodal_update_json-31"></a><span class="w">    </span><span class="k">END</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="k">BEGIN</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_json-32"><a id="__codelineno-fhmodal_update_json-32" name="__codelineno-fhmodal_update_json-32" href="#__codelineno-fhmodal_update_json-32"></a><span class="w">        </span><span class="k">SELECT</span><span class="w">  </span><span class="o">@</span><span class="n">Usuario_</span><span class="o">=</span><span class="n">Usuario</span><span class="p">,</span>
</span><span id="__span-fhmodal_update_json-33"><a id="__codelineno-fhmodal_update_json-33" name="__codelineno-fhmodal_update_json-33" href="#__codelineno-fhmodal_update_json-33"></a><span class="w">            </span><span class="o">@</span><span class="n">FechaInsertUpdate_</span><span class="o">=</span><span class="n">FechaInsertUpdate</span>
</span><span id="__span-fhmodal_update_json-34"><a id="__codelineno-fhmodal_update_json-34" name="__codelineno-fhmodal_update_json-34" href="#__codelineno-fhmodal_update_json-34"></a><span class="w">        </span><span class="k">FROM</span><span class="w"> </span><span class="n">_Test</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">TestId</span><span class="o">=@</span><span class="n">TestId_A</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_json-35"><a id="__codelineno-fhmodal_update_json-35" name="__codelineno-fhmodal_update_json-35" href="#__codelineno-fhmodal_update_json-35"></a>
</span><span id="__span-fhmodal_update_json-36"><a id="__codelineno-fhmodal_update_json-36" name="__codelineno-fhmodal_update_json-36" href="#__codelineno-fhmodal_update_json-36"></a><span class="w">        </span><span class="k">IF</span><span class="w"> </span><span class="o">@</span><span class="n">Usuario_</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">BEGIN</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_json-37"><a id="__codelineno-fhmodal_update_json-37" name="__codelineno-fhmodal_update_json-37" href="#__codelineno-fhmodal_update_json-37"></a><span class="w">            </span><span class="n">PRINT</span><span class="w"> </span><span class="s1">'Could not update. Might have bee previously deleted'</span>
</span><span id="__span-fhmodal_update_json-38"><a id="__codelineno-fhmodal_update_json-38" name="__codelineno-fhmodal_update_json-38" href="#__codelineno-fhmodal_update_json-38"></a><span class="w">            </span><span class="k">RETURN</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-fhmodal_update_json-39"><a id="__codelineno-fhmodal_update_json-39" name="__codelineno-fhmodal_update_json-39" href="#__codelineno-fhmodal_update_json-39"></a><span class="w">        </span><span class="k">END</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="p">(</span><span class="o">@</span><span class="n">Usuario</span><span class="o">&lt;</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="n">Usuario_</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="k">Convert</span><span class="p">(</span><span class="nb">Varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="o">@</span><span class="n">FechaInsertUpdate</span><span class="p">,</span><span class="mi">113</span><span class="p">)</span><span class="o">&lt;</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="k">Convert</span><span class="p">(</span><span class="nb">Varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="o">@</span><span class="n">FechaInsertUpdate_</span><span class="p">,</span><span class="mi">113</span><span class="p">))</span><span class="w"> </span><span class="k">BEGIN</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_json-40"><a id="__codelineno-fhmodal_update_json-40" name="__codelineno-fhmodal_update_json-40" href="#__codelineno-fhmodal_update_json-40"></a><span class="w">            </span><span class="n">PRINT</span><span class="w"> </span><span class="s1">'Could not update. Might have bee previously modifyed'</span>
</span><span id="__span-fhmodal_update_json-41"><a id="__codelineno-fhmodal_update_json-41" name="__codelineno-fhmodal_update_json-41" href="#__codelineno-fhmodal_update_json-41"></a><span class="w">                </span><span class="k">RETURN</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_json-42"><a id="__codelineno-fhmodal_update_json-42" name="__codelineno-fhmodal_update_json-42" href="#__codelineno-fhmodal_update_json-42"></a><span class="w">        </span><span class="k">END</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_json-43"><a id="__codelineno-fhmodal_update_json-43" name="__codelineno-fhmodal_update_json-43" href="#__codelineno-fhmodal_update_json-43"></a><span class="w">        </span><span class="n">PRINT</span><span class="w">  </span><span class="s1">'Could not update. Update Error'</span>
</span><span id="__span-fhmodal_update_json-44"><a id="__codelineno-fhmodal_update_json-44" name="__codelineno-fhmodal_update_json-44" href="#__codelineno-fhmodal_update_json-44"></a><span class="w">        </span><span class="k">RETURN</span><span class="w">  </span><span class="mi">0</span><span class="w"> </span>
</span><span id="__span-fhmodal_update_json-45"><a id="__codelineno-fhmodal_update_json-45" name="__codelineno-fhmodal_update_json-45" href="#__codelineno-fhmodal_update_json-45"></a>
</span><span id="__span-fhmodal_update_json-46"><a id="__codelineno-fhmodal_update_json-46" name="__codelineno-fhmodal_update_json-46" href="#__codelineno-fhmodal_update_json-46"></a><span class="k">END</span>
</span></code></pre></div>
<div id="fhmodal_delete_json" class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-fhmodal_delete_json-1"><a id="__codelineno-fhmodal_delete_json-1" name="__codelineno-fhmodal_delete_json-1" href="#__codelineno-fhmodal_delete_json-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">PROCEDURE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">P_Test_D</span><span class="p">]</span>
</span><span id="__span-fhmodal_delete_json-2"><a id="__codelineno-fhmodal_delete_json-2" name="__codelineno-fhmodal_delete_json-2" href="#__codelineno-fhmodal_delete_json-2"></a><span class="w">    </span><span class="o">@</span><span class="n">TestId</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">OUTPUT</span><span class="p">,</span>
</span><span id="__span-fhmodal_delete_json-3"><a id="__codelineno-fhmodal_delete_json-3" name="__codelineno-fhmodal_delete_json-3" href="#__codelineno-fhmodal_delete_json-3"></a><span class="w">    </span><span class="o">@</span><span class="n">Usuario</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">OUTPUT</span><span class="p">,</span>
</span><span id="__span-fhmodal_delete_json-4"><a id="__codelineno-fhmodal_delete_json-4" name="__codelineno-fhmodal_delete_json-4" href="#__codelineno-fhmodal_delete_json-4"></a><span class="w">    </span><span class="o">@</span><span class="n">FechaInsertUpdate</span><span class="w"> </span><span class="n">datetime</span><span class="w"> </span><span class="k">OUTPUT</span>
</span><span id="__span-fhmodal_delete_json-5"><a id="__codelineno-fhmodal_delete_json-5" name="__codelineno-fhmodal_delete_json-5" href="#__codelineno-fhmodal_delete_json-5"></a><span class="k">AS</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_json-6"><a id="__codelineno-fhmodal_delete_json-6" name="__codelineno-fhmodal_delete_json-6" href="#__codelineno-fhmodal_delete_json-6"></a>
</span><span id="__span-fhmodal_delete_json-7"><a id="__codelineno-fhmodal_delete_json-7" name="__codelineno-fhmodal_delete_json-7" href="#__codelineno-fhmodal_delete_json-7"></a><span class="k">Declare</span><span class="w"> </span><span class="o">@</span><span class="n">Usuario_</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_json-8"><a id="__codelineno-fhmodal_delete_json-8" name="__codelineno-fhmodal_delete_json-8" href="#__codelineno-fhmodal_delete_json-8"></a><span class="k">Declare</span><span class="w"> </span><span class="o">@</span><span class="n">FechaInsertUpdate_</span><span class="w"> </span><span class="n">datetime</span>
</span><span id="__span-fhmodal_delete_json-9"><a id="__codelineno-fhmodal_delete_json-9" name="__codelineno-fhmodal_delete_json-9" href="#__codelineno-fhmodal_delete_json-9"></a>
</span><span id="__span-fhmodal_delete_json-10"><a id="__codelineno-fhmodal_delete_json-10" name="__codelineno-fhmodal_delete_json-10" href="#__codelineno-fhmodal_delete_json-10"></a><span class="k">BEGIN</span>
</span><span id="__span-fhmodal_delete_json-11"><a id="__codelineno-fhmodal_delete_json-11" name="__codelineno-fhmodal_delete_json-11" href="#__codelineno-fhmodal_delete_json-11"></a>
</span><span id="__span-fhmodal_delete_json-12"><a id="__codelineno-fhmodal_delete_json-12" name="__codelineno-fhmodal_delete_json-12" href="#__codelineno-fhmodal_delete_json-12"></a><span class="w">    </span><span class="k">DELETE</span><span class="w"> </span><span class="n">_Test</span>
</span><span id="__span-fhmodal_delete_json-13"><a id="__codelineno-fhmodal_delete_json-13" name="__codelineno-fhmodal_delete_json-13" href="#__codelineno-fhmodal_delete_json-13"></a><span class="w">    </span><span class="k">WHERE</span><span class="w"> </span><span class="n">TestId</span><span class="o">=@</span><span class="n">TestId</span><span class="w"> </span><span class="k">And</span><span class="w"> </span><span class="n">Usuario</span><span class="o">=@</span><span class="n">Usuario</span><span class="w"> </span><span class="k">And</span><span class="w"> </span><span class="k">Convert</span><span class="p">(</span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="n">FechaInsertUpdate</span><span class="p">,</span><span class="mi">113</span><span class="p">)</span><span class="o">=</span><span class="k">Convert</span><span class="p">(</span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="o">@</span><span class="n">FechaInsertUpdate</span><span class="p">,</span><span class="mi">113</span><span class="p">)</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_json-14"><a id="__codelineno-fhmodal_delete_json-14" name="__codelineno-fhmodal_delete_json-14" href="#__codelineno-fhmodal_delete_json-14"></a>
</span><span id="__span-fhmodal_delete_json-15"><a id="__codelineno-fhmodal_delete_json-15" name="__codelineno-fhmodal_delete_json-15" href="#__codelineno-fhmodal_delete_json-15"></a><span class="w">    </span><span class="c1">-- check delete records</span>
</span><span id="__span-fhmodal_delete_json-16"><a id="__codelineno-fhmodal_delete_json-16" name="__codelineno-fhmodal_delete_json-16" href="#__codelineno-fhmodal_delete_json-16"></a><span class="w">    </span><span class="k">IF</span><span class="w"> </span><span class="o">@@</span><span class="n">ROWCOUNT</span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="k">BEGIN</span>
</span><span id="__span-fhmodal_delete_json-17"><a id="__codelineno-fhmodal_delete_json-17" name="__codelineno-fhmodal_delete_json-17" href="#__codelineno-fhmodal_delete_json-17"></a><span class="w">        </span><span class="k">RETURN</span><span class="w">  </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_json-18"><a id="__codelineno-fhmodal_delete_json-18" name="__codelineno-fhmodal_delete_json-18" href="#__codelineno-fhmodal_delete_json-18"></a>
</span><span id="__span-fhmodal_delete_json-19"><a id="__codelineno-fhmodal_delete_json-19" name="__codelineno-fhmodal_delete_json-19" href="#__codelineno-fhmodal_delete_json-19"></a><span class="w">    </span><span class="k">END</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="k">BEGIN</span>
</span><span id="__span-fhmodal_delete_json-20"><a id="__codelineno-fhmodal_delete_json-20" name="__codelineno-fhmodal_delete_json-20" href="#__codelineno-fhmodal_delete_json-20"></a><span class="w">        </span><span class="k">SELECT</span><span class="w">  </span><span class="o">@</span><span class="n">Usuario_</span><span class="o">=</span><span class="n">Usuario</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_json-21"><a id="__codelineno-fhmodal_delete_json-21" name="__codelineno-fhmodal_delete_json-21" href="#__codelineno-fhmodal_delete_json-21"></a><span class="w">            </span><span class="o">@</span><span class="n">FechaInsertUpdate_</span><span class="o">=</span><span class="n">FechaInsertUpdate</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_json-22"><a id="__codelineno-fhmodal_delete_json-22" name="__codelineno-fhmodal_delete_json-22" href="#__codelineno-fhmodal_delete_json-22"></a><span class="w">        </span><span class="k">FROM</span><span class="w"> </span><span class="n">_test</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">TestId</span><span class="o">=@</span><span class="n">TestId</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_json-23"><a id="__codelineno-fhmodal_delete_json-23" name="__codelineno-fhmodal_delete_json-23" href="#__codelineno-fhmodal_delete_json-23"></a>
</span><span id="__span-fhmodal_delete_json-24"><a id="__codelineno-fhmodal_delete_json-24" name="__codelineno-fhmodal_delete_json-24" href="#__codelineno-fhmodal_delete_json-24"></a><span class="w">        </span><span class="k">IF</span><span class="w"> </span><span class="o">@</span><span class="n">Usuario_</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">BEGIN</span>
</span><span id="__span-fhmodal_delete_json-25"><a id="__codelineno-fhmodal_delete_json-25" name="__codelineno-fhmodal_delete_json-25" href="#__codelineno-fhmodal_delete_json-25"></a><span class="w">            </span><span class="n">PRINT</span><span class="w">   </span><span class="s1">'Could not delete. might have been previously deleted'</span>
</span><span id="__span-fhmodal_delete_json-26"><a id="__codelineno-fhmodal_delete_json-26" name="__codelineno-fhmodal_delete_json-26" href="#__codelineno-fhmodal_delete_json-26"></a><span class="w">            </span><span class="k">RETURN</span><span class="w">  </span><span class="mi">0</span>
</span><span id="__span-fhmodal_delete_json-27"><a id="__codelineno-fhmodal_delete_json-27" name="__codelineno-fhmodal_delete_json-27" href="#__codelineno-fhmodal_delete_json-27"></a>
</span><span id="__span-fhmodal_delete_json-28"><a id="__codelineno-fhmodal_delete_json-28" name="__codelineno-fhmodal_delete_json-28" href="#__codelineno-fhmodal_delete_json-28"></a><span class="w">        </span><span class="k">END</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="k">IF</span><span class="w">  </span><span class="p">(</span><span class="o">@</span><span class="n">Usuario</span><span class="o">&lt;</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="n">Usuario_</span><span class="w"> </span><span class="k">Or</span><span class="w"> </span><span class="k">Convert</span><span class="p">(</span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="o">@</span><span class="n">FechaInsertUpdate</span><span class="p">,</span><span class="mi">113</span><span class="p">)</span><span class="o">&lt;</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="k">Convert</span><span class="p">(</span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="o">@</span><span class="n">FechaInsertUpdate_</span><span class="p">,</span><span class="mi">113</span><span class="p">))</span><span class="w"> </span><span class="k">BEGIN</span><span class="w"> </span>
</span><span id="__span-fhmodal_delete_json-29"><a id="__codelineno-fhmodal_delete_json-29" name="__codelineno-fhmodal_delete_json-29" href="#__codelineno-fhmodal_delete_json-29"></a>
</span><span id="__span-fhmodal_delete_json-30"><a id="__codelineno-fhmodal_delete_json-30" name="__codelineno-fhmodal_delete_json-30" href="#__codelineno-fhmodal_delete_json-30"></a><span class="w">            </span><span class="n">PRINT</span><span class="w">  </span><span class="s1">'Could not delete. might have been previously changed'</span>
</span><span id="__span-fhmodal_delete_json-31"><a id="__codelineno-fhmodal_delete_json-31" name="__codelineno-fhmodal_delete_json-31" href="#__codelineno-fhmodal_delete_json-31"></a><span class="w">            </span><span class="k">RETURN</span><span class="w">  </span><span class="mi">0</span>
</span><span id="__span-fhmodal_delete_json-32"><a id="__codelineno-fhmodal_delete_json-32" name="__codelineno-fhmodal_delete_json-32" href="#__codelineno-fhmodal_delete_json-32"></a><span class="w">        </span><span class="k">END</span>
</span><span id="__span-fhmodal_delete_json-33"><a id="__codelineno-fhmodal_delete_json-33" name="__codelineno-fhmodal_delete_json-33" href="#__codelineno-fhmodal_delete_json-33"></a>
</span><span id="__span-fhmodal_delete_json-34"><a id="__codelineno-fhmodal_delete_json-34" name="__codelineno-fhmodal_delete_json-34" href="#__codelineno-fhmodal_delete_json-34"></a><span class="w">        </span><span class="c1">-- no se ha podido borrar</span>
</span><span id="__span-fhmodal_delete_json-35"><a id="__codelineno-fhmodal_delete_json-35" name="__codelineno-fhmodal_delete_json-35" href="#__codelineno-fhmodal_delete_json-35"></a><span class="w">        </span><span class="n">PRINT</span><span class="w">  </span><span class="s1">'Could not delete'</span>
</span><span id="__span-fhmodal_delete_json-36"><a id="__codelineno-fhmodal_delete_json-36" name="__codelineno-fhmodal_delete_json-36" href="#__codelineno-fhmodal_delete_json-36"></a><span class="w">        </span><span class="k">RETURN</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-fhmodal_delete_json-37"><a id="__codelineno-fhmodal_delete_json-37" name="__codelineno-fhmodal_delete_json-37" href="#__codelineno-fhmodal_delete_json-37"></a><span class="w">    </span><span class="k">end</span>
</span><span id="__span-fhmodal_delete_json-38"><a id="__codelineno-fhmodal_delete_json-38" name="__codelineno-fhmodal_delete_json-38" href="#__codelineno-fhmodal_delete_json-38"></a><span class="k">END</span>
</span></code></pre></div>












                    
                  </article>
                </div>
              
              
                
                <div class="flx-rightsidebar md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                  <div class="md-sidebar__scrollwrap">
                    <div class="md-sidebar__inner">
                      

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#proceso-dll" class="md-nav__link">
    <span class="md-ellipsis">
      Proceso DLL
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#procedimiento-almacenado-xml-facil" class="md-nav__link">
    <span class="md-ellipsis">
      Procedimiento Almacenado XML (Fácil)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#procedimiento-almacenado-xml-avanzado" class="md-nav__link">
    <span class="md-ellipsis">
      Procedimiento Almacenado XML (Avanzado)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#procedimiento-almacenado-json" class="md-nav__link">
    <span class="md-ellipsis">
      Procedimiento Almacenado JSON
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#procedimiento-almacenado-ahora-freeware" class="md-nav__link">
    <span class="md-ellipsis">
      Procedimiento Almacenado Ahora Freeware
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                    </div>
                  </div>
                </div>
              
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Volver al principio
</button>
        
      </main>
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.path", "navigation.expand", "navigation.sections", "navigation.instant", "navigation.tracking", "navigation.top", "search.highlight", "search.suggest", "content.code.copy"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="../../javascripts/fh-structural/utils.js"></script>
      
        <script src="../../javascripts/fh-structural/components/fh-modal.js"></script>
      
        <script src="../../javascripts/fh-structural/components/fh-copy.js"></script>
      
        <script src="../../javascripts/fh-structural/components/fh-popover.js"></script>
      
        <script src="../../javascripts/fh-structural/components/fh-namepropagator.js"></script>
      
        <script src="../../javascripts/fh-structural/components/flx-navbutton.js"></script>
      
        <script src="../../javascripts/cultures/default_language.js"></script>
      
        <script src="../../javascripts/cultures/es.js"></script>
      
        <script src="../../javascripts/cultures/en.js"></script>
      
    
    <dialog id="navigation-dialog" closedby="any">
      <p class="input-group">
        <label>Your flexys URL:</label>
        <input type="text" id="navigation-dialog-flexy-url" value="https://">
      </p>
      <div class="button-container">
        <button class="button" onclick="_nav(document.getElementById('navigation-dialog-flexy-url').value)">Confirm</button>
      </div>
    </dialog>
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": false, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "zoom"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>